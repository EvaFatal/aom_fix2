!function(e){"use strict";var t=function(){return Et.__string_rec(this,"")};function s(t,e){function s(){}s.prototype=t;var i,n=new s;for(i in e)n[i]=e[i];return e.toString!==Object.prototype.toString&&(n.toString=e.toString),n}function T(){}T.__name__=["AgeOfMath"],T.main=function(){w.start(),m.start("ageofmath_html5",800,520,800,520,O.LANDSCAPE),m.onStarted.on(T.app_preload)},T.app_preload=function(){L.addTexture("mainmenu_bg","data/mainmenu_bg.png"),L.addTexture("papyrus","data/papyrus.png"),L.addTexture("atlas0","data/atlas0.png"),L.addTexture("atlas1","data/atlas1.png"),L.addTexture("atlas2","data/atlas2.png"),L.addString("resources","data/resources.xml"),L.addTexture("ep_0","data/ep_0.png"),L.addString("ep_0","data/ep_0.aom"),L.addTexture("ep_1","data/ep_1.png"),L.addString("ep_1","data/ep_1.aom"),L.addTexture("ep_2","data/ep_2.png"),L.addString("ep_2","data/ep_2.aom"),L.addTexture("ep_3","data/ep_3.png"),L.addString("ep_3","data/ep_3.aom"),L.addTexture("game_font","data/game_font.png"),L.addString("game_font","data/game_font.fnt"),L.addSound("transition_in","sounds/transition_in.mp3"),L.addSound("transition_out","sounds/transition_out.mp3"),L.addSound("throw_0","sounds/throw_0.mp3"),L.addSound("throw_1","sounds/throw_1.mp3"),L.addSound("reload","sounds/reload.mp3"),L.addSound("impact","sounds/impact.mp3"),L.addSound("collect","sounds/collect.mp3"),L.addSound("collect_last","sounds/collect_last.mp3"),L.addSound("ankh","sounds/ankh.mp3"),L.addSound("break","sounds/break.mp3"),L.addSound("burn","sounds/burn.mp3"),L.addSound("move","sounds/move.mp3"),L.addSound("button_end","sounds/click.mp3"),L.addSound("win","sounds/win.mp3"),L.addSound("e_switch","sounds/e_switch.mp3"),L.addSound("e_gate","sounds/e_gate.mp3"),L.addSound("e_cut","sounds/e_cut.mp3"),L.addSound("e_bounce","sounds/e_bounce.mp3"),L.addSound("e_pillar","sounds/e_pillar.mp3"),L.addSound("e_portal","sounds/e_portal.mp3"),L.addSound("happy_0","sounds/happy_0.mp3"),L.addSound("happy_1","sounds/happy_1.mp3"),L.addSound("happy_2","sounds/happy_2.mp3"),L.addSound("happy_3","sounds/happy_3.mp3"),L.addSound("happy_4","sounds/happy_4.mp3"),L.addSound("happy_5","sounds/happy_5.mp3"),L.addSound("happy_6","sounds/happy_6.mp3"),L.addSound("happy_7","sounds/happy_7.mp3"),L.addSound("happy_8","sounds/happy_8.mp3"),L.addSound("happy_9","sounds/happy_9.mp3"),L.addSound("happy_10","sounds/happy_10.mp3"),L.addSound("sad_0","sounds/sad_0.mp3"),L.addSound("sad_1","sounds/sad_1.mp3"),L.addSound("sad_2","sounds/sad_2.mp3"),L.addSound("ep0","sounds/ep0.mp3"),L.addSound("ep1","sounds/ep1.mp3"),L.addSound("ep2","sounds/ep2.mp3"),L.addSound("ep3","sounds/ep3.mp3"),L.addSound("main","sounds/main.mp3"),L.addSound("fail","sounds/fail.mp3"),L.addSound("cut_0","sounds/cut_0.mp3"),L.addSound("cut_1","sounds/cut_1.mp3"),L.addSound("cut_2","sounds/cut_2.mp3"),L.addSound("cut_end","sounds/cut_end.mp3"),w.preload(T.app_start)},T.app_start=function(){T.progress_load(),T.gfx=new ne(L.getString("resources",!0)),N.createMixerChannel("voice",!1,!1),N.base_channels[3].set_fadeTime(.2),new ae("game_font",L.getTexture("game_font"),L.getString("game_font"),!0),m.addTransition("aom",new q,!0),m.addTransition("fade",new we(16777215,.5)),m.addScreen("MainMenu",ke),m.addScreen("Cutscene",Ae),m.addScreen("GameScreen",Ce),m.addScreen("EndGame",Se),m.setScreen("MainMenu","fade","fade")},T.progress_load=function(){for(var t=m.platform.get_storage().get("progress","0,-1,-1,-1").split(","),e=t.length;-1<--e;)T.progress[e]=H.parseInt(t[e]);for(var s=m.platform.get_storage().get("complete","0, 0, 0, 0").split(","),i=s.length;-1<--i;)T.complete[i]="1"==s[i];T.showCutscene=m.platform.get_storage().getb("show_cutscene",!0)},T.progress_save=function(){for(var t="",e="",s=-1;++s<4;)t+=(0==s?"":",")+T.progress[s],e+=(0==s?"":",")+(T.complete[s]?1:0);m.platform.get_storage().set("progress",t),m.platform.get_storage().set("complete",e),m.platform.get_storage().set("show_cutscene",T.showCutscene?"1":"0"),m.platform.get_storage().save()},T.progress_clear=function(){m.platform.get_storage().clear(),T.progress_load()};var i=function(){};function n(){this.h={__keys__:{}}}function E(){}function a(t,e,s,i,n,r){null==r&&(r=0),null==n&&(n=0),null==i&&(i=1),null==s&&(s=1),null==e&&(e=0),null==t&&(t=0),this.bounds=new oe,this.c_mat=new _e,this.c_skewX=this.c_skewY=this.c_deg=this.c_rad=0,this.c_w=this.c_h=0,this.transform(t,e,s,i,n,r)}function _(t,e,s,i,n,r){null==r&&(r=0),null==n&&(n=0),null==i&&(i=1),null==s&&(s=1),null==e&&(e=0),null==t&&(t=0),a.call(this,t,e,s,i,n,r),this.isColored=!1,this.c_vis=!0,this.c_a=1,this.c_sciss=null}function d(t,e,s,i,n,r){null==r&&(r=0),null==n&&(n=0),null==i&&(i=1),null==s&&(s=1),null==e&&(e=0),null==t&&(t=0),_.call(this,t,e,s,i,n,r),this.isAdded=this.isTouched=this.isOver=!1,this.c_touchable=!0,this.pointer=new $}function A(t,e,s,i,n,r,a,_,o){null==o&&(o=0),null==_&&(_=0),null==a&&(a=1),null==r&&(r=1),null==n&&(n=0),null==i&&(i=0),null==e&&(e=!1),d.call(this,i,n,r,a,_,o),null!=t&&this.set_current_anim(t),this.c_ticker=null==s?e?m.ticker:F.get_ticker():s}function r(t,e){null==e&&(e=!1),null==t&&(t=!1),this.c_enabled=t,this.c_once=e,this.clear()}i.__name__=["haxe","IMap"],i.prototype={__class__:i},n.__name__=["haxe","ds","ObjectMap"],n.__interfaces__=[i],n.prototype={set:function(t,e){var s=t.__id__||(t.__id__=++n.count);this.h[s]=e,this.h.__keys__[s]=t},get:function(t){return this.h[t.__id__]},remove:function(t){t=t.__id__;return null!=this.h.__keys__[t]&&(delete this.h[t],delete this.h.__keys__[t],!0)},keys:function(){var t,e=[];for(t in this.h.__keys__)this.h.hasOwnProperty(t)&&e.push(this.h.__keys__[t]);return S.iter(e)},__class__:n},E.__name__=["Animate"],E.create_tween=function(t,e,s,i,n){E.remove(t);n=new Zt(t,e,s,i,n);return E.g_base.set(t,n),n},E.remove=function(t){var e=E.g_base.h[t.__id__];null!=e&&(e.dispose(),E.g_base.remove(t))},E.event_clear=function(){for(var t=null,e=E.g_base.keys();e.hasNext();){var s=e.next();(t=E.g_base.h[s.__id__]).get_ticker().isGlobal||t.dispose()}},a.__name__=["playware","graphics","TransformObject"],a.prototype={transform:function(t,e,s,i,n,r){null==r&&(r=0),null==n&&(n=0),null==i&&(i=1),null==s&&(s=1),null==e&&(e=0),null==t&&(t=0),this.c_x=t,this.c_y=e,this.c_scaleX=s,this.c_scaleY=i,this.c_pivotX=n,this.c_pivotY=r,this.apply_transform()},pos:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_x=t,this.c_y=e,this.apply_transform()},scale:function(t,e){null==e&&(e=1),null==t&&(t=1),this.c_scaleX=t,this.c_scaleY=e,this.apply_transform()},size:function(t,e){this.c_scaleX=t/this.c_w,this.c_scaleY=e/this.c_h,this.apply_transform()},skew:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_skewX=t,this.c_skewY=e,this.apply_transform()},pivot:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_pivotX=t,this.c_pivotY=e,this.apply_transform()},anchor:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_pivotX=this.c_w*t,this.c_pivotY=this.c_h*e,this.apply_transform()},apply_transform:function(){var t,e,s,i,n,r;0==this.c_skewX&&0==this.c_skewY?0==this.c_rad?this.c_mat.set(this.c_scaleX,0,0,this.c_scaleY,this.c_x-this.c_pivotX*this.c_scaleX,this.c_y-this.c_pivotY*this.c_scaleY):(r=Math.cos(this.c_rad),n=Math.sin(this.c_rad),t=this.c_scaleX*r,e=this.c_scaleX*n,s=this.c_scaleY*-n,i=this.c_scaleY*r,n=this.c_x-this.c_pivotX*t-this.c_pivotY*s,r=this.c_y-this.c_pivotX*e-this.c_pivotY*i,this.c_mat.set(t,e,s,i,n,r)):(this.c_mat.set(),this.c_mat.scale(this.c_scaleX,this.c_scaleY),this.c_mat.skew(this.c_skewX,this.c_skewY),this.c_mat.set_rad(this.c_rad),this.c_mat.translate(this.c_x,this.c_y),0==this.c_pivotX&&0==this.c_pivotY||(this.c_mat.e=this.c_x-this.c_mat.a*this.c_pivotX-this.c_mat.c*this.c_pivotY,this.c_mat.f=this.c_y-this.c_mat.b*this.c_pivotX-this.c_mat.d*this.c_pivotY)),this.update_bounds()},update_bounds:function(){this.bounds.set(0,0,this.c_w,this.c_h),this.bounds.transform(this.c_mat)},event_transform:function(){null!=this.e_transform&&this.e_transform.dispatch(!1,!1)},get_onTransform:function(){return null==this.e_transform&&(this.e_transform=new o),this.e_transform},get_mat:function(){return this.c_mat},set_mat:function(t){var e=.7853981633974483;return this.c_mat.set(t.a,t.b,t.c,t.d,t.e,t.f),this.c_pivotX=this.c_pivotY=0,this.c_x=t.e,this.c_y=t.f,this.c_skewX=Math.atan(-t.c/t.d),this.c_skewY=Math.atan(t.b/t.a),this.c_scaleX=this.c_skewY>-e&&this.c_skewY<e?t.a/Math.cos(this.c_skewY):t.b/Math.sin(this.c_skewY),this.c_scaleY=this.c_skewX>-e&&this.c_skewX<e?t.d/Math.cos(this.c_skewX):-t.c/Math.sin(this.c_skewX),this.c_skewX-1e-4<this.c_skewY&&this.c_skewX+1e-4>this.c_skewY?(this.c_rad=this.c_skewX,this.c_skewX=this.c_skewY=0):this.c_rad=0,this.apply_transform(),t},get_x:function(){return this.c_x},set_x:function(t){return t!=this.c_x&&(this.c_x=t,this.apply_transform()),t},get_y:function(){return this.c_y},set_y:function(t){return t!=this.c_y&&(this.c_y=t,this.apply_transform()),t},get_w:function(){return this.c_w*this.c_scaleX},set_w:function(t){var e=t/this.c_w;return e!=this.c_scaleX&&(this.c_scaleX=e,this.apply_transform()),t},get_h:function(){return this.c_h},set_h:function(t){var e=t/this.c_h;return e!=this.c_scaleY&&(this.c_scaleY=e,this.apply_transform()),t},get_scaleX:function(){return this.c_scaleX},set_scaleX:function(t){return t!=this.c_scaleX&&(this.c_scaleX=t,this.apply_transform()),t},get_scaleY:function(){return this.c_scaleY},set_scaleY:function(t){return t!=this.c_scaleY&&(this.c_scaleY=t,this.apply_transform()),t},get_skewX:function(){return this.c_skewX},set_skewX:function(t){return(t=k.normalize_rad(t))!=this.c_skewX&&(this.c_skewX=t,this.apply_transform()),t},get_skewY:function(){return this.c_skewY},set_skewY:function(t){return(t=k.normalize_rad(t))!=this.c_skewY&&(this.c_skewY=t,this.apply_transform()),t},get_pivotX:function(){return this.c_pivotX},set_pivotX:function(t){return t!=this.c_pivotX&&(this.c_pivotX=t,this.apply_transform()),t},get_pivotY:function(){return this.c_pivotY},set_pivotY:function(t){return t!=this.c_pivotY&&(this.c_pivotY=t,this.apply_transform()),t},get_deg:function(){return this.c_deg},set_deg:function(t){return(t=k.normalize_deg(t))!=this.c_deg&&(this.c_deg=t,this.c_rad=t/180*3.141592653589793,this.apply_transform()),t},get_rad:function(){return this.c_rad},set_rad:function(t){return(t=k.normalize_rad(t))!=this.c_rad&&(this.c_rad=t,this.c_deg=t/3.141592653589793*180,this.apply_transform()),t},__class__:a,__properties__:{set_rad:"set_rad",get_rad:"get_rad",set_deg:"set_deg",get_deg:"get_deg",set_pivotY:"set_pivotY",get_pivotY:"get_pivotY",set_pivotX:"set_pivotX",get_pivotX:"get_pivotX",set_skewY:"set_skewY",get_skewY:"get_skewY",set_skewX:"set_skewX",get_skewX:"get_skewX",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_h:"set_h",get_h:"get_h",set_w:"set_w",get_w:"get_w",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_mat:"set_mat",get_mat:"get_mat",get_onTransform:"get_onTransform"}},_.__name__=["playware","graphics","RenderObject"],_.__super__=a,_.prototype=s(a.prototype,{draw:function(t){},render:function(t,e,s){this.c_vis&&0!=this.c_a&&(t.save(),this.c_a<1&&t.adjustAlpha(this.c_a),t.transform(this.c_mat.a,this.c_mat.b,this.c_mat.c,this.c_mat.d,this.c_mat.e+e,this.c_mat.f+s),null!=this.c_sciss&&t.setScissor(0|this.c_sciss.x,0|this.c_sciss.y,0|this.c_sciss.w,0|this.c_sciss.h),this.isColored&&t.setColor(),this.draw(t),t.restore())},event_vischange:function(){null!=this.e_vischange&&this.e_vischange.dispatch(!1,!1)},get_onVisChange:function(){return null==this.e_vischange&&(this.e_vischange=new o),this.e_vischange},get_isVisible:function(){return this.c_vis},set_isVisible:function(t){return t!=this.c_vis&&(this.c_vis=t,this.event_vischange()),t},get_alpha:function(){return this.c_a},set_alpha:function(t){return t<0?t=0:1<t&&(t=1),t!=this.c_a&&(this.c_a=t,this.event_vischange()),t},get_scissor:function(){return this.c_sciss},set_scissor:function(t){return null==t?this.c_sciss=null:null==this.c_sciss?this.c_sciss=new oe(t.x,t.y,t.w,t.h):this.c_sciss.copyFrom(t)&&this.event_vischange(),t},__class__:_,__properties__:s(a.prototype.__properties__,{set_scissor:"set_scissor",get_scissor:"get_scissor",set_alpha:"set_alpha",get_alpha:"get_alpha",set_isVisible:"set_isVisible",get_isVisible:"get_isVisible",get_onVisChange:"get_onVisChange"})}),d.__name__=["DisplayObject"],d.__super__=_,d.prototype=s(_.prototype,{dispose:function(){null!=this.parent&&this.parent.removeChild(this,!1),this.event_dispose()},getObjectAt:function(t,e,s){if(!this.c_vis||!this.c_touchable)return null;this.c_mat.inv_transform(t,e,this.pointer);e=null==this.c_sciss?0<=this.pointer.x&&0<=this.pointer.y&&this.pointer.x<this.c_w&&this.pointer.y<this.c_h:this.c_sciss.contains(this.pointer.x,this.pointer.y);return!e&&this.isOver&&this.event_touch_out(),e?this:null},event_added:function(){this.isAdded||(this.isAdded=!0,null!=this.e_added&&this.e_added.dispatch(!1,!1))},event_removed:function(){this.isAdded&&(this.isAdded=!1,null!=this.e_removed&&this.e_removed.dispatch(!1,!1))},event_dispose:function(){null!=this.e_dispose&&this.e_dispose.dispatch(!1,!1)},event_touch_begin:function(){this.isTouched||(this.isTouched=!0,null!=this.e_touch_begin&&this.e_touch_begin.dispatch(!1,!1))},event_touch_move:function(){},event_touch_over:function(){this.isOver||(this.isOver=!0,null!=this.e_over&&this.e_over.dispatch(!1,!1))},event_touch_out:function(){this.isOver&&(this.isOver=this.isTouched=!1,null!=this.e_out&&this.e_out.dispatch(!1,!1))},event_touch_end:function(){this.isTouched&&(this.isTouched=this.isOver=!1,null!=this.e_touch_end&&this.e_touch_end.dispatch(!1,!1),null!=this.e_out&&this.e_out.dispatch(!1,!1))},event_touch_release:function(){this.event_touch_out()},get_onAdded:function(){return null==this.e_added&&(this.e_added=new o),this.e_added},get_onRemoved:function(){return null==this.e_removed&&(this.e_removed=new o),this.e_removed},get_onDispose:function(){return null==this.e_dispose&&(this.e_dispose=new o),this.e_dispose},get_onTouchEnd:function(){return null==this.e_touch_end&&(this.e_touch_end=new o(!1,!1)),this.e_touch_end},get_onOver:function(){return null==this.e_over&&(this.e_over=new o),this.e_over},get_onOut:function(){return null==this.e_out&&(this.e_out=new o),this.e_out},set_isTouchable:function(t){return t||this.event_touch_release(),this.c_touchable=t},__class__:d,__properties__:s(_.prototype.__properties__,{get_onOut:"get_onOut",get_onOver:"get_onOver",get_onTouchEnd:"get_onTouchEnd",get_onDispose:"get_onDispose",get_onRemoved:"get_onRemoved",get_onAdded:"get_onAdded",set_isTouchable:"set_isTouchable"})}),A.__name__=["AnimatedSprite"],A.__super__=d,A.prototype=s(d.prototype,{addAnim:function(t){var e,s,i,n;return(null==this.base||(s=t.name,e=this.base,null==(null!=Ye[s]?e.getReserved(s):e.h[s])))&&(null==this.currentAnim?this.set_current_anim(t):(null==this.base&&(this.base=new pt,i=this.c_anim_name,n=this.currentAnim,s=this.base,null!=Ye[i]?s.setReserved(i,n):s.h[i]=n),i=t.name,n=this.base,null!=Ye[i]?n.setReserved(i,t):n.h[i]=t),!0)},getAnim:function(t,e,s){var i;if(null==e&&(e=!1),null==this.base||(i=this.base,null==(null!=Ye[t]?i.getReserved(t):i.h[t])))return null;if(e){e=this.base;return(null!=Ye[t]?e.getReserved(t):e.h[t]).copy(s)}s=this.base;return null!=Ye[t]?s.getReserved(t):s.h[t]},setAnim:function(t,e){var s;if(null==this.base||(s=this.base,null==(null!=Ye[t]?s.getReserved(t):s.h[t])))return!1;if(t==this.c_anim_name){var i=this.timeline;return i.set_currentFrame(0),i.playFrom(0,i.numFrames-1,e),!1}i=this.timeline;i.c_play=!1,i.set_currentFrame(i.frame_from);i=this.base;this.set_current_anim(null!=Ye[t]?i.getReserved(t):i.h[t]);t=this.timeline;return t.playFrom(0,t.numFrames-1,e),!0},draw:function(t){null!=this.currentAnim&&this.currentAnim.render(t)},update:function(t){null!=this.timeline&&this.timeline.update(t)},update_bounds:function(){null==this.currentAnim?this.bounds.set():this.bounds.copyFrom(this.currentAnim.bounds),this.bounds.transform(this.c_mat)},set_current_anim:function(t){null==(this.currentAnim=t)?(this.c_anim_name=null,this.timeline=null,this.c_w=this.c_h=0):(this.c_anim_name=t.name,this.timeline=t.timeline,this.c_w=t.w,this.c_h=t.h),this.update_bounds()},event_added:function(){this.isAdded||(this.isAdded=!0,null!=this.e_added&&this.e_added.dispatch(!1,!1),this.c_ticker.add(De(this,this.update)))},event_removed:function(){this.isAdded&&(this.isAdded=!1,null!=this.e_removed&&this.e_removed.dispatch(!1,!1),this.c_ticker.remove(De(this,this.update)))},get_currentAnimName:function(){return this.c_anim_name},__class__:A,__properties__:s(d.prototype.__properties__,{get_currentAnimName:"get_currentAnimName"})}),r.__name__=["haxebuilder","Event"],r.prototype={on:function(t,e){null==e||e>this.numListeners?e=this.numListeners:e<0&&(e=0);var s=this.c_base.indexOf(t);return-1==s?(this.c_enabled?(this.c_once||(this.c_base.splice(e,0,t),this.numListeners++),this.execute(t)):(this.c_base.splice(e,0,t),this.numListeners++),!0):(this.c_base.splice(s,1),this.c_base.splice(e,0,t),!1)},off:function(t){t=this.c_base.indexOf(t);return-1!=t&&(this.c_base.splice(t,1),this.numListeners--,!0)},clear:function(){this.c_base=[],this.numListeners=0},dispose:function(){this.c_base=null,this.numListeners=-1},execute_all:function(t){for(var e=-1;++e<this.numListeners;)this.execute(this.c_base[e]);t&&this.clear()},execute:function(t){D.callMethod(t)},__class__:r};var o=function(t,e){null==e&&(e=!1),null==t&&(t=!1),r.call(this,t,e)};o.__name__=["haxebuilder","Event0"],o.__super__=r,o.prototype=s(r.prototype,{dispatch:function(t,e){null==e&&(e=!1),null==t&&(t=!1),this.c_enabled=t,this.c_once=e,this.execute_all(e)},__class__:o});var m=function(){};function u(){}m.__name__=["App"],m.start=function(t,e,s,i,n,r){m.WIDTH=e,m.HEIGHT=s,m.MIN_WIDTH=null==i||e<i?e:i,m.MIN_HEIGHT=null==n||s<n?s:n,m.ticker=new qt(!0,!1),m.local_ticker=new qt(!1,!1),m.root=new jt,m.controls=new Wt,m.default_transition=new j(0),m.base_transitions=new pt,m.base_screens=new pt,m.platform=new Ht(t,e,s,r),m.platform.get_storage().load(),m.renderer=m.platform.get_renderer(),N.init(),z.set(m.platform.getSeed(),0),m.isRunning=!0,m.onStarted.dispatch(!0,!0)},m.pause=function(t){m.isPaused!=t&&(m.isPaused=t,qt.event_pause(t),(t?m.onPause:m.onResume).dispatch(!1,!1))},m.addTransition=function(t,e,s){null==s&&(s=!1);var i=m.base_transitions;null!=Ye[t]?i.setReserved(t,e):i.h[t]=e,s&&(m.default_transition=e)},m.addScreen=function(t,e){var s=m.base_screens;null!=Ye[t]?s.setReserved(t,e):s.h[t]=e},m.setScreen=function(t,e,s){var i,n,r;n=null==e||(i=m.base_transitions,null==(null!=Ye[e]?i.getReserved(e):i.h[e]))?m.default_transition:(n=m.base_transitions,null!=Ye[e]?n.getReserved(e):n.h[e]),r=null==s||(e=m.base_transitions,null==(null!=Ye[s]?e.getReserved(s):e.h[s]))?m.default_transition:(r=m.base_transitions,null!=Ye[s]?r.getReserved(s):r.h[s]);s=m.base_screens,s=U.createInstance(null!=Ye[t]?s.getReserved(t):s.h[t],[]);m.screenName=t,null==m.current?m.init_screen(s,r):n.start(m.current,!1,m.init_screen,[s,r])},m.init_screen=function(t,e){null!=m.current&&(m.root.removeChild(m.current,!0),m.event_clear()),m.current=t,m.root.addChild(m.current),e.start(m.current,!0,null,null)},m.event_update=function(t){var e;m.isRunning&&(qt.event_update(),(e=m.renderer.context).pre_render(),m.root.draw(e),e.post_render())},m.event_resize=function(t,e){var s,i,n=1;e<t?(n=(s=e/m.MIN_HEIGHT)<(i=t/m.MIN_WIDTH)?s:i,m.TOP=.5*(m.HEIGHT-m.MIN_HEIGHT)|0,m.BOTTOM=m.TOP+m.MIN_HEIGHT|0,m.LEFT=.5*(m.WIDTH-t/n)|0,m.RIGHT=m.LEFT+t/n|0):(e*(n=t/m.MIN_WIDTH)>m.MIN_HEIGHT*n&&((i=e/m.MIN_HEIGHT)<n&&(n=i)),m.TOP=.5*(m.HEIGHT-e/n)|0,m.BOTTOM=m.TOP+e/n|0,m.LEFT=.5*(m.WIDTH-m.MIN_WIDTH)|0,m.RIGHT=m.LEFT+m.MIN_WIDTH|0),m.TOP<0&&(m.TOP=0),m.BOTTOM>m.HEIGHT&&(m.BOTTOM=m.HEIGHT),m.LEFT<0&&(m.LEFT=0),m.RIGHT>m.WIDTH&&(m.RIGHT=m.WIDTH),m.CURRENT_WIDTH=m.RIGHT-m.LEFT,m.CURRENT_HEIGHT=m.BOTTOM-m.TOP,null!=m.root&&(m.root.set_scaleX(m.root.set_scaleY(n)),m.root.set_x(.5*(t-m.WIDTH*n)),m.root.set_y(.5*(e-m.HEIGHT*n))),m.onResize.dispatch(!1,!1)},m.event_clear=function(){E.event_clear(),qt.event_clear(),m.local_ticker.clear()},m.event_deactivate=function(t){m.isActive!=!t&&(m.isActive=m.isRunning=!t,N.event_pause(t),(t?m.onDeactivate:m.onActivate).dispatch(!1,!1))},u.__name__=["Const"],u.getRandFact=function(){switch(z.geti()/2147483646<1e-7?32:z.geti()%32){case 1:return"ERATOSTHENES WAS the THIRD LIBRARIAN OF THE\nfamous library of alexandria.";case 2:return"ERATOSTHENES accurately calculated the\ncircumfErence of the earth before it was known\nto be spherical.";case 3:return"The egyptian cross (above)\nis known as an 'ankh'.";case 4:return"THE FIRST STONE PYRAMID - THE DJOSER - was\nconstructed around (approximately) 2667 B.c.";case 5:return"ERATOSTHENES WAS NICKNAMED 'bETA' by his\ncontemporaries, proving himself to be\nsecond best in the world in almost every field.";case 6:return"THE 'ERATOSTHENES CRATER' ON THE MOON IS NAMED\nAFTER THE great mathematician, geographer,\npoet, astronomer and music theorist.";case 7:return"ERATOSTHENES was the first person to use the\nword 'geography' in greek.";case 8:return"ERATOSTHENES invented the discipline of geography\nas we know it today and developed a system of\nlongitude and latitude.";case 9:return"THE PTOLEMAIC EGYPTIAN DYNASTY LASTED 275 YEARS;\nfrom 305 B.C until the roman conquest in 30 b.c.";case 10:return"THE EXACT DATE OF THE LIBRARY OF ALEXANDRIA'S\nBURNING DOWN IS UNKNOWN, AND the MANY THEORIES\nTHAT exist about THE EVENT PAINT An INCONCLUSIVE\nPICTURE.";case 11:return"THE NEW LIBRARY OF ALEXANDRIA - the bibliotheca\nalexandriNa - WAS INAUGuRATED near the site\nwhere it's ancient counterpart once stood.";case 12:return"THE SCROLLS IN THE LIBRARY OF ALEXANDRIA WERE\nMADe OF PAPYRUS; AS THE PRICE OF PAPYRUS ROSE,\nTWO NOMES OF THE NILE DELTA WERE OVER-HARVESTED\nTO LOCAL EXTINCTION.";case 13:return"THe greeks were fascinated by egypt and set\nabout creating extensive historical records\nof the country.";case 14:return"IT WAS DURING THE PTOLEMAIC PEROID THAT THE\nTRI-LINGUAL DECREE WAS INSCRIBED UPON THE\nROSETTA STONE.";case 15:return"THE PTOLEMY KINGDOM WAS FOUNDED bY KING\nPTOLEMY SOTER I after alexander the great's\ndeath in 323 bc.";case 16:return"SCROLLS WERE THE FIRST FORM OF EDITABLE record\nkeeping texts.";case 17:return"THE DEATH OF CLEOPATRA VII in 30 b.c marked the\nend of the ptolemaic period, and the FIRST roman\nEMPERoR octavian claimed egypt as a roman\nprovince.";case 18:return"IT IS BELIEVED THAT DURING THE PTOLEMAIC DYNASTY,\nMANY OF IT's SUBJECTS WERE OBESE; SCULPTURES AND\nCOINS FROM THE PERIOD ALSO DISPLAY SWOLLEN NECKS\nAND PROMINENT EYES.";case 19:return"THE NILE DELTA IS ONE OF THE LARGEST RIVER DELTAS IN\nTHE WORLD, STRETCHING FROM ALEXANDRIA IN THE WEST\nTO PORT SAID IN THE EAST, COVERING 240km OF\nCOASTLINE.";case 20:return"THE NILE DELTA HAS BEEN EXTENSIVELY FARMED FOR AT\nLEAST 5,000 YEARS, AS IT IS AN EXTREMELY RICH\nAGRICULTURAL region.";case 21:return"Nile crocodiles and hippopotamus were frequently\nfound in the nile delta during ancient times,\nhowever they are no longer present.";case 22:return"ALEXANDRIA WAS THE CAPITAL OF EGYPT FROM\n332 B.c until 641 A.d.";case 23:return"'ERATOSTHENES SEAMOUNT' IN THE EASTERN\nMEDITERRANEAN SEA IS NAMED AFTER THE MAN\nHIMSELF.";case 24:return"ERATOSTHENES WAS GOOD FRIENDS WITH\nARCHIMEDES.";case 25:return"AROUND 255 B.C. ERATOSTHENES INVENTED THE\nARMILARRY SPHERE; A MODEL OF CELESTIAL BODIES\nCENTERED ON THE EARTH.";case 26:return"THE LIBRARY'S MAIN PURPOSE WAS TO SHOW OFF THE\nWEALTH OF EGYPT, WITH RESEARCH A LESSER GOAL. THE\nLIBRARY'S CONTENTS WERE USED HOWEVER TO AID THE\nRULER OF EGYPT.";case 27:return"ONCE THE FACTS CONTAINED IN THE SCROLLS HAD BEEN\nVERIFIED, CANONICAL COPIES WERE MADE AND SOLD TO\nWEALTHy BIBLIOPHILES, ROYALTY and SCHOLARS\nTHROUGHOUT THE WORLD.";case 28:return"ERATOSTHENES WAS NICKNAMED 'bETA' by his\ncontemporaries, proving himself to be\nsecond best in the world in almost every field.";case 29:return"ERATOSTHENES became blind in 195 b.c and DIED in\n194 b.c. aged 82; a considerably long life\nat the time.";case 30:return"THE PTOLEMAIC EGYPTIAN DYNASTY LASTED 275 YEARS;\nfrom 305 B.C until the roman conquest in 30 b.c.";case 31:return"NATIVE REBELLIONs, FOREIGN CONFLICT AND CIVIL WARS\nALL CONTRIBUTED TO THE DOWNFALL OF THE PTOLEMAIC\nKINGDOM and it's eventual annexation by rome.";case 32:return"THE GAME CALLED 'PLAGUE WEEK' WAS NOT MADE BY\nERATOSTHENES OR PTOLEMAIC EGYPTIAN DYNASTY.";default:return"ERATOSTHENES WAS BORN C.276 BC IN CYRENE -\nMODERN DAY LIBYA - DURING THE PTOLEMAIC ERA."}};var p={__ename__:!0,__constructs__:["UP","DOWN","LEFT","RIGHT","CENTER","UP_LEFT","UP_RIGHT","DOWN_LEFT","DOWN_RIGHT"],UP:["UP",0]};function c(t,e,s,i,n,r){null==r&&(r=0),null==n&&(n=0),null==i&&(i=1),null==s&&(s=1),null==e&&(e=0),null==t&&(t=0),d.call(this,t,e,s,i,n,r),this.children=[],this.c_func_sort=null,this.numChildren=0,this.c_touchgroup=!1}function h(t,e){this.r=new RegExp(t,e.split("u").join(""))}function l(){}function f(t,e,s,i,n,r,a,_,o){null==o&&(o=0),null==_&&(_=0),null==a&&(a=1),null==r&&(r=1),null==n&&(n=0),null==i&&(i=0),d.call(this,i,n,r,a,_,o),this.c_col=t,this.c_w=0<=e?e:-1*e,this.c_h=0<=s?s:-1*s,this.update_bounds()}p.UP.toString=t,(p.UP.__enum__=p).DOWN=["DOWN",1],p.DOWN.toString=t,(p.DOWN.__enum__=p).LEFT=["LEFT",2],p.LEFT.toString=t,(p.LEFT.__enum__=p).RIGHT=["RIGHT",3],p.RIGHT.toString=t,(p.RIGHT.__enum__=p).CENTER=["CENTER",4],p.CENTER.toString=t,(p.CENTER.__enum__=p).UP_LEFT=["UP_LEFT",5],p.UP_LEFT.toString=t,(p.UP_LEFT.__enum__=p).UP_RIGHT=["UP_RIGHT",6],p.UP_RIGHT.toString=t,(p.UP_RIGHT.__enum__=p).DOWN_LEFT=["DOWN_LEFT",7],p.DOWN_LEFT.toString=t,(p.DOWN_LEFT.__enum__=p).DOWN_RIGHT=["DOWN_RIGHT",8],p.DOWN_RIGHT.toString=t,p.DOWN_RIGHT.__enum__=p,c.__name__=["DisplayContainer"],c.__super__=d,c.prototype=s(d.prototype,{render:function(t,e,s){if(this.c_vis&&0!=this.c_a){t.save(),this.c_a<1&&t.adjustAlpha(this.c_a),t.transform(this.c_mat.a,this.c_mat.b,this.c_mat.c,this.c_mat.d,this.c_mat.e+e,this.c_mat.f+s),null!=this.c_sciss&&t.setScissor(0|this.c_sciss.x,0|this.c_sciss.y,0|this.c_sciss.w,0|this.c_sciss.h),null!=this.c_func_sort&&this.children.sort(this.c_func_sort);for(var i=-1;++i<this.numChildren;)this.children[i].render(t,0,0);t.restore()}},update_bounds:function(){if(this.bounds.set(),this.c_w=this.c_h=0,null!=this.children&&0!=this.numChildren){if(1==this.numChildren)this.bounds.copyFrom(this.children[0].bounds);else for(var t,e=-1;++e<this.numChildren;)t=this.children[e].bounds,this.bounds.expand(t);this.c_w=0|this.bounds.w,this.c_h=0|this.bounds.h,this.bounds.transform(this.c_mat)}},getObjectAt:function(t,e,s){if(!this.c_vis||!this.c_touchable)return null;if(this.c_mat.inv_transform(t,e,this.pointer),null!=this.c_sciss&&!this.c_sciss.contains(this.pointer.x,this.pointer.y))return null;for(var i,n=this.numChildren;-1<--n;)if(null!=(i=this.children[n].getObjectAt(this.pointer.x,this.pointer.y,s)))return this.c_touchgroup?this:i;return null},getObjectsAt:function(t,e){if(null==e&&(e=[]),!this.c_vis)return e;for(var s,i=e.length,n=-1;++n<this.numChildren;)s=this.children[n],t.intersects(s.bounds)&&(e[i++]=s);return null!=this.c_func_sort&&e.sort(this.c_func_sort),e},addChild:function(t){return this.addChildAt(t,this.numChildren)},addChildAt:function(t,e){return e<0?e=0:e>this.numChildren&&(e=this.numChildren),t.parent==this?this.setChildIndex(t,e):(null!=t.parent&&t.parent.removeChild(t,!1),this.children.splice(e,0,t),(t.parent=this).numChildren++,this.isAdded&&t.event_added(),this.update_bounds(),this.event_vischange()),t},removeChild:function(t,e){null==e&&(e=!1);var s=this.children.indexOf(t);return-1==s?t:this.removeChildAt(s,e)},removeChildAt:function(t,e){null==e&&(e=!1),t<0&&(t=this.numChildren+t);var s=this.children[t];return null!=s&&(s.event_removed(),s.parent=null,this.children.splice(t,1),this.numChildren--,e&&s.dispose(),this.update_bounds(),this.event_vischange()),s},setChildIndex:function(t,e){var s=this.children.indexOf(t);s!=e&&-1!=s&&(this.children.splice(s,1),this.children.splice(e,0,t))},event_touch_release:function(){if(this.c_touchgroup)this.event_touch_out();else for(var t=this.numChildren;-1<--t;)this.children[t].event_touch_release()},event_added:function(){if(!this.isAdded){this.isAdded=!0,null!=this.e_added&&this.e_added.dispatch(!1,!1);for(var t=-1;++t<this.numChildren;)this.children[t].event_added()}},event_removed:function(){if(this.isAdded){this.isAdded=!1,null!=this.e_removed&&this.e_removed.dispatch(!1,!1);for(var t=-1;++t<this.numChildren;)this.children[t].event_removed()}},event_dispose:function(){null!=this.e_dispose&&this.e_dispose.dispatch(!1,!1);for(var t=this.numChildren;-1<--t;)this.children[t].dispose();this.children=null},__class__:c}),h.__name__=["EReg"],h.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},__class__:h},l.__name__=["Ease"],l.line=function(t){return t},l.bounce_o=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-.5454545454545454)*(t-.5454545454545454)+.75:t<.9090909090909091?7.5625*(t-.8181818181818182)*(t-.8181818181818182)+.9375:7.5625*(t-.9545454545454546)*(t-.9545454545454546)+.984375},l.back_o=function(t){return 1- --t*t*(-2.70158*t-1.70158)},l.elas_o=function(t){return Math.pow(2,-10*t)*Math.sin(6.28318530718*(t-.06366197723675394*Math.asin(1))/.4)+1},f.__name__=["FillRect"],f.__super__=d,f.prototype=s(d.prototype,{draw:function(t){0!=this.c_w&&0!=this.c_h&&t.drawRect(this.c_col,0,0,this.c_w,this.c_h)},get_w:function(){return this.c_w},set_w:function(t){var e=0|t;return e!=this.c_w&&(this.c_w=e,this.event_vischange()),t},get_h:function(){return this.c_h},set_h:function(t){var e=0|t;return e!=this.c_h&&(this.c_h=e,this.event_vischange()),t},__class__:f});var S=function(){};function v(){this.length=0}S.__name__=["HxOverrides"],S.strDate=function(t){switch(t.length){case 8:var e=t.split(":"),s=new Date;return s.setTime(0),s.setUTCHours(e[0]),s.setUTCMinutes(e[1]),s.setUTCSeconds(e[2]),s;case 10:var i=t.split("-");return new Date(i[0],i[1]-1,i[2],0,0,0);case 19:s=t.split(" "),i=s[0].split("-"),s=s[1].split(":");return new Date(i[0],i[1]-1,i[2],s[0],s[1],s[2]);default:throw new Tt("Invalid date format : "+t)}},S.cca=function(t,e){e=t.charCodeAt(e);if(e==e)return e},S.substr=function(t,e,s){if(null==s)s=t.length;else if(s<0){if(0!=e)return"";s=t.length+s}return t.substr(e,s)},S.remove=function(t,e){e=t.indexOf(e);return-1!=e&&(t.splice(e,1),!0)},S.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}},v.__name__=["List"],v.prototype={add:function(t){t=new g(t,null);null==this.h?this.h=t:this.q.next=t,this.q=t,this.length++},__class__:v};var g=function(t,e){this.item=t,this.next=e};g.__name__=["_List","ListNode"],g.prototype={__class__:g},Math.__name__=["Math"];var w=function(){};w.__name__=["MathGames"],w.preload=function(t){new x(t)},w.start=function(t,e){if(null==e&&(e=!1),!w.isStarted){w.isStarted=!0,null==t&&(t="528e1abeb4967cb32b00028e"),w.instance=MathGamesAPI.getInstance({wrapper:window.document.getElementById("mathgames-api-wrapper"),api_key:t,debug:e}),w.updateColorConfig(),w.roots=[];for(var s=5;-1<--s;)w.roots[s]=new Ut(null,-1)}},w.selectSkill=function(t,e){m.root.set_isTouchable(!1);var s=function(){m.root.set_isTouchable(!0),w.instance.off(w.isSkillSelected?C.SKILL_CHANGED:C.SKILL_SELECTED,s),w.isSessionStarted?D.callMethod(t,e):w.startSession(t,e),w.isSkillSelected=!0,w.hasQuestion&&(w.hasQuestion=!1,w.getQuestion())};w.instance.on(w.isSkillSelected?C.SKILL_CHANGED:C.SKILL_SELECTED,s),w.instance.selectSkill({pool_key:"COMPLETE"})},w.startSession=function(t,e){var s=function(){w.instance.off(C.SESSION_READY,s),D.callMethod(t,e),w.isSessionStarted=!0};w.isSessionStarted?D.callMethod(t,e):(w.instance.on(C.SESSION_READY,s),w.instance.startSession())},w.getQuestion=function(){if(!w.hasQuestion){w.hasQuestion=!0;for(var t=w.instance.getQuestion(w.question_config),e=4;-1<--e;)w.roots[e].base64(t.choices[e]);w.roots[4].base64(t.display)}},w.answerQuestion=function(t){return!!w.hasQuestion&&(w.hasQuestion=!1,w.instance.answerQuestion(t))},w.showAvailableStandards=function(){w.instance.showAvailableStandards()},w.showStats=function(){w.instance.showProgress()},w.getQuestionGraphics=function(t,e){return null==e&&(e=80),null==t&&(t=440),new y(4,t,e)},w.getAnswerGraphics=function(t,e,s,i){return null==s&&(s=80),null==e&&(e=80),new y(t,e,s,i)},w.updateColorConfig=function(){w.question_config={colors:{question:w.question_color,choices:w.answer_colors}}};var b=function(t,e,s,i,n,r,a){null==r&&(r=80),null==n&&(n=80),null==i&&(i=0),null==s&&(s=0);var _=.5*e.w,o=.5*e.h;d.call(this,s,i,1,1,_,o),this.c_w=e.w,this.c_h=e.h,this.button_id=t,this.button_func=a,this.body=new fe(e,_,o,1,1,_,o),this.answ=w.getAnswerGraphics(t,n,r,null),this.answ.pos(_,o),this.get_onTouchEnd().on(De(this,this.button_click)),this.get_onOver().on(De(this,this.button_over)),this.get_onOut().on(De(this,this.button_out))};b.__name__=["_MathGames","MathButton"],b.__super__=d,b.prototype=s(d.prototype,{button_click:function(){var t=m.ticker;E.create_tween(this,this,t,!0,!0).tween(.01,{scaleX:1,scaleY:1}),null!=this.button_func&&this.button_func(this.button_id),N.play("click",1,!1,0)},button_over:function(){var t=m.ticker;E.create_tween(this,this,t,!0,!0).tween(.2,{scaleX:1.1,scaleY:1.1}),N.play("over",1,!1,0)},button_out:function(){var t=m.ticker;E.create_tween(this,this,t,!0,!0).tween(.2,{scaleX:1,scaleY:1}),N.play("out",1,!1,0)},draw:function(t){this.body.render(t,0,0),this.answ.render(t,0,0)},__class__:b});var y=function(t,e,s,i){d.call(this),this.c_id=t,this.c_click=i,this.set_isTouchable(t<4),this.asset=w.roots[t],this.texture=this.asset.texture,this.anchor_x=this.anchor_y=.5,this.max_w=e,this.max_h=s,this.asset.get_onReloaded().on(De(this,this.update_graphics),0),this.update_graphics()};y.__name__=["_MathGames","MathGraphics"],y.__super__=d,y.prototype=s(d.prototype,{update_graphics:function(){this.c_w=this.texture.w,this.c_h=this.texture.h,this.c_pivotX=this.c_w*this.anchor_x,this.c_pivotY=this.c_h*this.anchor_y,this.c_scaleX=this.max_w/this.c_w,this.c_scaleY=this.max_h/this.c_h;var t=this.c_scaleX,e=this.c_scaleY;this.c_scaleX=this.c_scaleY=t<e?t:e,this.apply_transform()},draw:function(t){var e;0!=this.c_w&&0!=this.c_h&&(4==this.c_id?((e=t).save(),e.drawTexture(this.texture,0,0,0,0,this.c_w,this.c_h),e.restore()):t.drawTexture(this.texture,0,10,0,0,this.c_w,this.c_h))},dispose:function(){this.asset.get_onReloaded().off(De(this,this.update_graphics)),d.prototype.dispose.call(this)},event_touch_end:function(){this.isTouched&&(this.isTouched=this.isOver=!1,null!=this.e_touch_end&&this.e_touch_end.dispatch(!1,!1),null!=this.c_click&&this.c_click(this.c_id))},__class__:y});var x=function(t){c.call(this),this.c_func=t,this.build()};x.__name__=["_MathGames","MathPreloader"],x.__super__=c,x.prototype=s(c.prototype,{build:function(){var s=this;L.addTexture("mathpreloader_bg","data/ZRTGU","mathpreloader"),L.addTexture("mathpreloader_logo","data/ZRTGT","mathpreloader"),L.loadAssetPack("mathpreloader",function(){var t=new R(L.getTexture("mathpreloader_bg"),m.WIDTH,m.HEIGHT);s.addChild(t);var e=new P(L.getTexture("mathpreloader_logo"),.5*m.WIDTH,.5*m.HEIGHT,.75,.75);e.anchor(.5,.5),s.addChild(e);t=new f(15066597,m.WIDTH-60,24,30,m.BOTTOM-34);s.addChild(t);e=m.WIDTH-60,t=t.get_y();s.c_bar=new f(8684676,e,24,30,t,.001),s.addChild(s.c_bar),m.root.addChild(s),new B(.1,0,L.load,[De(s,s.complete),De(s,s.progress)],!0,null,!0,!0)})},progress:function(t){var e=this.c_bar,s=m.ticker;E.create_tween(e,e,s,!0,!0).tween(.2,{scaleX:t})},complete:function(){m.root.removeChild(this),L.removeAssetPack("mathpreloader"),null!=this.c_func&&this.c_func(),this.dispose()},__class__:x});var C={__ename__:!0,__constructs__:["SESSION_READY","SKILL_SELECTED","SKILL_CHANGED","PROGRESS_CLOSED","AVERAGE_TIME_CHANGE","AVAILABLE_STANDARDS_CLOSED","ERROR"],SESSION_READY:["SESSION_READY",0]};C.SESSION_READY.toString=t,(C.SESSION_READY.__enum__=C).SKILL_SELECTED=["SKILL_SELECTED",1],C.SKILL_SELECTED.toString=t,(C.SKILL_SELECTED.__enum__=C).SKILL_CHANGED=["SKILL_CHANGED",2],C.SKILL_CHANGED.toString=t,(C.SKILL_CHANGED.__enum__=C).PROGRESS_CLOSED=["PROGRESS_CLOSED",3],C.PROGRESS_CLOSED.toString=t,(C.PROGRESS_CLOSED.__enum__=C).AVERAGE_TIME_CHANGE=["AVERAGE_TIME_CHANGE",4],C.AVERAGE_TIME_CHANGE.toString=t,(C.AVERAGE_TIME_CHANGE.__enum__=C).AVAILABLE_STANDARDS_CLOSED=["AVAILABLE_STANDARDS_CLOSED",5],C.AVAILABLE_STANDARDS_CLOSED.toString=t,(C.AVAILABLE_STANDARDS_CLOSED.__enum__=C).ERROR=["ERROR",6],C.ERROR.toString=t,C.ERROR.__enum__=C;var k=function(){};k.__name__=["MathTools"],k.distf=function(t,e,s,i){t=s-t,e=i-e;return Math.sqrt(t*t+e*e)},k.normalize_rad=function(t){return(t%=6.28318530718)<-3.141592653589793&&(t+=6.28318530718),3.141592653589793<t&&(t-=6.28318530718),t},k.normalize_deg=function(t){return(t%=360)<0&&(t+=360),360<t&&(t-=360),t};var O={__ename__:!0,__constructs__:["PORTRAIT","LANDSCAPE","AUTO","AUTO_LOCK"],PORTRAIT:["PORTRAIT",0]};O.PORTRAIT.toString=t,(O.PORTRAIT.__enum__=O).LANDSCAPE=["LANDSCAPE",1],O.LANDSCAPE.toString=t,(O.LANDSCAPE.__enum__=O).AUTO=["AUTO",2],O.AUTO.toString=t,(O.AUTO.__enum__=O).AUTO_LOCK=["AUTO_LOCK",3],O.AUTO_LOCK.toString=t,O.AUTO_LOCK.__enum__=O;var R=function(t,e,s,i,n,r,a,_,o){null==o&&(o=0),null==_&&(_=0),null==a&&(a=1),null==r&&(r=1),null==n&&(n=0),null==i&&(i=0),null==s&&(s=0),null==e&&(e=0),d.call(this,i,n,r,a,_,o),this.c_w=e,this.c_h=s,this.set_texture(t)};R.__name__=["PatternSprite"],R.__super__=d,R.prototype=s(d.prototype,{draw:function(t){null!=this.c_texture&&0<this.c_w&&0<this.c_h&&t.drawPattern(this.get_texture(),0,0,this.c_w,this.c_h)},get_texture:function(){return this.c_texture},set_texture:function(t){return t!=this.c_texture&&(this.c_texture=t,this.event_vischange()),t},get_w:function(){return this.c_w},set_w:function(t){var e=Math.round(t);return e!=this.c_w&&(this.c_w=e,this.event_transform()),t},get_h:function(){return this.c_h},set_h:function(t){var e=Math.round(t);return e!=this.c_h&&(this.c_h=e,this.event_transform()),t},__class__:R,__properties__:s(d.prototype.__properties__,{set_texture:"set_texture",get_texture:"get_texture"})});var z=function(){};function I(){}z.__name__=["Rand"],z.set=function(t,e){null==e&&(e=0),z.id=e,z.seed=t,z.mt=[],z.mt[623]=0,z.mt[0]=t;for(var s=1;s<624;){var i=s++;z.mt[i]=1812433253*(z.mt[i-1]^z.mt[i-1]>>30)+i}for(var n=0;n<624;){var r=n++,a=(1&z.mt[r])+z.mt[(1+r)%624]&2147483647;z.mt[r]=z.mt[(397+r)%624]^a>>1,a%2!=0&&(z.mt[r]=-1727483681^z.mt[r])}},z.geti=function(){var t=z.mt[z.id];return t^=t>>11,t^=t<<7&-1658038656,t^=t<<15&-272236544,t^=t>>18,z.id=(z.id+1)%624,t},I.__name__=["Reflect"],I.field=function(t,e){try{return t[e]}catch(t){return null}},I.getProperty=function(t,e){var s;if(null==t)return null;var i=!!t.__properties__&&(s=t.__properties__["get_"+e]);return i?t[s]():t[e]},I.setProperty=function(t,e,s){var i,n=!!t.__properties__&&(i=t.__properties__["set_"+e]);n?t[i](s):t[e]=s},I.fields=function(t){var e=[];if(null!=t){var s,i=Object.prototype.hasOwnProperty;for(s in t)"__id__"!=s&&"hx__closures__"!=s&&i.call(t,s)&&e.push(s)}return e};var D=function(){};D.__name__=["ReflectTools"],D.callMethod=function(t,e){null!=t&&t.apply(t,e)};var L=function(){};L.__name__=["Res"],L.load=function(t,e){for(var s=null,i=L.base_packs.keys();i.hasNext();){var n=i.next(),r=L.base_packs;(s=null!=Ye[n]?r.getReserved(n):r.h[n]).get_isLoaded()||s.load()}return m.platform.get_loader().start(t,e)},L.loadAssetPack=function(t,e,s){var i=L.base_packs,t=null!=Ye[t]?i.getReserved(t):i.h[t];return null!=t&&t.load(),m.platform.get_loader().start(e,s)},L.getAssetPack=function(t){null==t&&(t="default");var e=L.base_packs,s=null!=Ye[t]?e.getReserved(t):e.h[t];return null==s&&(s=new ee(t),e=L.base_packs,null!=Ye[t]?e.setReserved(t,s):e.h[t]=s),s},L.removeAssetPack=function(t){var e=L.base_packs,e=null!=Ye[t]?e.getReserved(t):e.h[t];return null!=e&&(e.dispose(),L.base_packs.remove(t),!0)},L.addTexture=function(t,e,s){var i=L.base_textures,i=null!=Ye[t]?i.getReserved(t):i.h[t];return(null==i||null==i.info||i.info.path!=e)&&(L.addAsset(t,e,se.TEXTURE,s),!0)},L.getTexture=function(t){var e=L.base_textures,e=null!=Ye[t]?e.getReserved(t):e.h[t];return null==e?(m.platform.message("ERROR : Texture asset with name '"+t+"' does not exist!"),null):e.texture},L.setTexture=function(t,e,s){null==s&&(s=!0);var i=L.base_textures;if(null!=(null!=Ye[t]?i.getReserved(t):i.h[t])){if(!s)return!1;L.removeTexture(t,!0)}s=L.base_textures;return null!=Ye[t]?s.setReserved(t,e):s.h[t]=e,null!=e.info&&(e.info.name=t),!0},L.removeTexture=function(t,e){null==e&&(e=!0);var s=L.base_textures,s=null!=Ye[t]?s.getReserved(t):s.h[t];return null!=s&&e&&s.dispose(),L.base_textures.remove(t)},L.addString=function(t,e,s,i){null==i&&(i=!0);var n=L.base_string;return!(null!=(null!=Ye[t]?n.getReserved(t):n.h[t])&&!i)&&(L.addAsset(t,e,se.STRING,s),!0)},L.getString=function(t,e){null==e&&(e=!0);var s=L.base_string,s=null!=Ye[t]?s.getReserved(t):s.h[t];return e&&L.base_string.remove(t),null==s&&m.platform.message("ERROR : String asset with name '"+t+"' does not exist!"),s},L.setString=function(t,e,s){null==s&&(s=!0);var i=L.base_string;if(null!=(null!=Ye[t]?i.getReserved(t):i.h[t])&&!s)return!1;s=L.base_string;return null!=Ye[t]?s.setReserved(t,e):s.h[t]=e,!0},L.addSound=function(t,e,s){var i=L.base_sounds,i=null!=Ye[t]?i.getReserved(t):i.h[t];return(null==i||null==i.info||i.info.path!=e)&&(L.addAsset(t,e,se.SOUND,s),!0)},L.setSound=function(t,e,s){null==s&&(s=!0);var i=L.base_sounds;if(null!=(null!=Ye[t]?i.getReserved(t):i.h[t])){if(!s)return!1;L.removeSound(t,!0)}s=L.base_sounds;return null!=Ye[t]?s.setReserved(t,e):s.h[t]=e,null!=e.info&&(e.info.name=t),!0},L.removeSound=function(t,e){null==e&&(e=!0);var s=L.base_sounds,s=null!=Ye[t]?s.getReserved(t):s.h[t];return null!=s&&e&&s.dispose(),L.base_sounds.remove(t)},L.addAsset=function(t,e,s,i){i=L.getAssetPack(i),s=new te(t,e,s);i.add(s)};var N=function(){};N.__name__=["SFX"],N.init=function(){N.base_sounds=L.base_sounds,N.base_volume=new pt;for(var t=m.platform.get_storage().get("mixer_volume","master,1.0,0;sound,1.0,0;music,1.0,0").split(";"),e=t.length;-1<--e;){n=t[e].split(",");var s=N.base_volume,i={vol:parseFloat(n[1]),mute:1==H.parseInt(n[2])},s=s,n=n[0];null!=Ye[n]?s.setReserved(n,i):s.h[n]=i}m.onExit.on(N.event_save,0),N.base_channels=[],N.createMixerChannel("master",!0,!0),N.createMixerChannel("sound",!1,!0),N.createMixerChannel("music",!1,!1)},N.createMixerChannel=function(t,e,s){null==s&&(s=!0),null==e&&(e=!1);var i=N.numChannels++,e=new ve(e,s);e.name=t,e.id=i,N.base_channels[i]=e;s=N.base_volume,t=null!=Ye[t]?s.getReserved(t):s.h[t];return null!=t&&(e.set_vol(t.vol),e.mute(t.mute)),i},N.muteChannels=function(t){for(var e=N.numChannels;-1<--e;)N.base_channels[e].mute(t)},N.play=function(t,e,s,i,n,r){null==s&&(s=!1),null==e&&(e=1);var a=N.base_sounds,t=null!=Ye[t]?a.getReserved(t):a.h[t];return(null==i||i>=N.numChannels?N.base_channels[1]:N.base_channels[i]).play(t,e,s,n,r)},N.stopChannel=function(t){t=N.base_channels[t];return null!=t&&(t.stop(),!0)},N.event_save=function(){for(var t="",e=N.base_channels.length,s=null;-1<--e;)t+=(""==t?"":";")+(s=N.base_channels[e]).name+","+s.get_vol()+","+(s.isMuted?1:0);m.platform.get_storage().set("mixer_volume",t),m.platform.get_storage().save()},N.event_pause=function(t){for(var e=null,s=N.numChannels;-1<--s;)(e=N.base_channels[s]).isGlobal||e.event_pause(t)};var F=function(){c.call(this),this.get_onAdded().on(De(this,this.onPreload)),this.get_onRemoved().on(De(this,this.event_screen_change))};function M(){}F.__name__=["Screen"],F.__properties__={get_ticker:"get_ticker"},F.get_ticker=function(){return m.local_ticker},F.__super__=c,F.prototype=s(c.prototype,{event_precache:function(){this.get_onAdded().off(De(this,this.onPreload)),this.onPrecache(),F.get_ticker().add(De(this,this.event_update))},event_update:function(t){var e,s;this.c_shake_state&&(this.c_shake_ampX-=this.c_shake_degX*t,this.c_shake_ampY-=this.c_shake_degY*t,this.c_shake_ampX<0&&this.c_shake_ampY<0?(this.c_shake_state=!1,this.c_x=this.c_y=0):(s=-this.c_shake_ampX,e=this.c_shake_ampX,this.c_x=s+z.geti()/2147483646*(e-s),e=-this.c_shake_ampY,s=this.c_shake_ampY,this.c_y=e+z.geti()/2147483646*(s-e)),this.apply_transform()),this.onUpdate(t)},event_screen_change:function(){F.get_ticker().remove(De(this,this.event_update)),this.onScreenChange()},event_prebuild:function(){this.onPreBuild(),this.event_precache()},onPreload:function(){this.event_prebuild()},onPreBuild:function(){},onPrecache:function(){},onUpdate:function(t){},onScreenChange:function(){},__class__:F}),M.__name__=["Sort"],M.rand=function(t,e){return z.geti()/2147483646<.5?1:-1};var P=function(t,e,s,i,n,r){null==r&&(r=!0),null==n&&(n=1),null==i&&(i=1),null==s&&(s=0),null==e&&(e=0),d.call(this,e,s,i,n,0,0),this.set_useTexturePivot(r),this.set_texture(t)};P.__name__=["Sprite"],P.__super__=d,P.prototype=s(d.prototype,{draw:function(t){null!=this.c_texture&&t.drawTexture(this.c_texture,0,0,0,0,this.c_w,this.c_h)},set_texture:function(t){return t!=this.c_texture&&(null!=(this.c_texture=t)?(this.c_w=this.c_texture.w,this.c_h=this.c_texture.h,this.c_use_pivot&&(this.c_pivotX=this.c_texture.pivotX,this.c_pivotY=this.c_texture.pivotY,this.apply_transform())):this.c_w=this.c_h=0,this.event_vischange()),t},set_useTexturePivot:function(t){return t&&null!=this.c_texture&&(this.c_pivotX=this.c_texture.pivotX,this.c_pivotY=this.c_texture.pivotY,this.apply_transform()),this.c_use_pivot=t},__class__:P,__properties__:s(d.prototype.__properties__,{set_useTexturePivot:"set_useTexturePivot",set_texture:"set_texture"})});var H=function(){};function Y(){this.b=""}function X(){}function G(t,e,s,i,n,r,a,_,o,h,c,l,u){null==u&&(u=0),null==l&&(l=0),null==c&&(c=1),null==h&&(h=1),null==o&&(o=0),null==_&&(_=0),null==r&&(r=!1),null==n&&(n=0),null==i&&(i=0),d.call(this,_,o,h,c,l,u),this.c_font=re.get(t),this.c_text=e,this.c_align=null==s?p.LEFT:s,this.c_ticker=null==a?r?m.ticker:F.get_ticker():a,this.c_w=i,this.c_h=n,this.c_shake=this.c_typing=this.c_back=this.c_touchable=!1,this.c_hor_space=this.c_ver_space=this.c_elapsed=this.c_shake_x=this.c_shake_y=this.c_shake_dx=this.c_shake_dy=0,this.textBounds=new oe,this.numLines=0,this.c_type_speed=20,this.c_type_time=.05,this.c_type_char=0,this.c_back_col=0,this.c_back_a=1,this.c_back_x=this.c_back_y=2,this.c_changed=null!=this.c_text,this.update_layout()}H.__name__=["Std"],H.string=function(t){return Et.__string_rec(t,"")},H.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=S.cca(t,1)&&88!=S.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e},H.random=function(t){return t<=0?0:Math.floor(Math.random()*t)},Y.__name__=["StringBuf"],Y.prototype={__class__:Y},X.__name__=["StringTools"],X.replace=function(t,e,s){return t.split(e).join(s)},G.__name__=["TextField"],G.__super__=d,G.prototype=s(d.prototype,{draw:function(t){if(null!=this.c_font){this.c_changed&&this.update_layout(),this.c_back&&(t.adjustAlpha(this.c_back_a),t.drawRect(this.c_back_col,this.textBounds.x-this.c_back_x|0,this.textBounds.y-this.c_back_y|0,this.textBounds.w+2*this.c_back_x|0,this.textBounds.h+2*this.c_back_y|0),t.setAlpha(this.c_a));for(var e,s,i,n=-1,r=this.c_typing?this.c_type_char:this.c_glyphs.length,a=null,_=0,o=this.textBounds.y;++n<r;)10==(a=this.c_glyphs[n]).charCode?o+=this.c_line_offset:(_=this.c_offsets[n],this.c_shake?(i=_-this.c_shake_x,s=_+this.c_shake_x,e=z.geti()%(s+1-i+i|0),s=o-this.c_shake_y,i=o+this.c_shake_y,a.draw(t,e,z.geti()%(i+1-s+s|0))):a.draw(t,0|_,0|o))}},update:function(t){if(this.c_typing&&!this.isTypingComplete)for(this.c_elapsed+=t;this.c_elapsed>=this.c_type_time;)this.c_elapsed-=this.c_type_time,this.c_type_char<this.c_glyphs.length?++this.c_type_char:this.event_complete();this.c_shake&&(this.c_shake_x-=this.c_shake_dx*t,this.c_shake_y-=this.c_shake_dy*t,this.c_shake_x<=0&&this.c_shake_y<=0&&(this.c_shake=!1))},update_bounds:function(){this.bounds.set(0,0,this.c_w,this.c_h),this.bounds.transform(this.c_mat)},update_layout:function(){var e=this;this.c_changed=!1,this.c_glyphs=[],this.c_offsets=[],this.c_line_offset=Math.round(this.c_font.h+this.c_ver_space);var s=[];if(this.numLines=0,null!=this.c_text&&0!=this.c_text.length){for(var t,i=-1,n=this.c_text.length,r=null;++i<n;)t=S.cca(this.c_text,i),null!=(r=this.c_font.getGlyph(t))&&this.c_glyphs.push(r);for(var a=-1,_=0,o=0,h=this.c_font.getGlyph(10),c=function(){var t=e.textBounds.w;e.textBounds.w=_<t?t:_,e.textBounds.h+=o,s[e.numLines++]=_,_=o=0},i=-1,n=this.c_glyphs.length;++i<n;){r=this.c_glyphs[i],this.c_offsets[i]=Math.round(_);var l=0<this.c_w&&_+r.w>this.c_w;l||r==h?(l&&(-1<a?(this.c_glyphs[a]=h,_=this.c_offsets[a],i=a):this.c_glyphs.splice(i,0,h)),a=-1,o=this.c_line_offset,c()):(32==r.charCode&&(a=i),_+=r.advance+this.c_hor_space,(l=r.h+r.offsetY)<o||(o=l),i+1<n&&(l=this.c_glyphs[i+1],_+=r.getKerning(l.charCode)))}c();var u=0,d=this.getAlignOffsetX(s[0],this.c_w),p=179769313486231e294,f=-179769313486231e294;i=-1,n=this.c_glyphs.length;for(var m=0;++i<n;){(r=this.c_glyphs[i])==h&&(u+=this.c_line_offset,d=this.getAlignOffsetX(s[++m],this.c_w)),this.c_offsets[i]+=d;var v=u+r.offsetY;p<v||(p=v);v=v+r.h;v<f||(f=v)}this.textBounds.x=this.getAlignOffsetX(this.textBounds.w,this.c_w),this.textBounds.h=f-p,this.textBounds.y=this.getAlignOffsetY(this.textBounds.h,this.c_h)}},getAlignOffsetX:function(t,e){switch(this.c_align[1]){case 0:case 1:case 4:return Math.round(.5*(e-t));case 3:case 6:case 8:return e-t;default:return 0}},getAlignOffsetY:function(t,e){switch(this.c_align[1]){case 2:case 3:case 4:return Math.round(.5*(e-t));case 1:case 7:case 8:return e-t;default:return 0}},event_added:function(){this.isAdded||(this.isAdded=!0,null!=this.e_added&&this.e_added.dispatch(!1,!1),this.c_ticker.add(De(this,this.update)))},event_removed:function(){this.isAdded&&(this.isAdded=!1,null!=this.e_removed&&this.e_removed.dispatch(!1,!1),this.c_ticker.remove(De(this,this.update)))},event_vischange:function(){d.prototype.event_vischange.call(this),this.c_changed=!0},event_complete:function(){null!=this.e_type_comp&&this.e_type_comp.dispatch(!1,!1),this.isTypingComplete=!0},get_onTypingComplete:function(){return null==this.e_type_comp&&(this.e_type_comp=new o),this.e_type_comp},get_w:function(){return this.c_w},set_w:function(t){t<0&&(t=0);var e=0|t;return e!=this.c_w&&(this.c_w=e,this.event_vischange()),t},get_h:function(){return this.c_h},set_h:function(t){t<0&&(t=0);var e=0|t;return e!=this.c_h&&(this.c_h=e,this.event_vischange()),t},set_text:function(t){return t!=this.c_text&&(this.c_text=t,this.c_elapsed=0,this.c_type_char=0,this.isTypingComplete=!1,this.event_vischange()),t},set_isTyping:function(t){return t!=this.c_typing&&(this.c_type_char=0,this.c_elapsed=0,this.c_typing=t,this.isTypingComplete=!1),t},__class__:G,__properties__:s(d.prototype.__properties__,{get_onTypingComplete:"get_onTypingComplete",set_isTyping:"set_isTyping",set_text:"set_text"})});var B=function(t,e,s,i,n,r,a,_){null==_&&(_=!1),null==a&&(a=!1),null==n&&(n=!1),null==e&&(e=0),this.c_elapsed=0,this.c_delay=t,this.c_repeat_curr=0,this.c_repeat_total=e,this.c_ticker=null==r?n?m.ticker:F.get_ticker():r,this.c_dispose=_,this.c_func=s,this.c_args=i,a&&this.start()};B.__name__=["Timer"],B.prototype={dispose:function(t){null==t&&(t=!1),this.stop(!1),t&&D.callMethod(this.c_func,this.c_args),this.c_func=null,this.c_args=null,this.c_ticker=null},start:function(){this.isStarted||(this.isStarted=!0,this.isComplete&&this.reset(),this.c_ticker.add(De(this,this.update)))},stop:function(t){null==t&&(t=!0),this.isStarted&&(this.isStarted=!1,t&&this.reset(),this.c_ticker.remove(De(this,this.update)))},reset:function(){this.c_elapsed=0,this.c_repeat_curr=0},update:function(t){this.isComplete||(this.c_elapsed+=t,this.c_elapsed>=this.c_delay&&(this.c_repeat_curr++,D.callMethod(this.c_func,this.c_args),this.c_repeat_curr>this.c_repeat_total&&0<=this.c_repeat_total?(this.isComplete=!0,this.c_dispose?this.dispose(!1):this.stop(!1)):this.c_elapsed=0))},__class__:B};var U=function(){};function V(t){this.nodeType=t,this.children=[],this.attributeMap=new pt}function W(t,e,s,i,n,r,a){null==a&&(a=1),null==r&&(r=1),null==n&&(n=0),null==i&&(i=0),this.c_bg=new P(t),this.c_fg=w.getAnswerGraphics(s,52,52,null),this.c_cont=new c(t.pivotX,t.pivotY),this.c_cont.addChild(this.c_bg),this.c_cont.addChild(this.c_fg),this.c_func=e,this.c_id=s,d.call(this,i,n,r,a,t.pivotX,t.pivotY),this.c_w=t.w,this.c_h=t.h,this.get_onTouchEnd().on(De(this,this.on_click)),this.get_onOver().on(De(this,this.on_over)),this.get_onOut().on(De(this,this.on_out))}U.__name__=["Type"],U.getClassName=function(t){t=t.__name__;return null==t?null:t.join(".")},U.createInstance=function(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);case 11:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10]);case 12:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11]);case 13:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]);case 14:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13]);default:throw new Tt("Too many arguments")}},V.__name__=["Xml"],V.parse=function(t){return xt.parse(t)},V.createElement=function(t){var e=new V(V.Element);if(e.nodeType!=V.Element)throw new Tt("Bad node type, expected Element but found "+e.nodeType);return e.nodeName=t,e},V.createPCData=function(t){var e=new V(V.PCData);if(e.nodeType==V.Document||e.nodeType==V.Element)throw new Tt("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},V.createCData=function(t){var e=new V(V.CData);if(e.nodeType==V.Document||e.nodeType==V.Element)throw new Tt("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},V.createComment=function(t){var e=new V(V.Comment);if(e.nodeType==V.Document||e.nodeType==V.Element)throw new Tt("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},V.createDocType=function(t){var e=new V(V.DocType);if(e.nodeType==V.Document||e.nodeType==V.Element)throw new Tt("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},V.createProcessingInstruction=function(t){var e=new V(V.ProcessingInstruction);if(e.nodeType==V.Document||e.nodeType==V.Element)throw new Tt("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},V.createDocument=function(){return new V(V.Document)},V.prototype={get:function(t){if(this.nodeType!=V.Element)throw new Tt("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=Ye[t]?e.getReserved(t):e.h[t]},set:function(t,e){if(this.nodeType!=V.Element)throw new Tt("Bad node type, expected Element but found "+this.nodeType);var s=this.attributeMap;null!=Ye[t]?s.setReserved(t,e):s.h[t]=e},exists:function(t){if(this.nodeType!=V.Element)throw new Tt("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=Ye[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},elementsNamed:function(t){if(this.nodeType!=V.Document&&this.nodeType!=V.Element)throw new Tt("Bad node type, expected Element or Document but found "+this.nodeType);for(var e=[],s=0,i=this.children;s<i.length;){var n,r=i[s];if(++s,r.nodeType==V.Element){if(r.nodeType!=V.Element)throw new Tt("Bad node type, expected Element but found "+r.nodeType);n=r.nodeName==t}else n=!1;n&&e.push(r)}return S.iter(e)},firstElement:function(){if(this.nodeType!=V.Document&&this.nodeType!=V.Element)throw new Tt("Bad node type, expected Element or Document but found "+this.nodeType);for(var t=0,e=this.children;t<e.length;){var s=e[t];if(++t,s.nodeType==V.Element)return s}return null},addChild:function(t){if(this.nodeType!=V.Document&&this.nodeType!=V.Element)throw new Tt("Bad node type, expected Element or Document but found "+this.nodeType);null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=V.Document&&this.nodeType!=V.Element)throw new Tt("Bad node type, expected Element or Document but found "+this.nodeType);return!!S.remove(this.children,t)&&!(t.parent=null)},__class__:V},W.__name__=["aom","AOMButton"],W.__super__=d,W.prototype=s(d.prototype,{draw:function(t){this.c_cont.render(t,0,0)},available:function(t){this.c_fg.set_isVisible(this.c_touchable=t),t||this.on_out()},on_over:function(){var t=this.c_cont,e=m.ticker;E.create_tween(t,t,e,!0,!0).tween(.2,{scaleX:1.1,scaleY:1.1})},on_out:function(){var t=this.c_cont,e=m.ticker;E.create_tween(t,t,e,!0,!0).tween(.2,{scaleX:1,scaleY:1},l.bounce_o)},on_click:function(){this.c_cont.scale(.9,.9);var t=this.c_cont,e=m.ticker;E.create_tween(t,t,e,!0,!0).tween(.2,{scaleX:1,scaleY:1},l.back_o),this.c_func(this.c_id)},__class__:W}),(b=function(){}).__name__=["aom","AOMContainer"],b.prototype={__class__:b,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"}};var j=function(t){this.c_total=t,this.progress=0};j.__name__=["playware","transitions","Transition"],j.prototype={start:function(t,e,s,i){this.c_screen=t,this.c_state_out=e,this.c_func=s,this.c_args=i,this.c_elapsed=this.progress=0,e?this.start_out():this.start_in(),m.ticker.add(De(this,this.update))},update:function(t){this.c_elapsed+=t,this.c_elapsed>=this.c_total&&(this.c_elapsed=this.c_total,this.complete()),this.progress=this.c_elapsed/this.c_total,this.c_state_out?this.update_out(t):this.update_in(t)},complete:function(){m.ticker.remove(De(this,this.update)),this.c_state_out?this.complete_out():this.complete_in(),D.callMethod(this.c_func,this.c_args)},start_in:function(){},start_out:function(){},update_in:function(t){},update_out:function(t){},complete_in:function(){},complete_out:function(){},__class__:j};var q=function(){j.call(this,0);var t=T.gfx.getAnimation("transition_in",!0,"in"),e=t.timeline;e.addFrameScript(e.numFrames-1,De(this,this.complete),null),this.anim=new A(t,!0,null);e=T.gfx.getAnimation("transition_out",!0,"out"),t=e.timeline;t.addFrameScript(t.numFrames-1,De(this,this.complete),null),this.anim.addAnim(e)};function K(t,e){null==e&&(e=0),null==t&&(t=0),c.call(this,t,e)}function Q(t,e,s,i,n,r,a){A.call(this,t,!1,null,e,s,i,n),this.set_deg(r),this.isLooped=this.isActive=this.isEndless=!1,this.c_sound=a}q.__name__=["aom","AOMTransition"],q.__super__=j,q.prototype=s(j.prototype,{start:function(t,e,s,i){this.c_state_out=e,this.c_func=s,this.c_args=i,N.play(e?"transition_out":"transition_in",.75,!1,0),this.anim.setAnim(e?"out":"in",!1);e=this.anim.timeline;e.set_currentFrame(0),e.playFrom(0,e.numFrames-1,!1),m.root.addChild(this.anim)},complete:function(){m.root.removeChild(this.anim,!1),D.callMethod(this.c_func,this.c_args)},__class__:q}),K.__name__=["aom","DynamicContainer"],K.__interfaces__=[b],K.__super__=c,K.prototype=s(c.prototype,{__class__:K}),Q.__name__=["aom","Entity"],Q.__super__=A,Q.prototype=s(A.prototype,{activate:function(){var t,e,s=this;this.isActive&&!this.isEndless||(this.isActive=!0,t=this.timeline,e=this.isLooped,t.set_currentFrame(0),t.playFrom(0,t.numFrames-1,e),N.play(this.c_sound),this.isColored=!0,new B(.1,0,function(){s.isColored=!1},null,!1,null,!0,!0))},__class__:Q});var $=function(t,e){null==e&&(e=0),null==t&&(t=0),this.set(t,e)};function J(t,e,s){c.call(this),this.voice_enabled=!1,this.callback_free=e,this.callback_end=s,ut.set(De(this,this.free_controls),this),this.c_sciss=new oe(166,0,634,520),this.aom_containers=new pt,this.aom_entities=[],e=new K,s=this.aom_containers,null!=Ye.s_layer_0?s.setReserved("s_layer_0",e):s.h.s_layer_0=e,this.addChild(e),s=new K,e=this.aom_containers,null!=Ye.d_layer_1?e.setReserved("d_layer_1",s):e.h.d_layer_1=s,this.addChild(s),e=new K,s=this.aom_containers,null!=Ye.s_layer_2?s.setReserved("s_layer_2",e):s.h.s_layer_2=e,this.addChild(e),s=new K,e=this.aom_containers,null!=Ye.d_layer_3?e.setReserved("d_layer_3",s):e.h.d_layer_3=s,this.addChild(s),this.build(t.split("#")[T.curr_level])}$.__name__=["playware","geom","Point"],$.prototype={set:function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e},__class__:$},J.__name__=["aom","GameScene"],J.__super__=c,J.prototype=s(c.prototype,{build:function(t){var e=this,s=T.gfx;this.voice_marker=new A(s.getAnimation("talk_spawn",!0,"in"));var i=this.voice_marker.timeline;i.c_play=!1,i.set_currentFrame(0),this.voice_marker.addAnim(s.getAnimation("talk_disapear",!0,"out"));var n=this.voice_marker.getAnim("out").timeline;n.addFrameScript(n.numFrames-1,function(){e.voice_marker.parent.removeChild(e.voice_marker)},null),this.voice_points=[];for(var r=0,a=T.curr_level+8*T.curr_episode,_=t.split(";"),o=-1,h=_.length;++o<h;){var c=_[o].split(","),l=this.aom_containers,u=c[0],d=null!=Ye[u]?l.getReserved(u):l.h[u],p=c[1],f=parseFloat(c[2]),m=parseFloat(c[3]),v=parseFloat(c[4]),g=parseFloat(c[5]),w=parseFloat(c[6]);switch(p.substring(0,2)){case"c_":var b=new K(f,m);this.aom_containers.set(p,b),d.addChild(b);break;case"e_":var y=new Q(s.getAnimation(p),f,m,v,g,w,this.getSound(p));"e_fire"!=p?((b=y.timeline).c_play=!1,b.set_currentFrame(0)):y.isLooped=!0,"e_resin"!=p&&"e_leaf"!=p&&"e_portal"!=p||(y.isEndless=!0),this.aom_entities.push(y),d.addChild(y);break;case"p_":var x=new tt(p.substring(0,4),f,m,v,this,r);this.aom_entities.push(x),d.addChild(x),this.voice_points[r++]=x;break;default:x=new P(s.getTexture(p),f,m,v,g,!0);x.set_deg(w),d.addChild(x)}}this.build_sequences(a);i=this.getPlayerCoords(a);this.player_power=new et(i.x,i.y),this.player_power.set_isVisible(!1),this.addChild(this.player_power),this.player_body=new A(s.getAnimation("player_run_0",!0,"run_0"),!1,null,100,i.y),this.player_body.addAnim(s.getAnimation("player_run_1",!0,"run_1")),this.player_body.addAnim(s.getAnimation("player_win",!0,"win")),this.player_body.addAnim(s.getAnimation("player_idle",!0,"idle")),this.addChild(this.player_body),this.player_head=new A(s.getAnimation("player_throw_0",!0,"throw_scroll"),!1,null,i.x,i.y),this.player_head.addAnim(s.getAnimation("player_throw_1",!0,"throw_rock")),this.player_head.addAnim(s.getAnimation("player_reload_0",!0,"reload_scroll")),this.player_head.addAnim(s.getAnimation("player_reload_1",!0,"reload_rock"));n=this.player_head.getAnim("throw_scroll"),t=n.timeline;t.addFrameScript(t.numFrames-1,De(this,this.player_reload),null),n.timeline.addFrameScript(8,De(this,this.player_shoot));a=this.player_head.getAnim("throw_rock"),t=a.timeline;t.addFrameScript(t.numFrames-1,De(this,this.player_reload),null),a.timeline.addFrameScript(8,De(this,this.player_shoot));n=this.player_head.getAnim("reload_scroll").timeline;n.addFrameScript(n.numFrames-1,function(){e.player_head.setAnim("throw_scroll",!1);var t=e.player_head.timeline;t.c_play=!1,t.set_currentFrame(0)},null);t=this.player_head.getAnim("reload_rock").timeline;t.addFrameScript(t.numFrames-1,function(){e.player_head.setAnim("throw_rock",!1);var t=e.player_head.timeline;t.c_play=!1,t.set_currentFrame(0)},null),this.seq_correct[0].isScroll?(this.player_body.setAnim("run_0",!0),this.player_head.setAnim("throw_scroll",!1)):(this.player_body.setAnim("run_1",!0),this.player_head.setAnim("throw_rock",!1)),this.player_head.set_isVisible(!1);a=this.player_head.timeline;a.c_play=!1,a.set_currentFrame(0),this.addChild(this.player_head),this.player_bullet=new Z,T.returnToPlayerPosition?(n=(i.x-100)/100,t=this.player_body,a=F.get_ticker(),E.create_tween(t,t,a,!0,!0).tween(n,{x:i.x}).onComplete(function(){e.player_body.setAnim("idle"),e.show_player_head(!0),e.callback_free()})):(this.player_body.set_x(i.x),this.player_body.setAnim("idle"),this.show_player_head(!0),T.returnToPlayerPosition=!0)},talk:function(t,e){var s=this;if(!this.voice_enabled){if(this.voice_enabled=!0,null==e){for(var i=this.voice_points.length;-1<--i;)if(!this.voice_points[i].isActive){e=i;break}if(null==e)return void(this.voice_enabled=!1)}var n=this.voice_points[e],r=n.parent;this.voice_marker.setAnim("in",!1),this.voice_marker.pos(n.get_x()-24,n.get_y()),r.addChild(this.voice_marker);r=function(){s.voice_marker.setAnim("out",!1),s.voice_enabled=!1};t?N.play("happy_"+z.geti()%11,1,!1,3,r,null):N.play("sad_"+z.geti()%3,1,!1,3,r,null)}},free_controls:function(){this.player_power.release(),this.seq_corr_prog<this.seq_corr_total&&this.seq_wrong_prog<3&&w.getQuestion(),this.seq_corr_prog>=this.seq_corr_total?(this.show_player_head(!1),this.player_body.setAnim("win",!1),N.play("win"),new B(1,0,this.callback_end,[!0],!0,null,!0,!0)):null!=this.callback_free&&this.callback_free()},build_sequences:function(t){this.seq_correct=ut.getCorrect(t),this.seq_wrong=ut.getWrong(t),this.seq_wrong.sort(M.rand),this.seq_corr_prog=0,this.seq_wrong_prog=0,this.seq_corr_total=this.seq_correct.length},getEntity:function(t){return this.aom_entities[t]},getContainer:function(t){var e=this.aom_containers;return null!=Ye[t]?e.getReserved(t):e.h[t]},answer_question:function(t){if(this.seq_curr=t?this.seq_correct[this.seq_corr_prog++]:this.seq_wrong[this.seq_wrong_prog++],null==this.seq_curr)return!1;var e=this.seq_curr.getAngleAndPower(J.g_point.x,J.g_point.y);this.player_power.hold(e[0],e[1]);var s=this.player_head,t=F.get_ticker();return E.create_tween(s,s,t,!0,!0).tween(.4,{rad:e[0]}).onComplete(De(ze=this.player_head.timeline,ze.play),[!1]),this.seq_corr_prog>=this.seq_corr_total},show_player_head:function(t){this.player_head.set_isVisible(t),this.player_power.set_isVisible(t)},player_reload:function(){var t=this.seq_correct[this.seq_corr_prog],e=null==t||t.isScroll;this.player_head.setAnim(e?"reload_scroll":"reload_rock",!1),N.play("reload",.6);t=this.player_head,e=F.get_ticker();E.create_tween(t,t,e,!0,!0).tween(.2,{rad:0})},player_shoot:function(){var t=this.player_head.get_deg();this.player_bullet.spawn(J.g_point.x+50*Math.cos(3.141592653589793*t/180),J.g_point.y+50*Math.sin(3.141592653589793*t/180),"throw_scroll"==this.player_head.get_currentAnimName()),this.addChild(this.player_bullet),this.seq_curr.start(this.player_bullet),N.play("throw_"+z.geti()%2,.6,!1,null,null,null)},getSound:function(t){switch(t.substring(0,6)){case"e_cut_":return"e_cut";case"e_gate":return"e_gate";case"e_leaf":return"e_bounce";case"e_pill":return"e_pillar";case"e_port":return"e_portal";case"e_resi":return"e_bounce";case"e_swit":return"e_switch";default:return"impact"}},getPlayerCoords:function(t){var e,s;switch(t){case 0:e=306;break;case 7:e=275;break;case 10:case 11:case 13:case 16:e=308;break;case 15:e=327;break;case 20:e=238;break;case 21:case 22:e=228;break;case 5:case 24:case 28:e=288;break;case 25:e=268;break;case 14:case 26:case 27:e=278;break;case 29:e=298;break;default:e=258}switch(t){case 7:s=283;break;case 18:case 20:s=178;break;case 21:case 29:s=168;break;case 25:s=228;break;case 26:s=238;break;case 30:case 31:s=308;break;default:s=375}return J.g_point.set(e,s),J.g_point},__class__:J});var Z=function(){var t=this,e=T.gfx;A.call(this,e.getAnimation("scroll_r")),this.addAnim(e.getAnimation("scroll_l")),this.addAnim(e.getAnimation("stone_r")),this.addAnim(e.getAnimation("stone_l"));var s=e.getAnimation("scroll_destroy"),i=s.timeline;i.addFrameScript(i.numFrames-1,function(){t.parent.removeChild(t)},null),this.addAnim(s);s=e.getAnimation("stone_destroy"),e=s.timeline;e.addFrameScript(e.numFrames-1,function(){t.parent.removeChild(t)},null),this.addAnim(s)};Z.__name__=["aom","PlayerBullet"],Z.__super__=A,Z.prototype=s(A.prototype,{spawn:function(t,e,s){this.isScroll=s,this.setAnim(s?"scroll_r":"stone_r",!0),this.c_x=t,this.c_y=e,this.apply_transform()},impact:function(){this.setAnim(this.isScroll?"scroll_r"==this.c_anim_name?"scroll_l":"scroll_r":"stone_r"==this.c_anim_name?"stone_l":"stone_r",!0)},destroy:function(){this.isScroll?(this.setAnim("scroll_destroy",!1),N.play("burn",.6)):(this.setAnim("stone_destroy",!1),N.play("break",.6))},__class__:Z});var tt=function(t,e,s,i,n,r){var a=T.gfx;Q.call(this,a.getAnimation(t+"idle",!0,"idle"),e,s,i,1,0,"impact"),this.addAnim(a.getAnimation(t+"catch",!0,"catch")),this.addAnim(a.getAnimation(t+"happy",!0,"happy"));t=this.getAnim("catch").timeline;t.addFrameScript(t.numFrames-1,De(this,this.setAnim),["happy",!0]),this.numScrolls=0,this.c_scene=n,this.c_id=r};tt.__name__=["aom","Pleasant"],tt.__super__=Q,tt.prototype=s(Q.prototype,{activate:function(){var t=this;this.isActive||(3<=++this.numScrolls?(this.isActive=!0,this.setAnim("catch",!1),N.play("collect_last",.6)):N.play("collect",.6),z.geti()/2147483646<.3&&this.c_scene.talk(!0,this.c_id),this.isColored=!0,new B(.1,0,function(){t.isColored=!1},null,!1,null,!0,!0))},__class__:tt});var et=function(t,e){var s=this;c.call(this,t,e),this.c_elapsed_round=this.c_elapsed_power=this.c_elapsed_tween=this.c_angle_curr=this.c_power_round=this.c_power_curr=this.c_angle_from=this.c_power_from=0,this.c_state=0;t=T.gfx,e=new P(t.getTexture("power_meter"),36,0,.5,.5,!0);this.addChild(e),this.line=new P(t.getTexture("power_line"),36,0,.5,.5,!0);e=2*this.line.get_w(),t=this.line.get_h();this.line.c_sciss=new oe(0,0,e,t),this.addChild(this.line),this.c_line_w=2*this.line.get_w(),F.get_ticker().add(De(this,this.update)),this.get_onDispose().on(function(){F.get_ticker().remove(De(s,s.update))})};function st(t,e,s){null==s&&(s=0),this.destroyBullet=t,this.c_elapsed=0,this.c_total=s}function it(t,e){st.call(this,!1,!1,e),this.entities=t,this.isActive=!1}function nt(t,e,s,i,n,r){st.call(this,n,r),this.x_from=this.y_from=0,this.x_to=t,this.y_to=e,this.x_control=s,this.y_control=i}function rt(t,e,s){st.call(this,!1,!1,s),this.isActive=!1,this.c_cont=t,this.y_from=this.c_cont.get_y(),this.y_to=e,this.c_cont_elapsed=0,this.c_cont_total=(this.y_to-this.y_from)/300}function at(t,e,s,i){st.call(this,!1,!1,i),this.isActive=!1,this.c_ent=t,this.x_from=this.c_ent.get_x(),this.y_from=this.c_ent.get_y(),this.x_to=e,this.y_to=s,this.c_ent_elapsed=0,s=k.distf(this.x_from,this.y_from,this.x_to,this.y_to),this.c_ent_total=s/200}function _t(t,e,s){st.call(this,!1,!1,s),this.isActive=!1,this.c_cont=t,this.x_from=this.c_cont.get_x(),this.x_to=e,this.c_cont_elapsed=0,e=this.x_from>this.x_to?this.x_from-this.x_to:this.x_to-this.x_from,this.c_cont_total=e/200}function ot(t,e,s){st.call(this,!1,!1,s),this.isActive=!1,this.c_cont=t,this.y_from=this.c_cont.get_y(),this.y_to=e,this.c_cont_elapsed=0,e=this.y_from>this.y_to?this.y_from-this.y_to:this.y_to-this.y_from,this.c_cont_total=e/200}function ht(t,e,s){st.call(this,!1,!1,s),this.isActive=!1,this.c_movie=t,this.c_frame=e}function ct(t,e){st.call(this,!1,!1,.4),this.x_to=t,this.y_to=e}function lt(t,e,s,i){st.call(this,s,i),this.x_from=this.y_from=0,this.x_to=t,this.y_to=e}et.__name__=["aom","PowerMeter"],et.__super__=c,et.prototype=s(c.prototype,{hold:function(t,e){this.c_angle_to=t,this.c_power_to=e,this.c_angle_from=this.c_angle_curr,this.c_power_from=this.c_power_curr;t=this.c_angle_from,e=this.c_angle_to;this.c_total_tween=.4*(e<t?t-e:e-t),this.c_state=1},release:function(){this.c_angle_from=this.c_angle_curr,this.c_power_from=this.c_power_curr;var t=this.c_angle_from,e=this.c_angle_round;this.c_total_tween=.4*(e<t?t-e:e-t),this.c_state=3},update_power:function(){1<this.c_power_curr?this.c_power_curr=1:this.c_power_curr<0&&(this.c_power_curr=0),this.line.c_sciss.w=this.c_line_w*this.c_power_curr},update:function(t){var e;switch(this.c_state){case 1:this.c_elapsed_tween+=t,this.c_elapsed_tween>=this.c_total_tween?(this.c_angle_curr=this.c_angle_to,this.c_power_curr=this.c_power_to,this.c_elapsed_tween=0,this.c_state=2):(e=this.c_elapsed_tween/this.c_total_tween,this.c_angle_curr=this.c_angle_from+(this.c_angle_to-this.c_angle_from)*e,this.c_power_curr=this.c_power_from+(this.c_power_to-this.c_power_from)*e);break;case 2:break;case 3:this.c_elapsed_tween+=t,this.c_elapsed_tween>=this.c_total_tween?(this.c_angle_curr=this.c_angle_round,this.c_power_curr=this.c_power_round,this.c_elapsed_tween=0,this.c_state=0):(e=this.c_elapsed_tween/this.c_total_tween,this.c_angle_curr=this.c_angle_from+(this.c_angle_round-this.c_angle_from)*e,this.c_power_curr=this.c_power_from+(this.c_power_round-this.c_power_from)*e);break;default:this.c_elapsed_round+=2*t,this.c_elapsed_power+=3.5*t,this.c_angle_round=.8*Math.cos(this.c_elapsed_round)-.8,this.c_angle_curr=this.c_angle_round,this.c_power_round=.5+.5*Math.cos(this.c_elapsed_power),this.c_power_curr=this.c_power_round}this.set_rad(this.c_angle_curr),this.update_power()},__class__:et}),st.__name__=["chain","ChainEmpty"],st.prototype={calc:function(t,e){return[0,0]},start:function(t){},update:function(t){return this.c_elapsed+=t,this.c_elapsed>=this.c_total},__class__:st},it.__name__=["chain","ChainActivate"],it.__super__=st,it.prototype=s(st.prototype,{update:function(t){if(!this.isActive){if(this.c_elapsed+=t,!(this.c_elapsed>=this.c_total))return!1;this.isActive=!0;for(var e=this.entities.length;-1<--e;)this.entities[e].activate()}for(var s=!0,i=this.entities.length;-1<--i;)if(!this.entities[i].timeline.get_isComplete()){s=!1;break}return s},__class__:it}),nt.__name__=["chain","ChainBezier"],nt.__super__=st,nt.prototype=s(st.prototype,{calc:function(t,e){return[Math.atan2(this.y_control-e,this.x_control-t),k.distf(t,e,this.x_control,this.y_control)/748]},start:function(t){this.c_bullet=t,this.x_from=t.get_x(),this.y_from=t.get_y();var e=k.distf(this.x_from,this.y_from,this.x_control,this.y_control),t=k.distf(this.x_control,this.y_control,this.x_to,this.y_to);this.c_total=(e+t)/520},update:function(t){if(this.c_elapsed+=t,this.c_elapsed>=this.c_total){if(this.c_bullet.pos(this.x_to,this.y_to),this.destroyBullet&&this.c_bullet.destroy(),this.hasImpact&&(this.c_bullet.impact(),N.play("impact")),null!=this.entities)for(var e=this.entities.length;-1<--e;)this.entities[e].activate();return!0}var s=this.c_elapsed/this.c_total,i=1-s,t=i*i*this.x_from+2*i*s*this.x_control+s*s*this.x_to,s=i*i*this.y_from+2*i*s*this.y_control+s*s*this.y_to;return this.c_bullet.pos(t,s),!1},__class__:nt}),rt.__name__=["chain","ChainFall"],rt.__super__=st,rt.prototype=s(st.prototype,{update:function(t){if(!this.isActive){if(this.c_elapsed+=t,!(this.c_elapsed>=this.c_total))return!1;this.isActive=!0,N.play("c_gate",.6)}if(this.c_cont_elapsed+=t,this.c_cont_elapsed>=this.c_cont_total)return this.c_cont.set_y(this.y_to),!0;t=l.bounce_o(this.c_cont_elapsed/this.c_cont_total),t=this.y_from+(this.y_to-this.y_from)*t;return this.c_cont.set_y(t),!1},__class__:rt}),at.__name__=["chain","ChainMoveEnt"],at.__super__=st,at.prototype=s(st.prototype,{update:function(t){if(!this.isActive){if(this.c_elapsed+=t,!(this.c_elapsed>=this.c_total))return!1;this.isActive=!0,N.play("move",.6)}if(this.c_ent_elapsed+=t,this.c_ent_elapsed>=this.c_ent_total)return this.c_ent.pos(this.x_to,this.y_to),!0;var e=l.back_o(this.c_ent_elapsed/this.c_ent_total),t=this.x_from+(this.x_to-this.x_from)*e,e=this.y_from+(this.y_to-this.y_from)*e;return this.c_ent.pos(t,e),!1},__class__:at}),_t.__name__=["chain","ChainMoveX"],_t.__super__=st,_t.prototype=s(st.prototype,{update:function(t){if(!this.isActive){if(this.c_elapsed+=t,!(this.c_elapsed>=this.c_total))return!1;this.isActive=!0,N.play("move",.6)}if(this.c_cont_elapsed+=t,this.c_cont_elapsed>=this.c_cont_total)return this.c_cont.set_x(this.x_to),!0;t=l.back_o(this.c_cont_elapsed/this.c_cont_total),t=this.x_from+(this.x_to-this.x_from)*t;return this.c_cont.set_x(t),!1},__class__:_t}),ot.__name__=["chain","ChainMoveY"],ot.__super__=st,ot.prototype=s(st.prototype,{update:function(t){if(!this.isActive){if(this.c_elapsed+=t,!(this.c_elapsed>=this.c_total))return!1;this.isActive=!0,N.play("move",.6)}if(this.c_cont_elapsed+=t,this.c_cont_elapsed>=this.c_cont_total)return this.c_cont.set_y(this.y_to),!0;t=l.back_o(this.c_cont_elapsed/this.c_cont_total),t=this.y_from+(this.y_to-this.y_from)*t;return this.c_cont.set_y(t),!1},__class__:ot}),ht.__name__=["chain","ChainMovie"],ht.__super__=st,ht.prototype=s(st.prototype,{update:function(t){if(!this.isActive){if(this.c_elapsed+=t,!(this.c_elapsed>=this.c_total))return!1;this.isActive=!0,this.c_movie.activate()}if(this.c_movie.timeline.get_currentFrame()>=this.c_frame){if(null!=this.entities)for(var e=this.entities.length;-1<--e;)this.entities[e].activate();return!0}return!1},__class__:ht}),ct.__name__=["chain","ChainTeleport"],ct.__super__=st,ct.prototype=s(st.prototype,{start:function(t){this.c_bullet=t,this.c_bullet.set_isVisible(!1)},update:function(t){if(this.c_elapsed+=t,this.c_elapsed>=this.c_total){if(this.hasImpact&&this.c_bullet.impact(),null!=this.entities)for(var e=this.entities.length;-1<--e;)this.entities[e].activate();return this.c_bullet.pos(this.x_to,this.y_to),this.c_bullet.set_isVisible(!0),!0}return!1},__class__:ct}),lt.__name__=["chain","ChainVector"],lt.__super__=st,lt.prototype=s(st.prototype,{calc:function(t,e){return[Math.atan2(this.y_to-e,this.x_to-t),k.distf(t,e,this.x_to,this.y_to)/748]},start:function(t){this.c_bullet=t,this.x_from=t.get_x(),this.y_from=t.get_y(),this.c_total=k.distf(this.x_from,this.y_from,this.x_to,this.y_to)/520},update:function(t){if(this.c_elapsed+=t,this.c_elapsed>=this.c_total){if(this.c_bullet.pos(this.x_to,this.y_to),this.destroyBullet&&this.c_bullet.destroy(),this.hasImpact&&(this.c_bullet.impact(),N.play("impact")),null!=this.entities)for(var e=this.entities.length;-1<--e;)this.entities[e].activate();return!0}var s=this.c_elapsed/this.c_total,t=this.x_from+(this.x_to-this.x_from)*s,s=this.y_from+(this.y_to-this.y_from)*s;return this.c_bullet.pos(t,s),!1},__class__:lt});var ut=function(t){this.isScroll=t,this.c_curr=this.c_num=0,this.c_chain=[]};function dt(){this.h={}}ut.__name__=["chain","Sequence"],ut.set=function(t,e){ut.g_callback=t,ut.g_scene=e},ut.getCorrect=function(t){switch(t){case 1:return[new ut(!1).bezier(596,208,495,118,!1,!0).hit(1),new ut(!0).bezier(671,210,548,118,!1,!0).hit(0),new ut(!0).bezier(666,234,544,69,!1,!0).hit(0),new ut(!0).bezier(678,208,552,142,!1,!0).hit(0)];case 2:return[new ut(!1).bezier(691,210,562,142,!1,!0).hit(2).activate([1]),new ut(!0).bezier(661,369,541,276,!1,!0).hit(0),new ut(!0).bezier(661,369,541,333,!1,!0).hit(0),new ut(!0).bezier(661,369,541,276,!1,!0).hit(0)];case 3:return[new ut(!1).vector(371,245,!1,!0).activate([2],0),new ut(!0).bezier(714,361,578,-30,!1,!0).hit(0),new ut(!0).bezier(714,361,578,-30,!1,!0).hit(0),new ut(!0).bezier(714,361,578,-30,!1,!0).hit(0),new ut(!0).bezier(674,106,550,-30,!1,!0).hit(1),new ut(!0).bezier(674,106,550,-81,!1,!0).hit(1),new ut(!0).bezier(674,106,550,-30,!1,!0).hit(1)];case 4:return[new ut(!0).bezier(715,362,578,-140,!1,!0).hit(2),new ut(!0).bezier(715,362,578,-140,!1,!0).hit(2),new ut(!0).bezier(715,362,578,-140,!1,!0).hit(2),new ut(!1).bezier(549,38,462,-30,!1,!0).hit(0).fall("c_4_0",220),new ut(!0).bezier(729,225,588,-95,!1,!0).hit(1),new ut(!0).bezier(729,225,588,-95,!1,!0).hit(1),new ut(!0).bezier(729,225,588,-95,!1,!0).hit(1)];case 5:return[new ut(!1).bezier(610,206,514,165,!1,!0).hit(6),new ut(!0).bezier(656,229,546,121,!1,!0).hit(1),new ut(!0).bezier(656,229,546,54,!1,!0).hit(1),new ut(!0).bezier(656,229,546,121,!1,!0).hit(1),new ut(!1).bezier(737,209,603,146,!1,!0).hit(3).activate([5]),new ut(!0).bezier(743,352,607,294,!1,!0).hit(0),new ut(!0).bezier(743,352,607,294,!1,!0).hit(0),new ut(!0).bezier(743,352,607,294,!1,!0).hit(0),new ut(!0).bezier(615,368,518,294,!1,!0).hit(2),new ut(!0).bezier(615,368,518,258,!1,!0).hit(2),new ut(!0).bezier(615,368,518,294,!1,!0).hit(2)];case 6:return[new ut(!0).bezier(678,354,552,-120,!1,!0).hit(0),new ut(!0).bezier(689,269,560,90,!0,!1).vector(660,360,!1,!0).hit(0),new ut(!0).bezier(678,354,552,-120,!1,!0).hit(0),new ut(!0).bezier(513,355,437,29,!1,!0).hit(1),new ut(!0).bezier(538,266,454,170,!0,!1).vector(508,358,!1,!0).hit(1),new ut(!0).bezier(513,355,437,-59,!1,!0).hit(1)];case 7:return[new ut(!0).bezier(735,282,597,223,!1,!0).hit(1),new ut(!0).bezier(735,282,597,223,!1,!0).hit(1),new ut(!0).bezier(735,282,597,223,!1,!0).hit(1),new ut(!1).bezier(642,354,532,318,!1,!0).hit(5).activate([3,4]),new ut(!0).bezier(737,155,599,83,!1,!0).hit(0),new ut(!0).bezier(737,155,599,83,!1,!0).hit(0),new ut(!0).bezier(737,155,599,83,!1,!0).hit(0)];case 8:return[new ut(!1).bezier(763,171,613,100,!1,!1).hit(3).vector(674,53,!0,!0).hit(1).activate([2]),new ut(!0).bezier(652,374,535,310,!1,!0).hit(0),new ut(!0).bezier(652,374,535,310,!1,!0).hit(0),new ut(!0).bezier(652,374,535,310,!1,!0).hit(0)];case 9:return[new ut(!1).bezier(555,128,466,66,!0,!1).hit(3).bezier(321.05,151,391,52,!1,!0).hit(2).activate([1]),new ut(!0).bezier(644,79,529,5,!1,!0).hit(0),new ut(!0).bezier(645,98,530,-52,!1,!0).hit(0),new ut(!0).bezier(644,79,529,5,!1,!0).hit(0)];case 10:return[new ut(!1).bezier(553,217,480,186,!0,!1).hit(7).bezier(273.05,239,357,157,!1,!0).hit(1).activate([6]),new ut(!1).bezier(554,143,481,95,!0,!1).hit(8).bezier(275.05,141,358,95,!1,!0).hit(2).activate([5]),new ut(!1).bezier(558,65,484,49,!0,!1).hit(9).bezier(272.05,42,357,-31,!1,!0).hit(3).activate([4]),new ut(!0).bezier(708,367,588,295,!1,!0).hit(0),new ut(!0).bezier(708,385,588,268,!1,!0).hit(0),new ut(!0).bezier(708,367,588,295,!1,!0).hit(0)];case 11:return[new ut(!1).vector(526,301,!1,!0).activate([1],0),new ut(!0).bezier(760,290,625,161,!0,!1).hit(2).bezier(373.05,165,489,90,!1,!0).hit(0),new ut(!0).bezier(751,301,619,-4,!0,!1).hit(2).bezier(373.05,165,486,11,!1,!0).hit(0),new ut(!0).bezier(760,290,625,161,!0,!1).hit(2).bezier(373.05,165,489,90,!1,!0).hit(0)];case 12:return[new ut(!1).vector(368,288,!1,!0).hit(2),new ut(!0).bezier(647,361,531,205,!1,!0).hit(1),new ut(!0).bezier(656,355,537,90,!1,!0).hit(1),new ut(!0).bezier(647,361,531,205,!1,!0).hit(1),new ut(!0).bezier(767,81,615,23,!0,!1).hit(3).bezier(369.05,148,488,-27,!1,!0).hit(0),new ut(!0).bezier(767,81,615,23,!0,!1).hit(3).bezier(369.05,148,488,-27,!1,!0).hit(0),new ut(!0).bezier(767,81,615,23,!0,!1).hit(3).bezier(369.05,148,488,-27,!1,!0).hit(0)];case 13:return[new ut(!1).vector(433,243,!0,!1).hit(4).bezier(258.05,249,309,183,!1,!0).hit(3).activate([1]),new ut(!0).bezier(762,311,626,176,!0,!1).hit(2).bezier(328.05,139,458,40,!1,!0).hit(0),new ut(!0).bezier(762,311,626,176,!0,!1).hit(2).bezier(328.05,139,458,40,!1,!0).hit(0),new ut(!0).bezier(762,311,626,176,!0,!1).hit(2).bezier(328.05,139,458,40,!1,!0).hit(0)];case 14:return[new ut(!0).bezier(510,166,441,44,!1,!0).hit(1),new ut(!0).bezier(524,141,451,-5,!1,!0).hit(1),new ut(!0).bezier(510,166,441,44,!1,!0).hit(1),new ut(!0).bezier(764,291,619,-200,!0,!1).hit(4).vector(660,248,!1,!1).hit(3).teleport(524,239).hit(2).vector(519,332,!1,!0).hit(0),new ut(!0).bezier(764,291,619,-200,!0,!1).hit(4).vector(660,248,!1,!1).hit(3).teleport(524,239).hit(2).vector(519,332,!1,!0).hit(0),new ut(!0).bezier(764,291,619,-200,!0,!1).hit(4).vector(660,248,!1,!1).hit(3).teleport(524,239).hit(2).vector(519,332,!1,!0).hit(0)];case 15:return[new ut(!1).bezier(766,157,634,122,!0,!1).hit(5).bezier(528.05,131,599,77,!0,!1).hit(3).bezier(683,19,636,1,!1,!0).hit(2).activate([1]),new ut(!0).bezier(745,356,620,155,!0,!1).hit(4).vector(610,369,!1,!0).hit(0),new ut(!0).bezier(743,353,620,68,!0,!1).hit(4).vector(610,369,!1,!0).hit(0),new ut(!0).bezier(745,356,620,155,!0,!1).hit(4).vector(610,369,!1,!0).hit(0)];case 16:return[new ut(!0).vector(457,205,!1,!1).hit(3).teleport(741,295).hit(2).vector(698,345,!1,!0).hit(1),new ut(!0).vector(457,205,!1,!1).hit(3).teleport(741,295).hit(2).vector(698,345,!1,!0).hit(1),new ut(!0).vector(457,205,!1,!1).hit(3).teleport(741,295).hit(2).vector(698,345,!1,!0).hit(1),new ut(!0).bezier(675,156,566,-95,!1,!0).hit(0),new ut(!0).bezier(675,156,566,-200,!1,!0).hit(0),new ut(!0).bezier(675,156,566,-95,!1,!0).hit(0)];case 17:return[new ut(!0).bezier(513,288,437,243,!0,!1).hit(1).bezier(219.05,146,307,96,!1,!1).hit(3).teleport(694,116).hit(2).vector(687,346,!1,!0).hit(0),new ut(!0).bezier(513,288,437,243,!0,!1).hit(1).bezier(219.05,146,307,96,!1,!1).hit(3).teleport(694,116).hit(2).vector(687,346,!1,!0).hit(0),new ut(!0).bezier(513,288,437,243,!0,!1).hit(1).bezier(219.05,146,307,96,!1,!1).hit(3).teleport(694,116).hit(2).vector(687,346,!1,!0).hit(0)];case 18:return[new ut(!1).bezier(451,147,394,67,!1,!0).hit(5),new ut(!1).bezier(690,157,561,44,!1,!0).hit(6).activate([1]),new ut(!0).bezier(747,43,601,-12,!0,!1).hit(3).teleport(748,304).hit(2).bezier(385,400,493,307,!0,!1).bezier(277,370,309,354,!1,!0).hit(0),new ut(!0).bezier(747,43,601,-12,!0,!1).hit(3).teleport(748,304).hit(2).bezier(385,400,493,307,!0,!1).bezier(277,370,309,354,!1,!0).hit(0),new ut(!0).bezier(747,43,601,-12,!0,!1).hit(3).teleport(748,304).hit(2).bezier(385,400,493,307,!0,!1).bezier(277,370,309,354,!1,!0).hit(0)];case 19:return[new ut(!1).bezier(613,137,507,113,!0,!1).hit(3).bezier(307.05,60,398,42,!1,!1).hit(5).teleport(290,164).hit(7).vector(244,164,!1,!0).hit(1).activate([2]),new ut(!0).bezier(752,341,604,224,!1,!1).hit(6).teleport(709,50).hit(4).vector(710,146,!1,!0).hit(0),new ut(!0).bezier(752,341,604,224,!1,!1).hit(6).teleport(709,50).hit(4).vector(710,146,!1,!0).hit(0),new ut(!0).bezier(752,341,604,224,!1,!1).hit(6).teleport(709,50).hit(4).vector(710,146,!1,!0).hit(0)];case 20:return[new ut(!1).bezier(530,247,443,157,!0,!1).hit(4).vector(537,175,!0,!1).hit(3).vector(757,194,!0,!1).bezier(700,353,690,234,!1,!0).hit(5).moveX("c_21_0",648).moveY("c_21_0",224,0),new ut(!0).bezier(643,62,523,-58,!1,!0).hit(1),new ut(!0).bezier(643,62,523,-108,!1,!0).hit(1),new ut(!0).bezier(643,62,523,-58,!1,!0).hit(1),new ut(!0).bezier(530,247,443,157,!0,!1).hit(4).vector(537,175,!0,!1).hit(3).vector(633,194,!1,!0).hit(0),new ut(!0).bezier(530,247,443,157,!0,!1).hit(4).vector(537,175,!0,!1).hit(3).vector(633,194,!1,!0).hit(0),new ut(!0).bezier(530,247,443,157,!0,!1).hit(4).vector(537,175,!0,!1).hit(3).vector(633,194,!1,!0).hit(0)];case 21:return[new ut(!1).bezier(287,189,271,44,!1,!0).hit(10).activate([5]),new ut(!1).bezier(425,193,367,95,!1,!0).hit(9).activate([4]),new ut(!1).bezier(564,193,465,57,!1,!0).hit(8).activate([3,6]),new ut(!1).bezier(744,199,591,111,!1,!0).hit(7).moveX("c_22_0",683).moveX("c_22_1",537,0).moveX("c_22_2",398,0).moveY("c_22_0",224,0).moveY("c_22_1",224,0).moveY("c_22_2",224,0),new ut(!0).bezier(382,168,337,79,!1,!0).hit(0),new ut(!0).bezier(382,168,337,79,!1,!0).hit(0),new ut(!0).bezier(382,168,337,79,!1,!0).hit(0),new ut(!0).bezier(520,165,434,25,!1,!0).hit(1),new ut(!0).bezier(520,165,434,25,!1,!0).hit(1),new ut(!0).bezier(520,165,434,25,!1,!0).hit(1),new ut(!0).bezier(652,173,526,-45,!1,!0).hit(2),new ut(!0).bezier(652,173,526,-45,!1,!0).hit(2),new ut(!0).bezier(652,173,526,-45,!1,!0).hit(2)];case 22:return[new ut(!1).bezier(536,28,444,20,!1,!0).movie(1,256,0).hit(2).moveX("c_23_0",446),new ut(!0).bezier(440,320,377,20,!1,!0).hit(0),new ut(!0).bezier(440,320,377,-79,!1,!0).hit(0),new ut(!0).bezier(440,320,377,20,!1,!0).hit(0)];case 23:return[new ut(!0).bezier(586,357,488,-300,!1,!0).hit(0),new ut(!0).bezier(586,357,488,-300,!1,!0).hit(0),new ut(!0).bezier(586,357,488,-300,!1,!0).hit(0),new ut(!1).bezier(720,263,582,-300,!1,!0).hit(3).moveEnt(2,586,222.15),new ut(!0).bezier(436,356,383,-96,!1,!0).hit(1),new ut(!0).bezier(436,356,383,-96,!1,!0).hit(1),new ut(!0).bezier(436,356,383,-96,!1,!0).hit(1)];case 24:return[new ut(!0).bezier(694,364,572,225,!1,!0).hit(1),new ut(!0).bezier(694,364,572,225,!1,!0).hit(1),new ut(!0).bezier(694,364,572,225,!1,!0).hit(1),new ut(!0).bezier(667,136,553,-5,!0,!1).vector(639,209,!1,!0).hit(0),new ut(!0).bezier(667,136,553,-5,!0,!1).vector(639,209,!1,!0).hit(0),new ut(!0).bezier(667,136,553,-5,!0,!1).vector(639,209,!1,!0).hit(0)];case 25:return[new ut(!1).bezier(726,355,589,244,!1,!0).hit(5).activate([3]).movie(4,120,0).activate([2],0).fall("c_26_0",258),new ut(!0).bezier(529,186,451,43,!1,!0).hit(0),new ut(!0).bezier(529,186,451,43,!1,!0).hit(0),new ut(!0).bezier(529,186,451,43,!1,!0).hit(0),new ut(!0).bezier(450,195,396,131,!1,!0).hit(1),new ut(!0).bezier(450,195,396,131,!1,!0).hit(1),new ut(!0).bezier(450,195,396,131,!1,!0).hit(1)];case 26:return[new ut(!1).bezier(566,369,480,43,!0,!1).hit(3).bezier(740.05,353,687,320,!1,!0).hit(5).activate([2]),new ut(!1).bezier(741.05,246,603,173,!1,!0).hit(4).moveX("c_27_0",400),new ut(!0).bezier(665.05,266,549,145,!1,!0).hit(0),new ut(!0).bezier(665.05,266,549,145,!1,!0).hit(0),new ut(!0).bezier(665.05,266,549,145,!1,!0).hit(0),new ut(!0).bezier(399.05,329,363,145,!1,!0).hit(1),new ut(!0).bezier(412.05,328,372,-49,!1,!0).hit(1),new ut(!0).bezier(399.05,329,363,145,!1,!0).hit(1)];case 27:return[new ut(!1).bezier(725.05,47,592,14,!1,!0).hit(8).activate([6]),new ut(!1).bezier(721.05,318,589,182,!1,!0).hit(4).activate([5]),new ut(!1).bezier(728.05,174,594,175,!1,!0).hit(7).fall("c_28_0",262),new ut(!0).bezier(662.05,369,548,285,!1,!0).hit(1),new ut(!0).bezier(662.05,369,548,285,!1,!0).hit(1),new ut(!0).bezier(662.05,369,548,285,!1,!0).hit(1),new ut(!0).bezier(461.05,221,407,69,!0,!1).hit(3).bezier(217,112,290,69,!1,!0).hit(0),new ut(!0).bezier(461.05,221,407,69,!0,!1).hit(3).bezier(217,112,290,69,!1,!0).hit(0),new ut(!0).bezier(461.05,221,407,69,!0,!1).hit(3).bezier(217,112,290,69,!1,!0).hit(0),new ut(!0).bezier(461.05,221,407,154,!0,!1).hit(3).bezier(299,192,347,150,!1,!0).hit(2),new ut(!0).bezier(461.05,221,407,154,!0,!1).hit(3).bezier(299,192,347,150,!1,!0).hit(2),new ut(!0).bezier(461.05,221,407,154,!0,!1).hit(3).bezier(299,192,347,150,!1,!0).hit(2)];case 28:return[new ut(!0).bezier(752.05,244,613,155,!1,!0).hit(2),new ut(!0).bezier(752.05,244,613,155,!1,!0).hit(2),new ut(!0).bezier(752.05,244,613,155,!1,!0).hit(2),new ut(!1).bezier(526.05,349,455,280,!1,!0).hit(4),new ut(!0).bezier(726.05,360,595,280,!1,!0).hit(0),new ut(!0).bezier(588.05,364,498,306,!1,!0).hit(1),new ut(!0).bezier(726.05,360,595,280,!1,!0).hit(0),new ut(!0).bezier(588.05,364,498,306,!1,!0).hit(1),new ut(!0).bezier(588.05,364,498,306,!1,!0).hit(1),new ut(!0).bezier(726.05,360,595,280,!1,!0).hit(0)];case 29:return[new ut(!1).bezier(595.05,363,508,220,!0,!1).hit(5).bezier(221,365,333,281,!0,!1).hit(6).vector(246,264,!1,!0).hit(1).activate([3]),new ut(!1).bezier(735.05,166,605,109,!0,!1).hit(4).vector(652,47,!1,!0).hit(2).activate([7]),new ut(!0).bezier(723,357,596,137,!1,!0).hit(0),new ut(!0).bezier(772,308,631,206,!0,!1).vector(728,359,!1,!0).hit(0),new ut(!0).bezier(723,357,596,137,!1,!0).hit(0)];case 30:return[new ut(!1).bezier(368,351,335,188,!1,!0).hit(6).activate([3,4,5]),new ut(!0).bezier(700,126,568,52,!1,!0).hit(1),new ut(!0).bezier(700,126,568,52,!1,!0).hit(1),new ut(!0).bezier(700,126,568,52,!1,!0).hit(1),new ut(!0).bezier(697,260,566,150,!1,!0).hit(0),new ut(!0).bezier(697,260,566,150,!1,!0).hit(0),new ut(!0).bezier(697,260,566,150,!1,!0).hit(0),new ut(!0).bezier(697,390,566,290,!1,!0).hit(2),new ut(!0).bezier(697,390,566,290,!1,!0).hit(2),new ut(!0).bezier(697,390,566,290,!1,!0).hit(2)];case 31:return[new ut(!1).bezier(615,135,508,-76,!1,!0).hit(3),new ut(!0).bezier(698,152,566,81,!1,!0).hit(0),new ut(!0).bezier(698,152,566,81,!1,!0).hit(0),new ut(!0).bezier(698,152,566,81,!1,!0).hit(0),new ut(!1).bezier(616,257,509,153,!1,!0).hit(2),new ut(!0).bezier(696,282,565,153,!1,!0).hit(1),new ut(!0).bezier(696,282,565,153,!1,!0).hit(1),new ut(!0).bezier(696,282,565,153,!1,!0).hit(1)];default:return[new ut(!0).bezier(627,366,532,232,!1,!0).hit(0),new ut(!0).bezier(632,357,535,152,!1,!0).hit(0),new ut(!0).bezier(632,357,535,0,!1,!0).hit(0)]}},ut.getWrong=function(t){switch(t){case 1:return[new ut(!0).bezier(616,149,509,18,!1,!0),new ut(!0).bezier(567,400,475,18,!1,!0),new ut(!0).bezier(756,400,607,194,!1,!0)];case 2:return[new ut(!0).bezier(610,257,505,94,!1,!0),new ut(!0).bezier(512,266,436,206,!1,!0),new ut(!0).bezier(480,400,414,116,!1,!0)];case 3:return[new ut(!0).bezier(525,400,445,-260,!1,!0),new ut(!0).bezier(392,301,352,269,!1,!0),new ut(!0).bezier(374,400,340,87,!1,!0)];case 4:return[new ut(!0).bezier(477,173,412,46,!1,!0).hit(3),new ut(!0).bezier(467,240,405,172,!1,!0),new ut(!0).bezier(453,326,395,213,!1,!0)];case 5:return[new ut(!0).bezier(573,259,489,105,!1,!0),new ut(!0).bezier(573,259,489,105,!1,!0),new ut(!0).bezier(515,400,448,0,!1,!0)];case 6:return[new ut(!0).bezier(458,263,399,140,!1,!0),new ut(!0).bezier(587,260,489,140,!1,!0),new ut(!0).bezier(712,262,577,85,!1,!0)];case 7:return[new ut(!0).bezier(591,400,496,25,!1,!0),new ut(!0).bezier(603,203,504,104,!1,!0),new ut(!0).bezier(628,73,522,-40,!1,!0)];case 8:return[new ut(!0).bezier(682,274,555,45,!1,!0),new ut(!0).bezier(475,400,410,205,!1,!0),new ut(!0).bezier(562,102,471,58,!1,!0)];case 9:return[new ut(!0).bezier(751,400,604,58,!1,!0),new ut(!0).bezier(486,400,418,249,!1,!0),new ut(!0).bezier(570,110,477,32,!1,!0)];case 10:return[new ut(!0).bezier(515,400,453,32,!1,!0),new ut(!0).bezier(451,400,408,270,!1,!0),new ut(!0).bezier(562,291,486,260,!1,!0)];case 11:return[new ut(!0).bezier(645,400,544,71,!1,!0),new ut(!0).bezier(740,352,611,71,!1,!0),new ut(!0).bezier(476,400,426,273,!1,!0)];case 12:return[new ut(!0).bezier(358,400,329,345,!1,!0),new ut(!0).bezier(357,350,328,257,!1,!0),new ut(!0).bezier(358,352,329,121,!1,!0)];case 13:return[new ut(!0).bezier(449,395,407,253,!1,!0),new ut(!0).bezier(399,400,372,141,!1,!0),new ut(!0).bezier(446,261,405,237,!1,!0)];case 14:return[new ut(!0).bezier(461,197,407,63,!1,!0),new ut(!0).bezier(619,192,518,-60,!1,!0),new ut(!0).bezier(763,294,619,-160,!0,!1).vector(608,287,!1,!0)];case 15:return[new ut(!0).bezier(773,284,640,138,!1,!0),new ut(!0).bezier(595,302,516,138,!1,!0),new ut(!0).bezier(767,157,636,101,!0,!1).hit(5).bezier(495.05,84,576,55,!1,!0)];case 16:return[new ut(!0).bezier(563,272,487,218,!1,!0),new ut(!0).bezier(606,197,517,-62,!1,!0),new ut(!0).bezier(490,400,436,53,!1,!0)];case 17:return[new ut(!0).bezier(552,155,465,105,!1,!0),new ut(!0).bezier(471,400,408,36,!1,!0),new ut(!0).bezier(518,290,441,226,!0,!1).hit(1).bezier(287.05,201,356,124,!1,!0)];case 18:return[new ut(!0).bezier(380,200,344,32,!1,!0),new ut(!0).bezier(647,199,531,-35,!1,!0),new ut(!0).bezier(758,44,609,-35,!0,!1).hit(3).teleport(751,300).hit(2).bezier(510.05,400,582,319,!1,!0).hit(4)];case 19:return[new ut(!0).bezier(591,400,492,254,!1,!0),new ut(!0).bezier(700,400,568,37,!1,!0),new ut(!0).bezier(712,268,576,127,!1,!0)];case 20:return[new ut(!0).bezier(591,106,486,-78,!1,!0).hit(2),new ut(!0).bezier(493,43,418,-33,!1,!0),new ut(!0).bezier(443,400,383,-33,!1,!0)];case 21:return[new ut(!0).bezier(488,241,411,-33,!1,!0),new ut(!0).bezier(745,134,591,-84,!1,!0),new ut(!0).bezier(721,246,574,-5,!1,!0)];case 22:return[new ut(!0).bezier(360,253,321,132,!1,!0),new ut(!0).bezier(533,250,442,44,!1,!0),new ut(!0).bezier(536,73,444,-19,!1,!0)];case 23:return[new ut(!0).bezier(361,219,331,-19,!1,!0),new ut(!0).bezier(508,219,434,-103,!1,!0),new ut(!0).bezier(347,232,315,230,!1,!0)];case 24:return[new ut(!0).bezier(590,124,500,2,!1,!0),new ut(!0).bezier(728,122,596,-50,!1,!0),new ut(!0).bezier(573,324,488,190,!1,!0)];case 25:return[new ut(!0).bezier(657,219,541,91,!1,!0),new ut(!0).bezier(380,400,347,91,!1,!0),new ut(!0).bezier(544,336,462,68,!1,!0)];case 26:return[new ut(!0).bezier(514,353,445,68,!1,!0),new ut(!0).bezier(664,153,550,13,!1,!0),new ut(!0).bezier(653,390,542,244,!1,!0)];case 27:return[new ut(!0).bezier(673,122,555,-31,!1,!0),new ut(!0).bezier(640,400,532,-80,!1,!0),new ut(!0).bezier(423,399,380,105,!1,!0)];case 28:return[new ut(!0).bezier(599,259,507,105,!1,!0),new ut(!0).bezier(687,168,568,19,!1,!0),new ut(!0).bezier(500,400,437,19,!1,!0)];case 29:return[new ut(!0).bezier(640,325,538,19,!1,!0),new ut(!0).bezier(636,196,535,78,!1,!0),new ut(!0).bezier(468,400,417,78,!1,!0)];case 30:return[new ut(!0).bezier(468,400,405,78,!1,!0),new ut(!0).bezier(600,400,498,78,!1,!0),new ut(!0).bezier(613,173,507,30,!1,!0)];case 31:return[new ut(!0).bezier(455,108,396,2,!1,!0),new ut(!0).bezier(365,299,333,2,!1,!0),new ut(!0).bezier(556,306,467,19,!1,!0)];default:return[new ut(!0).bezier(749,400,617,178,!1,!0),new ut(!0).bezier(571,400,493,264,!1,!0),new ut(!0).bezier(473,400,424,163,!1,!0)]}},ut.prototype={getAngleAndPower:function(t,e){return this.c_chain[0].calc(t,e)},start:function(t){this.c_bullet=t,this.c_chain[0].start(this.c_bullet),F.get_ticker().add(De(this,this.update))},update:function(t){var e=this.c_chain[this.c_curr];null==e?(F.get_ticker().remove(De(this,this.update)),null!=ut.g_callback&&ut.g_callback()):!e.update(t)||null!=(t=this.c_chain[++this.c_curr])&&t.start(this.c_bullet)},moveEnt:function(t,e,s,i){t=ut.g_scene.getEntity(t);return null==i&&(i=.2),this.c_chain[this.c_num++]=new at(t,e,s,i),this},movie:function(t,e,s){t=ut.g_scene.getEntity(t);return null==s&&(s=.2),this.c_chain[this.c_num++]=new ht(t,e,s),this},moveX:function(t,e,s){t=ut.g_scene.getContainer(t);return null==s&&(s=.2),this.c_chain[this.c_num++]=new _t(t,e,s),this},moveY:function(t,e,s){t=ut.g_scene.getContainer(t);return null==s&&(s=.2),this.c_chain[this.c_num++]=new ot(t,e,s),this},fall:function(t,e,s){t=ut.g_scene.getContainer(t);return null==s&&(s=.2),this.c_chain[this.c_num++]=new rt(t,e,s),this},activate:function(t,e){for(var s=[],i=t.length;-1<--i;)s.push(ut.g_scene.getEntity(t[i]));return null==e&&(e=.2),this.c_chain[this.c_num++]=new it(s,e),this},hit:function(t){var e=this.c_chain,s=this.c_num-1,t=ut.g_scene.getEntity(t);return e[s].entities=[t],this},bezier:function(t,e,s,i,n,r){return null==r&&(r=!1),null==n&&(n=!0),this.c_chain[this.c_num++]=new nt(t,e,s,i,r,n),this},vector:function(t,e,s,i){return null==i&&(i=!1),null==s&&(s=!0),this.c_chain[this.c_num++]=new lt(t,e,i,s),this},teleport:function(t,e){return this.c_chain[this.c_num++]=new ct(t,e),this},__class__:ut},dt.__name__=["haxe","ds","IntMap"],dt.__interfaces__=[i],dt.prototype={set:function(t,e){this.h[t]=e},get:function(t){return this.h[t]},remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},__class__:dt};var pt=function(){this.h={}};function ft(t){this.__x=t}function mt(t){this.__x=t}function vt(t){this.__x=t}function gt(t){this.__x=t}function wt(t){this.__x=t}pt.__name__=["haxe","ds","StringMap"],pt.__interfaces__=[i],pt.prototype={set:function(t,e){null!=Ye[t]?this.setReserved(t,e):this.h[t]=e},get:function(t){return null!=Ye[t]?this.getReserved(t):this.h[t]},setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)},remove:function(t){return null!=Ye[t]?(t="$"+t,!(null==this.rh||!this.rh.hasOwnProperty(t))&&(delete this.rh[t],!0)):!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return S.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},__class__:pt},ft.__name__=["haxe","xml","_Fast","NodeAccess"],ft.prototype={resolve:function(t){var e,s=this.__x.elementsNamed(t).next();if(null!=s)return new bt(s);if(this.__x.nodeType==V.Document)e="Document";else{s=this.__x;if(s.nodeType!=V.Element)throw new Tt("Bad node type, expected Element but found "+s.nodeType);e=s.nodeName}throw new Tt(e+" is missing element "+t)},__class__:ft},mt.__name__=["haxe","xml","_Fast","AttribAccess"],mt.prototype={resolve:function(t){if(this.__x.nodeType==V.Document)throw new Tt("Cannot access document attribute "+t);var e=this.__x.get(t);if(null!=e)return e;e=this.__x;if(e.nodeType!=V.Element)throw new Tt("Bad node type, expected Element but found "+e.nodeType);throw new Tt(e.nodeName+" is missing attribute "+t)},__class__:mt},vt.__name__=["haxe","xml","_Fast","HasAttribAccess"],vt.prototype={resolve:function(t){if(this.__x.nodeType==V.Document)throw new Tt("Cannot access document attribute "+t);return this.__x.exists(t)},__class__:vt},gt.__name__=["haxe","xml","_Fast","HasNodeAccess"],gt.prototype={__class__:gt},wt.__name__=["haxe","xml","_Fast","NodeListAccess"],wt.prototype={resolve:function(t){for(var e=new v,s=this.__x.elementsNamed(t);s.hasNext();){var i=s.next();e.add(new bt(i))}return e},__class__:wt};var bt=function(t){if(t.nodeType!=V.Document&&t.nodeType!=V.Element)throw new Tt("Invalid nodeType "+t.nodeType);this.x=t,this.node=new ft(t),this.nodes=new wt(t),this.att=new mt(t),this.has=new vt(t),this.hasNode=new gt(t)};function yt(t,e,s){this.xml=e,this.message=t,this.position=s,this.lineNumber=1;for(var i=this.positionAtLine=0,n=s;i<n;){var r=i++,r=e.charCodeAt(r);10==r?(this.lineNumber++,this.positionAtLine=0):13!=r&&this.positionAtLine++}}bt.__name__=["haxe","xml","Fast"],bt.prototype={__class__:bt},yt.__name__=["haxe","xml","XmlParserException"],yt.prototype={toString:function(){return U.getClassName(Et.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:yt};var xt=function(){};xt.__name__=["haxe","xml","Parser"],xt.parse=function(t,e){null==e&&(e=!1);var s=V.createDocument();return xt.doParse(t,e,0,s),s},xt.doParse=function(t,e,s,i){null==s&&(s=0);for(var n,r,a,_=null,o=1,h=1,c=null,l=0,u=0,d=0,p=t.charCodeAt(s),f=new Y,m=1,v=-1;p==p;){switch(o){case 0:switch(p){case 9:case 10:case 13:case 32:break;default:o=h;continue}break;case 1:if(60!=p){l=s,o=13;continue}o=0,h=2;break;case 2:switch(p){case 33:if(91==t.charCodeAt(s+1)){if(s+=2,"CDATA["!=S.substr(t,s,6).toUpperCase())throw new Tt(new yt("Expected <![CDATA[",t,s));o=17,l=(s+=5)+1}else if(68==t.charCodeAt(s+1)||100==t.charCodeAt(s+1)){if("OCTYPE"!=S.substr(t,s+2,6).toUpperCase())throw new Tt(new yt("Expected <!DOCTYPE",t,s));o=16,l=(s+=8)+1}else{if(45!=t.charCodeAt(s+1)||45!=t.charCodeAt(s+2))throw new Tt(new yt("Expected \x3c!--",t,s));o=15,l=(s+=2)+1}break;case 47:if(null==i)throw new Tt(new yt("Expected node name",t,s));l=s+1,o=0,h=10;break;case 63:o=14,l=s;break;default:o=3,l=s;continue}break;case 3:if(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)break;if(s==l)throw new Tt(new yt("Expected node name",t,s));_=V.createElement(S.substr(t,l,s-l)),i.addChild(_),++u,o=0,h=4;continue;case 4:switch(p){case 47:o=11;break;case 62:o=9;break;default:o=5,l=s;continue}break;case 5:if(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)break;if(l==s)throw new Tt(new yt("Expected attribute name",t,s));if(c=S.substr(t,l,s-l),_.exists(c))throw new Tt(new yt("Duplicate attribute ["+c+"]",t,s));o=0,h=6;continue;case 6:if(61!=p)throw new Tt(new yt("Expected =",t,s));o=0,h=7;break;case 7:switch(p){case 34:case 39:f=new Y,o=8,l=s+1,v=p;break;default:throw new Tt(new yt('Expected "',t,s))}break;case 8:switch(p){case 38:var g=s-l;f.b+=null==g?S.substr(t,l,null):S.substr(t,l,g),o=18,m=8,l=s+1;break;case 60:case 62:if(e)throw new Tt(new yt("Invalid unescaped "+String.fromCharCode(p)+" in attribute value",t,s));p==v&&(n=s-l,f.b+=null==n?S.substr(t,l,null):S.substr(t,l,n),n=f.b,f=new Y,_.set(c,n),o=0,h=4);break;default:p==v&&(n=s-l,f.b+=null==n?S.substr(t,l,null):S.substr(t,l,n),n=f.b,f=new Y,_.set(c,n),o=0,h=4)}break;case 9:l=s=xt.doParse(t,e,s,_),o=1;break;case 10:if(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)break;if(l==s)throw new Tt(new yt("Expected node name",t,s));var w=S.substr(t,l,s-l);if(i.nodeType!=V.Element)throw new Tt("Bad node type, expected Element but found "+i.nodeType);if(w!=i.nodeName){if(i.nodeType!=V.Element)throw new Tt("Bad node type, expected Element but found "+i.nodeType);throw new Tt(new yt("Expected </"+i.nodeName+">",t,s))}o=0,h=12;continue;case 11:if(62!=p)throw new Tt(new yt("Expected >",t,s));o=1;break;case 12:if(62==p)return 0==u&&i.addChild(V.createPCData("")),s;throw new Tt(new yt("Expected >",t,s));case 13:60==p?(r=s-l,f.b+=null==r?S.substr(t,l,null):S.substr(t,l,r),r=V.createPCData(f.b),f=new Y,i.addChild(r),++u,o=0,h=2):38==p&&(r=s-l,f.b+=null==r?S.substr(t,l,null):S.substr(t,l,r),o=18,m=13,l=s+1);break;case 14:63==p&&62==t.charCodeAt(s+1)&&(++s,a=S.substr(t,l+1,s-l-2),i.addChild(V.createProcessingInstruction(a)),++u,o=1);break;case 15:45==p&&45==t.charCodeAt(s+1)&&62==t.charCodeAt(s+2)&&(i.addChild(V.createComment(S.substr(t,l,s-l))),++u,s+=2,o=1);break;case 16:91==p?++d:93==p?--d:62==p&&0==d&&(i.addChild(V.createDocType(S.substr(t,l,s-l))),++u,o=1);break;case 17:93==p&&93==t.charCodeAt(s+1)&&62==t.charCodeAt(s+2)&&(a=V.createCData(S.substr(t,l,s-l)),i.addChild(a),++u,s+=2,o=1);break;case 18:if(59==p){var b=S.substr(t,l,s-l);if(35==b.charCodeAt(0)){var y=120==b.charCodeAt(1)?H.parseInt("0"+S.substr(b,1,b.length-1)):H.parseInt(S.substr(b,1,b.length-1));f.b+=String.fromCharCode(y)}else{y=xt.escapes;if(null!=Ye[b]?y.existsReserved(b):y.h.hasOwnProperty(b)){y=xt.escapes,y=null!=Ye[b]?y.getReserved(b):y.h[b];f.b+=H.string(y)}else{if(e)throw new Tt(new yt("Undefined entity: "+b,t,s));f.b+=H.string("&"+b+";")}}l=s+1,o=m}else if(!(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)&&35!=p){if(e)throw new Tt(new yt("Invalid character in entity: "+String.fromCharCode(p),t,s));f.b+="&";b=s-l;f.b+=null==b?S.substr(t,l,null):S.substr(t,l,b),l=s--,o=m}}p=t.charCodeAt(++s)}if(1==o&&(l=s,o=13),13==o)return s==l&&0!=u||(x=s-l,f.b+=null==x?S.substr(t,l,null):S.substr(t,l,x),i.addChild(V.createPCData(f.b)),++u),s;if(e||18!=o||13!=m)throw new Tt(new yt("Unexpected end",t,s));f.b+="&";var x=s-l;return f.b+=null==x?S.substr(t,l,null):S.substr(t,l,x),i.addChild(V.createPCData(f.b)),++u,s};var Tt=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,Tt)};Tt.__name__=["js","_Boot","HaxeError"],Tt.wrap=function(t){return t instanceof Error?t:new Tt(t)},Tt.__super__=Error,Tt.prototype=s(Error.prototype,{__class__:Tt});var Et=function(){};function At(){}function St(){}function Ct(){this.onFullscreen=new o,this.onOrientationChange=new o}function kt(){this.isLoading=!1,this.event_reset()}function Ot(){}Et.__name__=["js","Boot"],Et.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;t=Et.__nativeClassName(t);return null!=t?Et.__resolveNativeClass(t):null},Et.__string_rec=function(t,e){if(null==t)return"null";if(5<=e.length)return"<...>";var s,i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var n=t[0]+"(";e+="\t";for(var r=2,a=t.length;r<a;){var _=r++;n+=2!=_?","+Et.__string_rec(t[_],e):Et.__string_rec(t[_],e)}return n+")"}var o="[";e+="\t";for(var h=0,c=t.length;h<c;){var l=h++;o+=(0<l?",":"")+Et.__string_rec(t[l],e)}return o+="]"}try{s=t.toString}catch(t){return"???"}if(null!=s&&s!=Object.toString&&"function"==typeof s){var u=t.toString();if("[object Object]"!=u)return u}var d=null,p="{\n";e+="\t";var f=null!=t.hasOwnProperty;for(d in t)f&&!t.hasOwnProperty(d)||"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=p.length&&(p+=", \n"),p+=e+d+" : "+Et.__string_rec(t[d],e));return p+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},Et.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var s=t.__interfaces__;if(null!=s)for(var i=0,n=s.length;i<n;){var r=s[i++];if(r==e||Et.__interfLoop(r,e))return!0}return Et.__interfLoop(t.__super__,e)},Et.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array&&null==t.__enum__;case Me:return"boolean"==typeof t;case Ne:return!0;case Fe:return"number"==typeof t;case Le:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(Et.__interfLoop(Et.getClass(t),e))return!0}else if("object"==typeof e&&Et.__isNativeObj(e)&&t instanceof e)return!0;return e==Pe&&null!=t.__name__?!0:e==He&&null!=t.__ename__||t.__enum__==e}},Et.__nativeClassName=function(t){t=Et.__toStr.call(t).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},Et.__isNativeObj=function(t){return null!=Et.__nativeClassName(t)},Et.__resolveNativeClass=function(t){return e[t]},At.__name__=["js","Browser"],At.getLocalStorage=function(){try{var t=window.localStorage;return t.getItem(""),t}catch(t){return null}},St.__name__=["platform","Context"],St.prototype={save:function(){},restore:function(){},pre_render:function(){},post_render:function(){},transform:function(t,e,s,i,n,r){},adjustAlpha:function(t){},setAlpha:function(t){},setScissor:function(t,e,s,i){},setColor:function(){},drawRect:function(t,e,s,i,n){},drawTexture:function(t,e,s,i,n,r,a){},drawPattern:function(t,e,s,i,n){},__class__:St},Ct.__name__=["platform","Display"],Ct.prototype={__class__:Ct},kt.__name__=["platform","Loader"],kt.prototype={start:function(t,e){var s=this;return 0==this.numAssets?(null!=t&&t(),!1):(new B(0,0,function(){s.f_comp=t,s.f_prog=e,s.isLoading=!0,s.event_start()},null,!1,null,!0,!0),!0)},add:function(t){var e=-1==this.base.indexOf(t);return e&&(this.base[this.numAssets++]=t),e},loadData:function(t,e,s,i){return!1},loadAsset:function(i,n,t){var s=this;if(null==i||null==i.path||null==i.name)return!1;var e=i.type;switch(e[1]){case 0:this.loadData(i.path,e,function(t){var e=null!=i.root,s=e?i.root:null,s=m.platform.get_renderer().createTextureFromNativeData(t,s);e||((i.root=s).info=i,L.setTexture(i.name,s,!0)),null!=n&&n()},t);break;case 1:this.loadData(i.path,e,function(t){L.setString(i.name,t,!0),null!=n&&n()},t);break;case 2:this.loadData(i.path,e,function(t){var e;null==i.root?(e=s.createSoundAsset(t),(i.root=e).info=i,L.setSound(i.name,e,!0)):i.root.upload(t),null!=n&&n()},t)}return!0},createSoundAsset:function(t){return null},event_start:function(){for(var t=-1;++t<this.numAssets;)this.loadAsset(this.base[t],De(this,this.event_progress),De(this,this.event_progress_file))},event_progress:function(){this.progress=++this.curr/this.numAssets,null!=this.f_prog&&this.f_prog(this.progress),1<=this.progress&&this.event_complete()},event_progress_file:function(t){this.progress=(this.curr+t)/this.numAssets,null!=this.f_prog&&this.f_prog(this.progress)},event_complete:function(){this.isLoading=!1,null!=this.f_comp&&this.f_comp(),this.event_reset()},event_reset:function(){this.progress=0,this.numAssets=this.curr=0,this.base=[],this.f_comp=null,this.f_prog=null},__class__:kt},Ot.__name__=["platform","Platform"],Ot.prototype={message:function(t){console.log(t)},getSeed:function(){return H.random(65536)},get_renderer:function(){return null},get_loader:function(){return null},get_storage:function(){return null},__class__:Ot,__properties__:{get_storage:"get_storage",get_loader:"get_loader",get_renderer:"get_renderer"}};var Rt={__ename__:!0,__constructs__:["CANVAS","CUSTOM"],CANVAS:["CANVAS",0]};function zt(){}function It(){}function Dt(){It.call(this),this.isPlaying=this.isPaused=!1,this.c_vol=1,this.c_loop=!1}function Lt(t){this.base=new pt,this.name=t}function Nt(t){It.call(this),this.id=t,this.w=this.h=0,this.texture=new pe(this,0,0,this.w,this.h,0,0)}Rt.CANVAS.toString=t,(Rt.CANVAS.__enum__=Rt).CUSTOM=["CUSTOM",1],Rt.CUSTOM.toString=t,Rt.CUSTOM.__enum__=Rt,zt.__name__=["platform","Renderer"],zt.prototype={createTextureFromNativeData:function(t,e){return null},__class__:zt},It.__name__=["playware","assets","Asset"],It.prototype={upload:function(t){},unload:function(){},dispose:function(){this.unload(),null!=this.info&&null!=this.info.pack&&(this.info.pack.remove(this.info),this.info=null),null!=this.e_reloaded&&(this.e_reloaded.dispose(),this.e_reloaded=null)},get_onReloaded:function(){return null==this.e_reloaded&&(this.e_reloaded=new o),this.e_reloaded},__class__:It,__properties__:{get_onReloaded:"get_onReloaded"}},Dt.__name__=["platform","SoundAsset"],Dt.__super__=It,Dt.prototype=s(It.prototype,{play:function(t,e,s,i){null==e&&(e=!1),null==t&&(t=1),this.c_vol=-1,this.set_vol(t),this.set_loop(e),this.c_func=s,this.c_args=i},stop:function(){null!=this.channel&&this.channel.remove(this)},pause:function(){},resume:function(){},event_update_volume:function(){},event_pause:function(t){},event_complete:function(t){this.c_loop||this.stop(),D.callMethod(this.c_func,this.c_args)},get_vol:function(){return this.c_vol},set_vol:function(t){return 1<t?t=1:t<0&&(t=0),t!=this.c_vol&&(this.c_vol=t,this.event_update_volume()),t},get_loop:function(){return this.c_loop},set_loop:function(t){return this.c_loop=t},__class__:Dt,__properties__:s(It.prototype.__properties__,{set_loop:"set_loop",get_loop:"get_loop",set_vol:"set_vol",get_vol:"get_vol"})}),Lt.__name__=["platform","Storage"],Lt.prototype={load:function(){return!1},save:function(){return!1},clear:function(){return!1},get:function(t,e){var s=this.base;if(null==(null!=Ye[t]?s.getReserved(t):s.h[t]))return null!=e&&(s=this.base,null!=Ye[t]?s.setReserved(t,e):s.h[t]=e),e;e=this.base;return null!=Ye[t]?e.getReserved(t):e.h[t]},set:function(t,e){var s=this.base;null!=Ye[t]?s.setReserved(t,e):s.h[t]=e},getb:function(t,e){null==e&&(e=!1);var s=this.base;if(null==(null!=Ye[t]?s.getReserved(t):s.h[t])){var i=e?"1":"0",s=this.base;return null!=Ye[t]?s.setReserved(t,i):s.h[t]=i,e}e=this.base;return"1"==(null!=Ye[t]?e.getReserved(t):e.h[t])},__class__:Lt},Nt.__name__=["platform","TextureAsset"],Nt.__super__=It,Nt.prototype=s(It.prototype,{__class__:Nt});var Ft=function(t){if(null!=t)this.c_prev=t;else for(var e=new Ft(this),s=6;-1<--s;)e=new Ft(e);this.isEnabled=!1};function Mt(t,e){var s=this;Ct.call(this),this.canvas=t,this.scaleFactor=this.getScaleFactor(),1!=this.scaleFactor&&(Vt.setVendorStyle(this.canvas,"transform-pivot","top left"),Vt.setVendorStyle(this.canvas,"transform","scale("+1/this.scaleFactor+")")),Vt.hideBrowser&&(window.addEventListener("orientationchange",function(t){window.setTimeout(De(s,s.hideBrowser),200)},!1),this.hideBrowser()),window.addEventListener("resize",De(this,this.event_resize),!1),this.event_resize(),null!=e&&e!=O.AUTO_LOCK||(e=m.WIDTH>=m.HEIGHT?O.LANDSCAPE:O.PORTRAIT),this.requestOrientation(e),null!=window.orientation&&window.addEventListener("orientationchange",De(this,this.event_orientation),!1),Vt.addVendorListener(window.document,"fullscreenchange",function(t){s.event_fullscreen()},!1),this.event_fullscreen()}function Pt(){kt.call(this)}Ft.__name__=["platform","html5","ColorSettings"],Ft.prototype={next:function(){var t=this.c_next;return null==t&&(t=new Ft(this),this.c_next=t),t.isEnabled=this.isEnabled,t},prev:function(){return this.isEnabled=!1,this.c_prev},__class__:Ft},Mt.__name__=["platform","html5","HTML5Display"],Mt.__super__=Ct,Mt.prototype=s(Ct.prototype,{requestOrientation:function(t){if(this.orientation==t)return!0;switch(t[1]){case 0:case 1:var e=Vt.loadExtension("lockOrientation",window.screen).value;if(null==e)return!1;var s=t==O.LANDSCAPE?"landscape":"portrait",s=e.apply(window.screen,[s]);return s&&(this.orientation=t),s;case 2:s=Vt.loadExtension("unlockOrientation",window.screen).value;return null!=s&&(s.apply(window.screen,[]),this.orientation=O.AUTO,!0);case 3:return this.requestOrientation(m.WIDTH>=m.HEIGHT?O.LANDSCAPE:O.PORTRAIT)}},event_resize:function(t){var e=this.canvas.parentElement,s=window.innerWidth,i=window.innerHeight;e.style.width=s+"px",e.style.height=i+"px",this.shouldResizeCanvas(s,i),m.event_resize(s,i)},event_orientation:function(){var t=window.orientation;this.orientation=-90==t||90==t?O.LANDSCAPE:O.PORTRAIT,this.onOrientationChange.dispatch(!1,!1),this.event_resize()},event_fullscreen:function(){var t=Vt.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value;this.isFullscreen=1==t,this.onFullscreen.dispatch(!1,!1)},getScaleFactor:function(){var t=window.devicePixelRatio;null==t&&(t=1);var e=window.document.createElement("canvas").getContext("2d",null),s=Vt.loadExtension("backingStorePixelRatio",e).value;null==s&&(s=1);e=t/s,t=window.screen.width,s=window.screen.height;return 1136<e*t||1136<e*s?1:e},shouldResizeCanvas:function(t,e){return t=this.scaleFactor*t|0,e=this.scaleFactor*e|0,(t!=this.canvas.width||e!=this.canvas.height)&&(this.canvas.width=t,this.canvas.height=e,!0)},hideBrowser:function(){var t=this,e=window.document.documentElement.style;e.height=H.string(window.innerHeight+100)+"px",e.width=H.string(window.innerWidth)+"px",e.overflow="visible",window.setTimeout(function(){window.scrollTo(1,0),window.setTimeout(function(){e.height=H.string(window.innerHeight)+"px",t.event_resize()},100)},0)},get_w:function(){return this.canvas.width},get_h:function(){return this.canvas.height},__class__:Mt}),Pt.__name__=["platform","html5","HTML5Loader"],Pt.__super__=kt,Pt.prototype=s(kt.prototype,{loadData:function(t,e,s,i){var n=this;if(null==t||null==e||null==s)return!1;switch(e[1]){case 0:var r=window.document.createElement("img");r.addEventListener("load",function(t){s(r)},!1),this.isBlobSupported()?this.download(t,"blob",function(t){r.src=n.url.createObjectURL(t)},i):r.src=t;break;case 1:this.download(t,"text",s,i);break;case 2:var a=window.document.createElement("audio");a.preload="auto";var _,o,h,c=++Pt.refCount;null==Pt.refElements&&(Pt.refElements=new dt),Pt.refElements.set(c,a),_=function(t){Pt.refElements.remove(c),a.removeEventListener("canplaythrough",_,!1),a.removeEventListener("progress",o,!1),a.removeEventListener("error",h,!1),s(a)},o=function(t){},h=function(t){Pt.refElements.remove(c),a.removeEventListener("canplaythrough",_,!1),a.removeEventListener("progress",o,!1),a.removeEventListener("error",h,!1)},a.addEventListener("canplaythrough",_,!1),a.addEventListener("progress",o,!1),a.addEventListener("error",h,!1),a.src=t,a.load()}return!0},createSoundAsset:function(t){return new Yt(t)},download:function(t,s,i,n){function r(){h&&(h=!1,window.clearInterval(o))}function a(){return 0<=--c&&(e(),!0)}var _=null,e=null,o=0,h=!1,c=3;(e=function(){r(),null!=_&&_.abort(),(_=new XMLHttpRequest).open("GET",t,!0),_.responseType=s;var e=0;_.onprogress=function(t){h||(h=!0,o=window.setInterval(function(){4!=_.readyState&&5e3<Date.now()-e&&(a()||r())},1e3)),e=Date.now()},_.onprogress=function(t){0==_.status&&a()||r(),null!=n&&n(t.loaded/t.total)},_.onload=function(t){var e=_.response;null==e&&(e=_.responseText),r(),i(e)},_.send()})()},isBlobSupported:function(){if(this.detect_blob){if(this.detect_blob=!1,new h("\\bSilk\\b","").match(window.navigator.userAgent))return!1;if(null==window.Blob)return!1;var t=new XMLHttpRequest;if(t.open("GET",".",!0),(t.responseType="blob")!=t.responseType)return!1;this.url=Vt.loadExtension("URL").value}return null!=this.url&&null!=this.url.createObjectURL},__class__:Pt});var Ht=function(t,e,s,i){var n,r,a=this;Ot.call(this),this.isMobile=null!=window.orientation||-1!=window.navigator.userAgent.indexOf("IEMobile"),this.util_mouse_down=!1,0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")&&(n=Math.sin,r=Math.cos,Math.sin=function(t){return 0==t?0:n(t)},Math.cos=function(t){return 0==t?1:r(t)}),this.canvas=window.document.createElement("canvas");var _=window.document.getElementById("content");_.style.width=H.string(window.innerWidth)+"px",_.style.height=H.string(window.innerHeight)+"px",_.appendChild(this.canvas),this.canvas.setAttribute("tabindex","0"),this.canvas.style.outlineStyle="none",this.canvas.style.webkitTapHighlightColor="transparent",this.c_display=new Mt(this.canvas,i),this.c_renderer=this.getRenderer(),this.c_loader=new Pt,this.parent=this.canvas.parentElement,this.parent.style.overflow="hidden",this.parent.style.position="relative";var o=window.onerror;window.onerror=function(t,e,s){return null!=o&&o(t,e,s)},this.parent.style.msTouchAction="none";var h=0,i=function(t){if(!(t.timeStamp-h<1e3)){var e=a.canvas.getBoundingClientRect(),s=(t.clientX-e.left)*a.c_display.get_w()/e.width,i=(t.clientY-e.top)*a.c_display.get_h()/e.height;switch(t.type){case"mousedown":if(t.target!=a.canvas)return;t.preventDefault(),m.root.submitTouch(0,s,i,me.BEGIN),a.canvas.focus(),a.util_mouse_down=!0;break;case"mousemove":m.root.submitTouch(0,s,i,a.util_mouse_down?me.MOVE:me.OVER);break;case"mouseup":m.root.submitTouch(0,s,i,me.END),a.util_mouse_down=!1}}};window.addEventListener("mousedown",i,!1),window.addEventListener("mousemove",i,!1),window.addEventListener("mouseup",i,!1),this.canvas.addEventListener("mousewheel",i,!1),this.canvas.addEventListener("DOMMouseScroll",i,!1);var c=void 0!==window.ontouchstart,i=("msMaxTouchPoints"in window.navigator&&window.navigator.msMaxTouchPoints,function(t){var e=c?t.changedTouches[0]:t,s=t.target.getBoundingClientRect();switch(h=t.timeStamp,t.type){case"MSPointerMove":case"pointermove":case"touchmove":t.preventDefault(),m.root.submitTouch(0,(e.clientX-s.left)*a.c_display.get_w()/s.width,(e.clientY-s.top)*a.c_display.get_h()/s.height,me.MOVE);break;case"MSPointerUp":case"pointerup":case"touchcancel":case"touchend":m.root.submitTouch(0,(e.clientX-s.left)*a.c_display.get_w()/s.width,(e.clientY-s.top)*a.c_display.get_h()/s.height,me.END);break;case"MSPointerDown":case"pointerdown":case"touchstart":t.preventDefault(),Vt.hideBrowser&&window.scrollTo(1,0),m.root.submitTouch(0,(e.clientX-s.left)*a.c_display.get_w()/s.width,(e.clientY-s.top)*a.c_display.get_h()/s.height,me.BEGIN)}});c?(this.canvas.addEventListener("touchstart",i,!1),this.canvas.addEventListener("touchmove",i,!1),this.canvas.addEventListener("touchend",i,!1),this.canvas.addEventListener("touchcancel",i,!1)):(this.canvas.addEventListener("MSPointerDown",i,!1),this.canvas.addEventListener("MSPointerMove",i,!1),this.canvas.addEventListener("MSPointerUp",i,!1));var l,u=Vt.loadExtension("hidden",window.document);null!=u.value?(l=I.field(window.document,u.field),m.event_deactivate(l)):(d=function(t){t="pagehide"==t.type;m.event_deactivate(t)},window.addEventListener("pageshow",d,!1),window.addEventListener("pagehide",d,!1)),window.addEventListener("blur",function(t){m.event_deactivate(!0)},!1),window.addEventListener("focus",function(t){m.event_deactivate(!1)},!1),window.addEventListener("unload",function(t){m.onExit.dispatch(!0,!0)},!1);var d=At.getLocalStorage();this.c_storage=new Xt("playware_"+t,d);var p,f=Vt.loadExtension("requestAnimationFrame").value;null==f?window.setInterval(m.event_update,16):(p=null,p=function(){m.event_update(),f(p,a.canvas)},f(p,this.canvas)),this.canvas.focus()};Ht.__name__=["platform","html5","HTML5Platform"],Ht.__super__=Ot,Ht.prototype=s(Ot.prototype,{message:function(t){window.console.log(t)},getRenderer:function(){return new Bt(this.canvas)},get_renderer:function(){return this.c_renderer},get_loader:function(){return this.c_loader},get_storage:function(){return this.c_storage},__class__:Ht});var Yt=function(t){Dt.call(this),null!=t&&(this.audioElement=t,this.audioElement.addEventListener("ended",De(this,this.event_complete),!1))};Yt.__name__=["platform","html5","HTML5SoundAsset"],Yt.__super__=Dt,Yt.prototype=s(Dt.prototype,{upload:function(t){this.unload(),this.audioElement=t,this.audioElement.addEventListener("ended",De(this,this.event_complete),!1),null!=this.e_reloaded&&this.e_reloaded.dispatch(!1,!1)},unload:function(){null!=this.audioElement&&(this.isPlaying&&this.audioElement.pause(),this.audioElement.removeEventListener("ended",De(this,this.event_complete),!1),this.audioElement=null)},play:function(t,e,s,i){null==e&&(e=!1),null==t&&(t=1),Dt.prototype.play.call(this,t,e,s,i),this.isPlaying?this.audioElement.currentTime=0:this.audioElement.play(),this.isPlaying=!0},stop:function(){this.isPlaying&&(this.isPlaying=!1,this.audioElement.pause(),this.audioElement.currentTime=0)},pause:function(){this.isPaused||(this.isPaused=!0,this.audioElement.pause())},resume:function(){this.isPaused&&(this.isPaused=!1,this.audioElement.play())},event_update_volume:function(){this.audioElement.volume=null==this.channel?this.c_vol:this.c_vol*this.channel.c_vol},event_pause:function(t){this.isPlaying&&!this.isPaused&&(t?this.audioElement.pause():this.audioElement.play())},set_loop:function(t){return this.audioElement.loop=t,this.c_loop=t},__class__:Yt});var Xt=function(t,e){Lt.call(this,X.replace(t," ","").toLowerCase()),this.local=e};function Gt(t,e){St.call(this),this.ctx=t.getContext("2d",{alpha:e}),this.ctx.imageSmoothingEnabled=!0,this.raw=!1,this.color_buffer=window.document.createElement("canvas"),this.color_ctx=this.color_buffer.getContext("2d",{alpha:!0}),this.color_settings=new Ft(null)}Xt.__name__=["platform","html5","HTML5Storage"],Xt.__super__=Lt,Xt.prototype=s(Lt.prototype,{load:function(){var t=null;try{t=this.local.getItem(this.name)}catch(t){}if(null==t)return!1;for(var e=t.split("##"),s=e.length;-1<--s;){var i=(r=e[s].split("&&"))[1],n=this.base,r=r[0];null!=Ye[r]?n.setReserved(r,i):n.h[r]=i}return!0},save:function(){for(var t="",e=this.base.keys();e.hasNext();){var s=e.next(),i=""==t?"":"##",n=this.base;t+=i+s+"&&"+(null!=Ye[s]?n.getReserved(s):n.h[s])}try{this.local.setItem(this.name,t)}catch(t){return!1}return!0},clear:function(){this.base=new pt;try{this.local.removeItem(this.name)}catch(t){return!1}return!0},__class__:Xt}),Gt.__name__=["platform","html5","SoftContext"],Gt.__super__=St,Gt.prototype=s(St.prototype,{save:function(){this.ctx.save(),this.color_settings=this.color_settings.next()},restore:function(){this.ctx.restore(),this.color_settings=this.color_settings.prev()},pre_render:function(){this.raw=!0},transform:function(t,e,s,i,n,r){this.ctx.transform(t,e,s,i,n,r)},adjustAlpha:function(t){this.ctx.globalAlpha*=t},setAlpha:function(t){this.ctx.globalAlpha=t},setScissor:function(t,e,s,i){this.ctx.beginPath(),this.ctx.rect(t,e,s,i),this.ctx.clip()},setColor:function(){this.color_settings.isEnabled=!0},drawRect:function(t,e,s,i,n){if(this.raw)return this.raw=!1,this.ctx.globalCompositeOperation="copy",this.drawRect(t,e,s,i,n),void(this.ctx.globalCompositeOperation="source-over");for(var r=(16777215&t).toString(16);r.length<6;)r="0"+r;this.ctx.fillStyle="#"+r,this.ctx.fillRect(e,s,i,n)},drawTexture:function(t,e,s,i,n,r,a){if(this.raw)return this.raw=!1,this.ctx.globalCompositeOperation="copy",this.drawTexture(t,e,s,i,n,r,a),void(this.ctx.globalCompositeOperation="source-over");var _=t.asset;this.color_settings.isEnabled?(this.color_buffer.width=r,this.color_buffer.height=a,this.color_ctx.fillStyle="#FFFFFF",this.color_ctx.fillRect(0,0,r,a),this.color_ctx.globalCompositeOperation="destination-in",this.color_ctx.drawImage(_.textureData,t.x+i,t.y+n,r,a,e,s,r,a),this.color_ctx.globalCompositeOperation="source-over",this.color_ctx.globalAlpha=0,this.color_ctx.drawImage(_.textureData,t.x+i,t.y+n,r,a,e,s,r,a),this.ctx.drawImage(this.color_buffer,0,0,r,a,e,s,r,a)):this.ctx.drawImage(_.textureData,t.x+i,t.y+n,r,a,e,s,r,a)},drawPattern:function(t,e,s,i,n){if(this.raw)return this.raw=!1,this.ctx.globalCompositeOperation="copy",this.drawPattern(t,e,s,i,n),void(this.ctx.globalCompositeOperation="source-over");var r=t.asset;this.ctx.fillStyle=r.getCanvasPattern(t),this.ctx.fillRect(e,s,i,n)},__class__:Gt});var Bt=function(t){zt.call(this),this.context=new Gt(t,!1);t=new h("(iPhone|iPod|iPad)","").match(window.navigator.userAgent);this.type=Rt.CANVAS,this.maxTextureSize=t?2048:1024,this.isGPU=!1,this.useCanvasTextures=t};Bt.__name__=["platform","html5","SoftRenderer"],Bt.__super__=zt,Bt.prototype=s(zt.prototype,{createTextureFromNativeData:function(t,e){return null==e?new Ut(this.useCanvasTextures?Vt.createCanvasFrom(t):t,-1):(e.upload(this.useCanvasTextures?Vt.createCanvasFrom(t):t),e)},__class__:Bt});var Ut=function(t,e){Nt.call(this,e),this.upload(t)};Ut.__name__=["platform","html5","SoftTextureAsset"],Ut.__super__=Nt,Ut.prototype=s(Nt.prototype,{upload:function(t){null!=this.textureData&&this.unload(),this.textureData=t,this.c_patterns=[],this.c_num_patterns=0,null!=t?(this.w=t.width,this.h=t.height,this.texture.set(this,0,0,this.w,this.h,0,0)):(this.w=this.h=0,this.texture.set(this,0,0,0,0,0,0)),null!=this.e_reloaded&&this.e_reloaded.dispatch(!1,!1)},unload:function(){this.textureData=null,this.c_context=null},base64:function(t){var e=this,s=new Image;s.onload=function(){e.upload(s)},s.src=t},getCanvasPattern:function(t){var e=t.id;if(e<0||null==this.c_patterns[e]){var s,i=this.getContext2D(),n=0==t.x&&0==t.y&&t.w==this.w&&t.h==this.h?i.createPattern(this.textureData,"repeat"):((s=(n=Vt.createCanvas(t.w,t.h)).getContext("2d",null)).globalCompositeOperation="copy",s.drawImage(this.textureData,-t.x,-t.y),i.createPattern(n,"repeat"));return this.c_patterns[this.c_num_patterns]=n,t.id=this.c_num_patterns++,n}return this.c_patterns[e]},getContext2D:function(){return Et.__instanceof(this.textureData,HTMLCanvasElement)||(this.textureData=Vt.createCanvasFrom(this.textureData)),this.textureData.getContext("2d",null)},__class__:Ut});var Vt=function(){};Vt.__name__=["platform","html5","Utils"],Vt.createCanvas=function(t,e){var s=window.document.createElement("canvas");return s.width=t,s.height=e,s},Vt.createCanvasFrom=function(t){var e=Vt.createCanvas(t.width,t.height),s=e.getContext("2d",null);return s.save(),s.globalCompositeOperation="copy",s.drawImage(t,0,0),s.restore(),e},Vt.loadExtension=function(t,e){null==e&&(e=window);var s=I.field(e,t);if(null!=s)return{prefix:"",field:t,value:s};for(var i=t.charAt(0).toUpperCase()+S.substr(t,1,null),n=0,r=Vt.vendors;n<r.length;){var a=r[n];++n;var _=a+i,o=I.field(e,_);if(null!=o)return{prefix:a,field:_,value:o}}return{prefix:null,field:null,value:null}},Vt.loadFirstExtension=function(t,e){for(var s=0;s<t.length;){var i=t[s];++s;i=Vt.loadExtension(i,e);if(null!=i.field)return i}return{prefix:null,field:null,value:null}},Vt.setVendorStyle=function(t,e,s){for(var i=t.style,n=0,r=Vt.vendors;n<r.length;){var a=r[n];++n,i.setProperty("-"+a+"-"+e,s)}i.setProperty(e,s)},Vt.addVendorListener=function(t,e,s,i){for(var n=0,r=Vt.vendors;n<r.length;){var a=r[n];++n,t.addEventListener(a+e,s,i)}t.addEventListener(e,s,i)};var Wt=function(){this.c_enabled=this.c_manual=!0,this.c_numtouchpoints=1,this.create_touches()};Wt.__name__=["playware","Controls"],Wt.prototype={submitTouch:function(t,e,s,i){return!(t>=this.c_numtouchpoints||!this.c_enabled)},create_touches:function(){},__class__:Wt};var jt=function(){c.call(this),this.c_color=0};jt.__name__=["playware","Root"],jt.__super__=c,jt.prototype=s(c.prototype,{draw:function(t){t.save(),t.transform(this.c_mat.a,this.c_mat.b,this.c_mat.c,this.c_mat.d,this.c_mat.e,this.c_mat.f);var e=m.WIDTH,s=m.HEIGHT;t.setScissor(0,0,e,s),t.drawRect(this.c_color,0,0,e,s);for(var i=-1;++i<this.numChildren;)this.children[i].render(t,0,0);t.restore()},submitTouch:function(t,e,s,i){if(this.c_mat.inv_transform(e,s,this.pointer),this.c_touchable&&m.controls.submitTouch(t,this.pointer.x,this.pointer.y,i)){for(var n=null,r=this.numChildren;-1<--r&&null==(n=this.children[r].getObjectAt(this.pointer.x,this.pointer.y,i)););switch(i[1]){case 0:null!=n&&n.event_touch_begin(),this.event_touch_begin();break;case 1:null!=n&&n.event_touch_move(),this.event_touch_move();break;case 2:null!=n&&n.event_touch_over(),this.event_touch_over();break;case 3:null!=n&&n.event_touch_end(),this.event_touch_end()}}},addChildAt:function(t,e){return e<0?e=0:e>this.numChildren&&(e=this.numChildren),t.parent==this?this.setChildIndex(t,e):(null!=t.parent&&t.parent.removeChild(t,!1),this.children.splice(e,0,t),(t.parent=this).numChildren++,t.event_added(),this.update_bounds()),t},__class__:jt});var qt=function(t,e){null==e&&(e=!0),null==t&&(t=!1),this.isGlobal=t,this.isDisposable=e,this.delta=0,this.coef=1,this.clear(),this.paused=this.manual=!1,qt.g_base[qt.numTickers++]=this};function Kt(t,e,s){null==s&&(s=!0),null==e&&(e=60),null==t&&(t=0),this.c_play=!0,this.frame_from=this.numFrameScripts=this.numFrameSounds=0,this.frame_prev=-1,this.frame_to=t-1,this.frame_skip=!0,this.c_elapsed=0,this.c_fps=60,this.base_scripts=[],this.base_sounds=[],this.numFrameScripts=this.numFrameSounds=0,this.set(t,e,s)}function Qt(t){this.c_interval=0,this.c_total=t,this.reset()}function $t(t,e,s,i){this.c_id=t,this.c_ticker=e,this.c_dispose=i,this.c_curr=0,this.c_anim=null,this.c_anims=[],this.numAnims=0,this.isComplete=this.isStarted=!1,s&&this.start()}function Jt(t,e,s,i){Qt.call(this,e),this.c_obj=t,this.c_ease=null==i?l.line:i,this.c_params=s}qt.__name__=["playware","Ticker"],qt.event_update=function(){qt.g_curr=(new Date).getTime()/1e3,qt.globalDelta=.001*(1e3*(qt.g_curr-qt.g_prev)|0)*qt.g_coef,qt.g_prev=qt.g_curr,(qt.globalDelta<0||1<qt.globalDelta)&&(qt.globalDelta=0);for(var t=-1;++t<qt.numTickers;)qt.g_base[t].update()},qt.event_pause=function(t){var e=null,s=-1;if(t)for(;++s<qt.numTickers;)(e=qt.g_base[s]).isGlobal||(e.paused=!0);else for(;++s<qt.numTickers;)(e=qt.g_base[s]).paused=e.manual},qt.event_clear=function(){for(var t=null,e=qt.numTickers;-1<--e;)(t=qt.g_base[e]).isDisposable&&t.dispose();qt.numTickers=qt.g_base.length},qt.prototype={add:function(t){return null!=t&&(-1==this.base.indexOf(t)&&(this.base[this.numFunctions++]=t,!0))},remove:function(t){if(null==t)return!1;t=this.base.indexOf(t);return-1!=t&&(this.base.splice(t,1),this.numFunctions--,!0)},clear:function(){this.base=[],this.numFunctions=0},dispose:function(){var t=qt.g_base.indexOf(this);-1!=t&&(qt.g_base.splice(t,1),qt.numTickers--,this.base=null,qt.numTickers=-1)},update:function(){if(this.delta=qt.globalDelta*this.coef,!this.paused)for(var t=-1;++t<this.numFunctions;)this.base[t](this.delta)},__class__:qt},Kt.__name__=["playware","Timeline"],Kt.prototype={set:function(t,e,s){null!=t&&t!=this.numFrames&&(this.numFrames=t,this.frame_to=this.numFrames-1,this.update_time()),null!=e&&e!=this.c_fps&&this.set_fps(e),null!=s&&(this.c_loop=s)},update:function(t){this.c_play&&(this.c_elapsed+=t,(t=this.c_elapsed/this.c_frame_time|0)>=this.frame_to&&(t=this.frame_to,this.c_loop?this.c_elapsed=this.c_start_time:this.stop(!1)),this.frame_prev=this.frame_curr,this.update_frame(t))},dispose:function(){for(var t=this.numFrames;-1<--t;)this.base_scripts[t]=null,this.base_sounds[t]=null;this.base_scripts=null,this.base_sounds=null},play:function(t){this.playFrom(0,this.numFrames-1,t)},playFrom:function(t,e,s){t<0&&(t=0),e>=this.numFrames&&(e=this.numFrames-1),null!=s&&(this.c_loop=s),this.frame_from=t,this.frame_to=e,this.update_time(),this.c_play=!0},stop:function(t){null==t&&(t=!1),this.c_play=!1,t&&(this.update_frame(this.frame_from),this.c_elapsed=this.c_start_time,this.frame_prev=-1,this.frame_skip=!0)},addFrameScript:function(t,e,s){return!(t<0||t>=this.numFrames)&&(null==this.base_scripts[t]&&++this.numFrameScripts,this.base_scripts[t]={func:e,args:s},this.hasFrameScripts=!0)},addFrameSound:function(t,e,s,i,n,r){return null==i&&(i=0),null==s&&(s=1),!(t<0||t>=this.numFrames)&&(null==this.base_sounds[t]&&++this.numFrameSounds,this.base_sounds[t]=new ge(!1,0,0,e,s,i,n,r),this.hasFrameSounds=!0)},update_time:function(){this.c_frame_time=1/this.c_fps,this.c_start_time=this.c_frame_time*this.frame_from},update_frame:function(t){t<this.frame_from?t=this.frame_from:t>this.frame_to&&(t=this.frame_to),t!=this.frame_curr&&(this.frame_curr=t,null!=this.onFrameChange&&this.onFrameChange(this.frame_curr),(this.hasFrameScripts||this.hasFrameSounds)&&this.execute_scripts())},execute_scripts:function(){var t=this.frame_prev+1;if(!this.frame_skip)for(;t!=this.frame_curr;)t>this.frame_to?t=this.frame_from:this.execute_script(t++);this.frame_skip=!1,this.execute_script(this.frame_curr);var e=this.base_sounds[this.frame_curr];null!=e&&e.play()},execute_script:function(t){t=this.base_scripts[t];null!=t&&D.callMethod(t.func,t.args)},get_currentFrame:function(){return this.frame_curr},set_currentFrame:function(t){return t<this.frame_from?t=this.frame_from:t>this.frame_to&&(t=this.frame_to),t!=this.frame_curr&&(this.frame_skip=!0,this.frame_prev=t,this.c_elapsed=this.c_frame_time*t,this.update_frame(t)),t},get_fps:function(){return this.c_fps},set_fps:function(t){return t!=this.c_fps&&(this.c_fps=t,this.update_time()),t},get_loop:function(){return this.c_loop},get_isComplete:function(){return this.frame_curr==this.frame_to},__class__:Kt,__properties__:{get_isComplete:"get_isComplete",get_loop:"get_loop",set_fps:"set_fps",get_fps:"get_fps",set_currentFrame:"set_currentFrame",get_currentFrame:"get_currentFrame"}},Qt.__name__=["playware","animation","AnimationObject"],Qt.prototype={reset:function(){this.c_elapsed=0,this.isComplete=this.isStarted=!1},update:function(t){this.isComplete||(this.isStarted||(this.isStarted=!0,null!=this.sound_start&&this.sound_start.play()),this.c_elapsed+=t,this.c_elapsed>=this.c_total&&(this.c_elapsed=this.c_total,this.isComplete=!0,D.callMethod(this.c_func,this.c_args),null!=this.sound_complete&&this.sound_complete.play()))},dispose:function(){this.c_func=null,this.c_args=null,this.sound_start=null,this.sound_complete=null},__class__:Qt},$t.__name__=["playware","animation","AnimationSequence"],$t.prototype={dispose:function(){this.isStarted&&this.stop(),E.g_base.remove(this.c_id);for(var t=this.numAnims;-1<--t;)this.c_anims[t].dispose(),this.c_anims.splice(t,1);this.c_id=null,this.c_ticker=null,this.c_anims=null,this.c_anim=null,this.numAnims=-1},start:function(){this.isStarted||(this.isStarted=!0,this.c_ticker.add(De(this,this.update)))},stop:function(){this.isStarted&&(this.isStarted=!1,this.c_ticker.remove(De(this,this.update)))},update:function(t){var e;this.isComplete||this.numAnims<=0||(null==(e=this.c_anims[this.c_curr])?(this.isComplete=!0,this.c_dispose?this.dispose():this.stop()):(e.update(t),e.isComplete&&(this.c_curr++,e.reset())))},get_ticker:function(){return this.c_ticker},__class__:$t,__properties__:{get_ticker:"get_ticker"}},Jt.__name__=["playware","animation","TweenAnimation"],Jt.__super__=Qt,Jt.prototype=s(Qt.prototype,{update:function(t){if(!this.isComplete){var e=0,s=0;if(!this.isStarted){this.isStarted=!0,this.c_fields=[];for(var i=0,n=I.fields(this.c_params);i<n.length;){var r=n[i];++i;var a=!0,s=I.field(this.c_params,r),_=this.c_obj,e=!Object.prototype.hasOwnProperty.call(_,r)||_.__properties__&&__obj.__properties__["set_"+r]?(a=!1,I.getProperty(this.c_obj,r)):I.field(this.c_obj,r);this.c_fields.push({isField:a,name:r,from:e,to:s}),null!=this.sound_start&&this.sound_start.play()}}this.c_elapsed+=t,this.c_elapsed>=this.c_total&&(this.c_elapsed=this.c_total,this.isComplete=!0,this.isStarted=!1);for(var o,h=0,c=this.c_ease(this.c_elapsed/this.c_total),l=this.c_fields.length;-1<--l;){e=(o=this.c_fields[l]).from,s=o.to,h=this.isComplete?s:e+(s-e)*c;var u=this.c_obj,d=o.name;o.isField?u[d]=h:I.setProperty(u,d,h)}this.isComplete&&(D.callMethod(this.c_func,this.c_args),null!=this.sound_complete&&this.sound_complete.play())}},__class__:Jt});var Zt=function(t,e,s,i,n){$t.call(this,t,s,i,n),this.c_obj=e};Zt.__name__=["playware","animation","TweenSequence"],Zt.__super__=$t,Zt.prototype=s($t.prototype,{dispose:function(){$t.prototype.dispose.call(this),this.c_obj=null},onComplete:function(t,e){return null!=this.c_anim&&(this.c_anim.c_func=t,this.c_anim.c_args=e),this},tween:function(t,e,s){return t<0&&(t=0),null!=this.c_obj&&(this.c_anim=new Jt(this.c_obj,t,e,s),this.c_anims[this.numAnims++]=this.c_anim),this},__class__:Zt});var te=function(t,e,s){this.name=t,this.path=e,this.type=s,this.pack=null,this.root=null};te.__name__=["playware","assets","AssetInfo"],te.prototype={__class__:te};var ee=function(t){this.name=t,this.numAssets=this.numLoaded=0,this.base=[]};ee.__name__=["playware","assets","AssetPack"],ee.prototype={load:function(){var t=this.numAssets>this.numLoaded;if(t){for(var e,s=-1;++s<this.numAssets;)null==(e=this.base[s]).root&&m.platform.get_loader().add(e);this.numLoaded=this.numAssets}return t},add:function(t){return-1==this.base.indexOf(t)&&(null!=t.pack&&t.pack.remove(t),(this.base[this.numAssets++]=t).pack=this,null!=t.root&&this.numLoaded++,!0)},remove:function(t){var e=this.base.indexOf(t);return-1!=e&&(t.pack=null,this.base.splice(e,1),this.numAssets--,null!=t.root&&this.numLoaded--,!0)},dispose:function(){for(var t,e=this.numAssets;-1<--e;)null==(t=this.base[e]).root?this.base.splice(e,1):t.root.dispose();this.base=null},get_isLoaded:function(){return this.numLoaded==this.numAssets},__class__:ee,__properties__:{get_isLoaded:"get_isLoaded"}};var se={__ename__:!0,__constructs__:["TEXTURE","STRING","SOUND"],TEXTURE:["TEXTURE",0]};function ie(){this.base_texture=new pt,this.base_animation=new pt}se.TEXTURE.toString=t,(se.TEXTURE.__enum__=se).STRING=["STRING",1],se.STRING.toString=t,(se.STRING.__enum__=se).SOUND=["SOUND",2],se.SOUND.toString=t,se.SOUND.__enum__=se,ie.__name__=["playware","graphics","Spritesheet"],ie.prototype={addTexture:function(t,e,s,i,n,r,a,_){null==_&&(_=0),null==a&&(a=0);a=t.getTexture(s,i,n,r,a,_),_=this.base_texture;return null!=Ye[e]?_.setReserved(e,a):_.h[e]=a,a},getTexture:function(t){var e=this.base_texture,e=null!=Ye[t]?e.getReserved(t):e.h[t];return null==e&&m.platform.message("ERROR : Subtexture with name '"+t+"' does not exist!"),e},getAnimation:function(t,e,s){null==e&&(e=!0);var i=this.base_animation,i=null!=Ye[t]?i.getReserved(t):i.h[t];return null==i&&m.platform.message("ERROR : Animation with name '"+t+"' does not exist!"),null==i?null:e?i.copy(s):i},__class__:ie};var ne=function(t){ie.call(this),null!=t&&this.addXml(t)};ne.__name__=["playware","format","FlumpXML"],ne.__super__=ie,ne.prototype=s(ie.prototype,{addXml:function(t){for(var t=new bt(V.parse(t)),s=new $,e=function(t){var e=t.split(","),t=parseFloat(e[0]),e=parseFloat(e[1]);s.set(t,e)},i=t.node.resolve("resources").nodes.resolve("textureGroups").h;null!=i;)for(var n=i.item,i=i.next,r=n.nodes.resolve("textureGroup").h;null!=r;)for(var a=r.item,r=r.next,_=a.nodes.resolve("atlas").h;null!=_;)for(var o=_.item,_=_.next,o=o,h=L.getTexture(function(t){t=t.split("/");return t[t.length-1].split(".")[0]}(o.att.resolve("file"))),c=o.nodes.resolve("texture").h;null!=c;){var l=c.item,c=c.next,u=l,l=u.att.resolve("rect").split(",");e(u.att.resolve("origin")),this.addTexture(h,u.att.resolve("name"),H.parseInt(l[0]),H.parseInt(l[1]),H.parseInt(l[2]),H.parseInt(l[3]),s.x,s.y)}for(var d=t.node.resolve("resources").nodes.resolve("movie").h;null!=d;){for(var p=d.item,d=d.next,p=p,f=60/H.parseInt(p.att.resolve("frameRate")),m=new ce(p.att.resolve("name"),60,!0),v=p.nodes.resolve("layer").h;null!=v;){for(var g=v.item,v=v.next,g=g,w=new le(g.att.resolve("name")),b=g.nodes.resolve("kf").h;null!=b;){var y,x=b.item,b=b.next,T=x,E=H.parseInt(T.att.resolve("duration"))*f|0,x=!T.has.resolve("tweened")||"false"!=T.att.resolve("tweened");y=T.has.resolve("ref")?(y=this.base_texture,S=T.att.resolve("ref"),A=y,null!=Ye[S]?A.getReserved(S):A.h[S]):null;var A=0,S=1;T.has.resolve("ease")&&(x=!0,A=parseFloat(T.att.resolve("ease"))),T.has.resolve("alpha")&&(S=parseFloat(T.att.resolve("alpha")));S=new de(E,x,y,A,S);T.has.resolve("loc")&&(e(T.att.resolve("loc")),S.x=s.x,S.y=s.y),T.has.resolve("scale")&&(e(T.att.resolve("scale")),S.scaleX=s.x,S.scaleY=s.y),T.has.resolve("pivot")&&(e(T.att.resolve("pivot")),S.pivotX=s.x,S.pivotY=s.y),T.has.resolve("skew")&&(e(T.att.resolve("skew")),S.skewX=s.x,S.skewY=s.y),w.addKeyframe(S)}m.addLayer(w)}p=m.name;null!=this.base_animation.get(p)&&(this.base_animation.get(p).dispose(),this.base_animation.remove(p)),this.base_animation.set(m.name,m)}},__class__:ne});var re=function(t,e,s){null==s&&(s=!1),this.name=t,this.texture=e,this.glyphs=new dt;e=new ue(10);this.glyphs.h[e.charCode]=e,re.set(this,s)};re.__name__=["playware","graphics","Font"],re.set=function(t,e){null==e&&(e=!1);var s=!1,i=t.name;null==re.g_base?(re.g_base=new pt,e=!0):s=re.remove(i);var n=re.g_base;return null!=Ye[i]?n.setReserved(i,t):n.h[i]=t,e&&(re.g_font=t),!s},re.get=function(t){if(null==re.g_base)return null;if(null==t||(e=re.g_base,null==(null!=Ye[t]?e.getReserved(t):e.h[t])))return re.g_font;var e=re.g_base;return null!=Ye[t]?e.getReserved(t):e.h[t]},re.remove=function(t){var e;if(e=null!=re.g_base&&(s=re.g_base,null!=(null!=Ye[t]?s.getReserved(t):s.h[t]))){var s=re.g_base,s=null!=Ye[t]?s.getReserved(t):s.h[t];if(s.dispose(),re.g_base.remove(t),s==re.g_font)for(var i=re.g_base.keys();i.hasNext();){var n=i.next(),r=re.g_base;re.g_font=null!=Ye[n]?r.getReserved(n):r.h[n];break}}return e},re.prototype={dispose:function(){this.glyphs=null,this.texture=null},getGlyph:function(t){return this.glyphs.h[t]},__class__:re};var ae=function(t,e,s,i){null==i&&(i=!1),re.call(this,t,e,i),this.parse(s)};ae.__name__=["playware","format","FontXML"],ae.__super__=re,ae.prototype=s(re.prototype,{parse:function(t){var e=V.parse(t),s=e.elementsNamed("info").next();null==s&&(s=(e=e.firstElement()).elementsNamed("info").next());t=e.elementsNamed("common").next();this.size=H.parseInt(s.get("size")),this.h=H.parseInt(t.get("lineHeight")),0==this.size&&(this.size=16),this.size<0&&(this.size*=-1);for(var i=null,n=e.elementsNamed("chars").next().elementsNamed("char");n.hasNext();){var r=n.next();(i=new ue(H.parseInt(r.get("id")))).texture=this.texture,i.x=H.parseInt(r.get("x")),i.y=H.parseInt(r.get("y")),i.w=H.parseInt(r.get("width")),i.h=H.parseInt(r.get("height")),i.offsetX=H.parseInt(r.get("xoffset")),i.offsetY=H.parseInt(r.get("yoffset")),i.advance=H.parseInt(r.get("xadvance")),this.glyphs.h[i.charCode]=i}if(e.exists("kernings"))for(var a,_=null,o=e.elementsNamed("kernings").next().elementsNamed("kerning");o.hasNext();){var h=o.next();null!=(_=this.getGlyph(H.parseInt(h.get("first"))))&&(a=H.parseInt(h.get("second")),h=H.parseInt(h.get("amount")),_.setKerning(a,h))}},__class__:ae});var _e=function(t,e,s,i,n,r){null==r&&(r=0),null==n&&(n=0),null==i&&(i=1),null==s&&(s=0),null==e&&(e=0),null==t&&(t=1),this.set(t,e,s,i,n,r)};_e.__name__=["playware","geom","Mat"],_e.prototype={set:function(t,e,s,i,n,r){null==r&&(r=0),null==n&&(n=0),null==i&&(i=1),null==s&&(s=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=s,this.d=i,this.e=n,this.f=r},translate:function(t,e){this.e+=t,this.f+=e},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.e*=t,this.f*=e},skew:function(t,e){var s=Math.sin(t),i=Math.cos(t),t=Math.sin(e),e=Math.cos(e);this.set(this.a*e-this.b*s,this.a*t+this.b*i,this.c*e-this.d*s,this.c*t+this.d*i,this.e*e-this.f*s,this.e*t+this.f*i)},determinant:function(){return this.a*this.d-this.c*this.b},transform:function(t,e,s){return null==s&&(s=new $),s.set(t,e),s.x=this.a*s.x+this.c*s.y+this.e,s.y=this.d*s.y+this.b*s.x+this.f,s},inv_transform:function(t,e,s){null==s&&(s=new $),s.set(t,e);var i=this.determinant();return 0==i||(t-=this.e,e-=this.f,s.x=(t*this.d-e*this.c)/i,s.y=(e*this.a-t*this.b)/i),s},set_deg:function(t){var e=Math.cos(t),s=Math.sin(t),i=this.a*e-this.b*s;this.b=this.a*s+this.b*e,this.a=i;i=this.c*e-this.d*s;this.d=this.c*s+this.d*e,this.c=i;i=this.e*e-this.f*s;return this.f=this.e*s+this.f*e,this.e=i,t},set_rad:function(t){return this.set_deg(180*t/3.141592653589793),t},__class__:_e,__properties__:{set_rad:"set_rad",set_deg:"set_deg"}};var oe=function(t,e,s,i){null==i&&(i=0),null==s&&(s=0),null==e&&(e=0),null==t&&(t=0),this.t_point=new $,this.set(t,e,s,i)};function he(t,e,s){null==s&&(s=!0),null==e&&(e=60),this.name=t,this.timeline=new Kt(0,e,s),this.timeline.onFrameChange=De(this,this.render_frame),this.bounds=new oe,this.w=this.h=0}oe.__name__=["playware","geom","Rect"],oe.prototype={set:function(t,e,s,i){null==i&&(i=0),null==s&&(s=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.w=s,this.h=i},expand:function(t){var e,s;0==this.w&&0==this.h?this.set(t.x,t.y,t.w,t.h):(e=this.get_r(),s=this.get_b(),this.x>t.x&&(this.x=t.x,this.w=e-this.x),this.y>t.y&&(this.y=t.y,this.h=s-this.y),e<t.x+t.w&&(this.w=t.x+t.w-this.x),s<t.y+t.h&&(this.h=t.y+t.h-this.y))},intersects:function(t){var e=(this.x<t.x?t:this).x;return!((this.x+this.w>t.get_r()?t.get_r():this.x+this.w)<=e)&&(this.y<t.y?t:this).y<(this.y+this.h>t.get_b()?t.get_b():this.y+this.h)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_r()&&e<this.get_b()},transform:function(t){var e=t.a*this.x+t.c*this.y,s=e,i=t.b*this.x+t.d*this.y,n=i,r=t.a*(this.x+this.w)+t.c*this.y,a=t.b*(this.x+this.w)+t.d*this.y;r<e&&(e=r),s<r&&(s=r),a<i&&(i=a),n<a&&(n=a),(r=t.a*(this.x+this.w)+t.c*(this.y+this.h))<e&&(e=r),s<r&&(s=r),(a=t.b*(this.x+this.w)+t.d*(this.y+this.h))<i&&(i=a),n<a&&(n=a),(r=t.a*this.x+t.c*(this.y+this.h))<e&&(e=r),s<r&&(s=r),(a=t.b*this.x+t.d*(this.y+this.h))<i&&(i=a),n<a&&(n=a),this.set(e+t.e,i+t.f,s-e,n-i)},copyFrom:function(t){return!this.equals(t)&&(this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h,!0)},equals:function(t){return this.x==t.x&&this.y==t.y&&this.w==t.w&&this.h==t.h},get_r:function(){return this.x+this.w},get_b:function(){return this.y+this.h},get_c:function(){return this.t_point.set(this.x+.5*this.w,this.y+.5*this.h),this.t_point},__class__:oe,__properties__:{get_c:"get_c",get_b:"get_b",get_r:"get_r"}},he.__name__=["playware","graphics","Animation"],he.prototype={copy:function(t){return null},dispose:function(){this.timeline.dispose()},render:function(t){},render_frame:function(t){},__class__:he},(i=function(t,e,s,i,n,r){null==r&&(r=!1),null==n&&(n=!1),null==i&&(i=1),null==s&&(s=0),null==e&&(e=0),this.bounds=new oe,this.c_cam_mat=new _e,this.pointer=new $,this.c_drag_prev_x=this.c_drag_prev_y=this.offsetX=this.offsetY=this.c_focus_x=this.c_focus_y=0,this.transform(e,s,i),this.visObjects=[],this.numVisObjects=0,this.c_dragging_enabled=n,this.c_clipping_enabled=r,this.isDragging=!1,this.set_container(t)}).__name__=["playware","graphics","Camera"],i.prototype={transform:function(t,e,s){null==s&&(s=1),null==e&&(e=0),null==t&&(t=0),4<s?s=4:s<.25&&(s=.25),this.c_x=t,this.c_y=e,this.c_zoom=s,this.apply_transform()},pos:function(t,e){null==e&&(e=0),null==t&&(t=0),this.c_x=t,this.c_y=e,this.apply_transform()},render:function(t){if(null!=this.c_container){this.context_scale=1/this.c_zoom,t.save(),t.transform(this.context_scale,0,0,this.context_scale,0,0),this.offsetX=-this.bounds.x,this.offsetY=-this.bounds.y,this.visObjects=[],this.c_container.getObjectsAt(this.bounds,this.visObjects),this.numVisObjects=this.visObjects.length;for(var e=-1;++e<this.numVisObjects;)this.visObjects[e].render(t,this.offsetX,this.offsetY);t.restore()}},resize:function(t,e){this.c_w=t,this.c_h=e,this.c_focus_x=.5*t,this.c_focus_y=.5*e,this.apply_transform()},event_touch_begin:function(t,e){this.c_dragging_enabled&&!this.isDragging&&(this.c_drag_prev_x=t,this.c_drag_prev_y=e,this.isDragging=!0,null!=this.e_drag_begin&&this.e_drag_begin.dispatch(!1,!1))},event_touch_move:function(t,e){this.isDragging&&2<k.distf(t,e,this.c_drag_prev_x,this.c_drag_prev_y)&&(this.c_x+=(this.c_drag_prev_x-t)*this.c_zoom,this.c_y+=(this.c_drag_prev_y-e)*this.c_zoom,this.apply_transform(),this.c_drag_prev_x=t,this.c_drag_prev_y=e)},event_touch_end:function(t,e){this.isDragging&&this.event_drag_over()},event_touch_out:function(){this.event_drag_over()},event_touch_over:function(t,e){this.apply_pointer(t,e)},event_drag_over:function(){this.isDragging&&(this.isDragging=!1,null!=this.e_drag_end&&this.e_drag_end.dispatch(!1,!1))},apply_transform:function(){this.c_cam_mat.set(this.c_zoom,0,0,this.c_zoom,this.c_x-this.c_focus_x*this.c_zoom,this.c_y-this.c_focus_y*this.c_zoom),this.update_bounds()},apply_pointer:function(t,e){this.c_cam_mat.e=this.c_x-this.c_focus_x*this.c_zoom,this.c_cam_mat.f=this.c_y-this.c_focus_y*this.c_zoom,this.c_cam_mat.transform(t,e,this.pointer)},update_bounds:function(){var t,e;this.bounds.set(0,0,this.c_w,this.c_h),this.bounds.transform(this.c_cam_mat),this.c_clipping_enabled&&null!=this.c_container&&(t=m.WIDTH-m.RIGHT+this.c_container.bounds.get_r(),e=m.HEIGHT-m.BOTTOM+this.c_container.bounds.get_b(),t<=0||e<=0||(this.bounds.x<-m.LEFT&&(this.bounds.x=-m.LEFT,this.c_x=this.bounds.x+this.c_focus_x),this.bounds.y<-m.TOP&&(this.bounds.y=-m.TOP,this.c_y=this.bounds.y+this.c_focus_y),this.bounds.get_r()>t&&(this.bounds.x-=this.bounds.get_r()-t,this.c_x=this.bounds.x+this.c_focus_x),this.bounds.get_b()>e&&(this.bounds.y-=this.bounds.get_b()-e,this.c_y=this.bounds.y+this.c_focus_y),this.c_x=this.bounds.get_c().x,this.c_y=this.bounds.get_c().y))},get_onDraggingBegin:function(){return null==this.e_drag_begin&&(this.e_drag_begin=new o(!1,!1)),this.e_drag_begin},get_onDraggingEnd:function(){return null==this.e_drag_end&&(this.e_drag_end=new o(!1,!1)),this.e_drag_end},get_container:function(){return this.c_container},set_container:function(t){return t!=this.c_container&&(this.c_container=t,null!=this.viewPort&&(this.viewPort.container=t)),t},get_isDraggingEnabled:function(){return this.c_dragging_enabled},set_isDraggingEnabled:function(t){return t||this.event_drag_over(),this.c_dragging_enabled=t},get_isClippingEnabled:function(){return this.c_clipping_enabled},set_isClippingEnabled:function(t){return this.c_clipping_enabled=!1},get_x:function(){return this.c_x},set_x:function(t){return t!=this.c_x&&(this.c_x=t,this.apply_transform()),t},get_y:function(){return this.c_y},set_y:function(t){return t!=this.c_y&&(this.c_y=t,this.apply_transform()),t},get_zoom:function(){return this.c_zoom},set_zoom:function(t){return 4<t?t=4:t<.25&&(t=.25),t!=this.c_zoom&&(this.c_zoom=t,this.apply_transform()),t},__class__:i,__properties__:{set_zoom:"set_zoom",get_zoom:"get_zoom",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_isClippingEnabled:"set_isClippingEnabled",get_isClippingEnabled:"get_isClippingEnabled",set_isDraggingEnabled:"set_isDraggingEnabled",get_isDraggingEnabled:"get_isDraggingEnabled",set_container:"set_container",get_container:"get_container",get_onDraggingEnd:"get_onDraggingEnd",get_onDraggingBegin:"get_onDraggingBegin"}};var ce=function(t,e,s){null==s&&(s=!0),null==e&&(e=60),he.call(this,t,e,s),this.layers=[],this.numLayers=0};ce.__name__=["playware","graphics","FrameAnimation"],ce.__super__=he,ce.prototype=s(he.prototype,{copy:function(t){for(var e=new ce(null==t?this.name:t,this.timeline.get_fps(),this.timeline.get_loop()),s=-1;++s<this.numLayers;)e.layers[s]=this.layers[s].copy();return e.numLayers=this.numLayers,e.timeline.set(this.timeline.numFrames),e.w=this.w,e.h=this.h,e.bounds.copyFrom(this.bounds),e},dispose:function(){for(var t=-1;++t<this.numLayers;)this.layers[t].set(null);this.layers=null,he.prototype.dispose.call(this)},render:function(t){for(var e=-1;++e<this.numLayers;)this.layers[e].render(t,0,0)},render_frame:function(t){for(var e=-1;++e<this.numLayers;)this.layers[e].apply_frame(t)},addLayer:function(t,e){null==e||e>this.numLayers?e=this.numLayers:e<0&&(e=0);var s=this.layers.indexOf(t);if(-1!=s)return this.layers.splice(s,1),this.layers.splice(e,0,t),!1;this.layers.splice(e,0,t),this.numLayers++;e=this.timeline.numFrames,t=t.numFrames;return this.timeline.set(t<e?e:t),this.update_size(),!0},update_size:function(){if(0==this.numLayers)this.w=this.h=0;else if(1==this.numLayers)this.bounds.copyFrom(this.layers[0].bounds),this.w=0|this.bounds.w,this.h=0|this.bounds.h;else{var t;this.bounds.set();for(var e=-1;++e<this.numLayers;)t=this.layers[e].bounds,this.bounds.expand(t);this.w=0|this.bounds.w,this.h=0|this.bounds.h}},__class__:ce});var le=function(t){_.call(this),this.set(t)};le.__name__=["playware","graphics","FrameLayer"],le.__super__=_,le.prototype=s(_.prototype,{set:function(t){this.name=t,this.numFrames=this.numKeyframes=this.c_curr=this.c_keyframe=0,this.c_prev=-1,this.keyframes=null,this.kf_curr=this.kf_next=null},copy:function(t){null==t?t=new le(this.name):t.set(this.name);for(var e=-1,s=this.keyframes.length;++e<s;)t.addKeyframe(this.keyframes[e].copy());return t},draw:function(t){null!=this.texture&&t.drawTexture(this.texture,0,0,0,0,this.texture.w,this.texture.h)},addKeyframe:function(t){null==this.keyframes&&(this.keyframes=[],this.kf_curr=t,this.texture=t.texture,null!=this.texture?(this.c_w=this.texture.w,this.c_h=this.texture.h):this.c_w=this.c_h=0,this.apply_tween(!0)),t.start=this.numFrames,t.end+=this.numFrames,this.numFrames+=t.duration,this.keyframes[this.numKeyframes++]=t},apply_frame:function(t){if(this.c_vis&&t!=this.c_prev&&!(t>=this.numFrames)){if(t<this.c_prev){for(this.c_keyframe=0;t>this.keyframes[this.c_keyframe].end;)this.c_keyframe++;this.kf_curr=this.keyframes[this.c_keyframe],this.texture=this.kf_curr.texture,this.apply_tween(!0)}if(t>=this.kf_curr.start&&t<this.kf_curr.end)this.c_curr=t-this.kf_curr.start;else{for(;t>this.keyframes[this.c_keyframe].end;)this.c_keyframe++;this.kf_curr=this.keyframes[this.c_keyframe],this.c_curr=t-this.kf_curr.start,this.texture=this.kf_curr.texture}this.c_prev=t,this.kf_next=this.keyframes[this.c_keyframe+1],this.apply_tween(!1)}},apply_tween:function(t){var e,s;t||null==this.kf_next||!this.kf_curr.isTweened?(this.c_a=this.kf_curr.alpha,this.c_x=this.kf_curr.x,this.c_y=this.kf_curr.y,this.c_scaleX=this.kf_curr.scaleX,this.c_scaleY=this.kf_curr.scaleY,this.c_pivotX=this.kf_curr.pivotX,this.c_pivotY=this.kf_curr.pivotY,this.c_skewX=this.kf_curr.skewX,this.c_skewY=this.kf_curr.skewY):(e=this.c_curr/this.kf_curr.duration,0!=(t=this.kf_curr.ease)&&(t<0?(s=1-(s=1-e)*s,t=-t):s=e*e,e=t*s+(1-t)*e),this.c_a=this.kf_curr.alpha+(this.kf_next.alpha-this.kf_curr.alpha)*e,this.c_x=this.kf_curr.x+(this.kf_next.x-this.kf_curr.x)*e,this.c_y=this.kf_curr.y+(this.kf_next.y-this.kf_curr.y)*e,this.c_scaleX=this.kf_curr.scaleX+(this.kf_next.scaleX-this.kf_curr.scaleX)*e,this.c_scaleY=this.kf_curr.scaleY+(this.kf_next.scaleY-this.kf_curr.scaleY)*e,this.c_pivotX=this.kf_curr.pivotX+(this.kf_next.pivotX-this.kf_curr.pivotX)*e,this.c_pivotY=this.kf_curr.pivotY+(this.kf_next.pivotY-this.kf_curr.pivotY)*e,this.c_skewX=this.kf_curr.skewX+(this.kf_next.skewX-this.kf_curr.skewX)*e,this.c_skewY=this.kf_curr.skewY+(this.kf_next.skewY-this.kf_curr.skewY)*e),this.apply_transform()},__class__:le});var ue=function(t){this.charCode=t,this.x=this.y=this.w=this.h=this.offsetX=this.offsetY=this.advance=0,this.texture=null};ue.__name__=["playware","graphics","Glyph"],ue.prototype={draw:function(t,e,s){0<this.w&&t.drawTexture(this.texture,e,s+this.offsetY,this.x,this.y,this.w,this.h)},getKerning:function(t){return null==this.kernings?0:0|this.kernings.h[t]},setKerning:function(t,e){null==this.kernings&&(this.kernings=new dt),this.kernings.h[t]=e},__class__:ue};var de=function(t,e,s,i,n,r,a,_,o,h,c,l,u){null==u&&(u=0),null==l&&(l=0),null==c&&(c=0),null==h&&(h=0),null==o&&(o=1),null==_&&(_=1),null==a&&(a=0),null==r&&(r=0),null==n&&(n=1),null==i&&(i=0),this.set(t,e,s,i,n,r,a,_,o,h,c,l,u),this.start=0,this.end=t};de.__name__=["playware","graphics","Keyframe"],de.prototype={set:function(t,e,s,i,n,r,a,_,o,h,c,l,u){null==a&&(a=0),null==r&&(r=0),this.duration=t,this.isTweened=e,this.texture=s,this.ease=i,this.alpha=n,this.x=r,this.y=a,this.scaleX=_,this.scaleY=o,this.pivotX=h,this.pivotY=c,this.skewX=l,this.skewY=u},copy:function(t){return null==t?t=new de(this.duration,this.isTweened,this.texture,this.ease,this.alpha,this.x,this.y,this.scaleX,this.scaleY,this.pivotX,this.pivotY,this.skewX,this.skewY):t.set(this.duration,this.isTweened,this.texture,this.ease,this.alpha,this.x,this.y,this.scaleX,this.scaleY,this.pivotX,this.pivotY,this.skewX,this.skewY),t},__class__:de};var pe=function(t,e,s,i,n,r,a){null==a&&(a=0),null==r&&(r=0),this.set(t,e,s,i,n,r,a)};pe.__name__=["playware","graphics","Texture"],pe.prototype={set:function(t,e,s,i,n,r,a){null==a&&(a=0),null==r&&(r=0),this.asset=t,this.x=e,this.y=s,this.w=i,this.h=n,this.pivotX=r,this.pivotY=a,this.id=-1},getTexture:function(t,e,s,i,n,r,a){return null==r&&(r=0),null==n&&(n=0),null==a?a=new pe(this.asset,t+this.x,e+this.y,s,i,n,r):a.set(this.asset,t+this.x,e+this.y,s,i,n,r),a},__class__:pe};var fe=function(t,e,s,i,n,r,a){null==a&&(a=0),null==r&&(r=0),null==n&&(n=1),null==i&&(i=1),null==s&&(s=0),null==e&&(e=0),_.call(this,e,s,i,n,r,a),this.set_texture(t)};fe.__name__=["playware","graphics","TexturedObject"],fe.__super__=_,fe.prototype=s(_.prototype,{draw:function(t){null!=this.c_texture&&t.drawTexture(this.c_texture,0,0,0,0,this.c_w,this.c_h)},set_texture:function(t){return t!=this.c_texture&&(null!=(this.c_texture=t)?(this.c_w=t.w,this.c_h=t.h):this.c_w=this.c_h=0),t},__class__:fe,__properties__:s(_.prototype.__properties__,{set_texture:"set_texture"})}),(i=function(t,e,s,i,n,r,a,_,o){null==o&&(o=0),null==_&&(_=0),null==a&&(a=1),null==r&&(r=1),null==n&&(n=0),null==i&&(i=0),null==s&&(s=0),null==e&&(e=0),d.call(this,i,n,r,a,_,o),this.c_w=e<=0?m.WIDTH:e,this.c_h=s<=0?m.HEIGHT:s,this.set_camera(t)}).__name__=["playware","graphics","ViewPort"],i.__super__=d,i.prototype=s(d.prototype,{render:function(t,e,s){this.c_vis&&0!=this.c_a&&(t.save(),this.c_a<1&&t.adjustAlpha(this.c_a),t.transform(this.c_mat.a,this.c_mat.b,this.c_mat.c,this.c_mat.d,this.c_mat.e+e,this.c_mat.f+s),t.setScissor(0,0,this.c_w,this.c_h),null!=this.c_camera&&this.c_camera.render(t),t.restore())},getObjectAt:function(t,e,s){if(!this.c_vis||!this.c_touchable)return null;if(this.c_mat.inv_transform(t,e,this.pointer),0<=this.pointer.x&&0<=this.pointer.y&&this.pointer.x<this.c_w&&this.pointer.y<this.c_h&&null!=this.c_camera){var i=this.getObjectCamera(t,e,s);if(null!=i)switch(s[1]){case 0:i.event_touch_begin();break;case 1:i.event_touch_move();break;case 2:i.event_touch_over();break;case 3:i.event_touch_end()}switch(s[1]){case 0:this.c_camera.event_touch_begin(t,e);break;case 1:this.c_camera.event_touch_move(t,e);break;case 2:this.c_camera.event_touch_over(t,e);break;case 3:this.c_camera.event_touch_end(t,e)}return this}return this.isOver&&(this.getObjectCamera(t,e,me.END),this.event_touch_out()),null},getObjectCamera:function(t,e,s){if(null==this.container||null==this.c_camera)return null;this.c_camera.apply_pointer(t,e);for(var i,n=this.c_camera.pointer,r=this.c_camera.visObjects.length;-1<--r;)if(null!=(i=this.c_camera.visObjects[r].getObjectAt(n.x,n.y,s)))return i;return null},event_added:function(){this.isAdded||(this.isAdded=!0,null!=this.e_added&&this.e_added.dispatch(!1,!1))},event_removed:function(){this.isAdded&&(this.isAdded=!1,null!=this.e_removed&&this.e_removed.dispatch(!1,!1))},set_camera:function(t){return t!=this.c_camera&&(null!=this.c_camera&&(this.c_camera.viewPort=null),null!=t?((t.viewPort=this).container=t.c_container,t.resize(this.c_w,this.c_h)):this.container=null,this.c_camera=t),t},__class__:i,__properties__:s(d.prototype.__properties__,{set_camera:"set_camera"})});var me={__ename__:!0,__constructs__:["BEGIN","MOVE","OVER","END"],BEGIN:["BEGIN",0]};me.BEGIN.toString=t,(me.BEGIN.__enum__=me).MOVE=["MOVE",1],me.MOVE.toString=t,(me.MOVE.__enum__=me).OVER=["OVER",2],me.OVER.toString=t,(me.OVER.__enum__=me).END=["END",3],me.END.toString=t,me.END.__enum__=me;var ve=function(t,e){null==e&&(e=!0),null==t&&(t=!1),this.isGlobal=t,this.isPaused=this.isMuted=!1,this.isMultiSample=e,this.numSounds=0,this.base=[],this.curr=null,this.fade=1.4,this.id=-1,this.name="nonamed",this.c_vol=this.c_manual=1};ve.__name__=["playware","media","MixerChannel"],ve.prototype={add:function(t){-1==this.base.indexOf(t)&&(null!=t.channel&&t.channel.remove(t),(this.base[this.numSounds++]=t).channel=this)},remove:function(t){t=this.base.indexOf(t);-1!=t&&(this.base.splice(t,1),this.numSounds--)},play:function(t,e,s,i,n){if(null==s&&(s=!1),null==e&&(e=1),null==t)return!1;if(this.isMultiSample)this.add(t),t.play(e,s,i,n);else{if(t==this.curr)return!0;var r,a;0==this.fade?(null!=this.curr&&this.curr.stop(),this.curr=t,this.add(t),this.curr.play(e,s,i,n)):(this.add(t),null!=this.curr&&(r=this.curr,a=m.ticker,E.create_tween(r,r,a,!0,!0).tween(this.fade,{vol:0}).onComplete(De(ze=this.curr,ze.stop))),t.play(0,s,i,n),n=m.ticker,E.create_tween(t,t,n,!0,!0).tween(this.fade,{vol:e}),this.curr=t)}return!0},stop:function(){var t,e;if(this.isMultiSample)for(var s=this.numSounds;-1<--s;)this.base[s].stop();else null!=this.curr&&(t=this.curr,e=m.ticker,E.create_tween(t,t,e,!0,!0).tween(this.fade,{vol:0}).onComplete(De(ze=this.curr,ze.stop)))},mute:function(t){if(this.isMuted!=t){this.isMuted=t,this.c_vol=t?0:this.c_manual;for(var e=this.numSounds;-1<--e;)this.base[e].event_update_volume()}},event_pause:function(t){for(var e=this.numSounds;-1<--e;)this.base[e].event_pause(t)},get_vol:function(){return this.c_manual},set_vol:function(t){if(1<t?t=1:t<0&&(t=0),t!=this.c_vol){this.c_vol=this.c_manual=t;for(var e=this.numSounds;-1<--e;)this.base[e].event_update_volume()}return t},get_fadeTime:function(){return this.fade},set_fadeTime:function(t){return 10<t?t=10:t<0&&(t=0),this.fade=t},__class__:ve,__properties__:{set_fadeTime:"set_fadeTime",get_fadeTime:"get_fadeTime",set_vol:"set_vol",get_vol:"get_vol"}};var ge=function(t,e,s,i,n,r,a,_){this.isRand=t,this.c_from=e,this.c_to=s,this.c_name=i,this.c_vol=n,this.c_chan=r,this.c_func=a,this.c_args=_};ge.__name__=["playware","media","SoundPreset"],ge.prototype={play:function(){var t,e,s,i,n,r;this.isRand?(t=this.c_from,e=this.c_to,s=this.c_vol,i=this.c_chan,n=this.c_func,r=this.c_args,N.play(this.c_name+(z.geti()%(e+1-t)+t),s,!1,i,n,r)):N.play(this.c_name,this.c_vol,!1,this.c_chan,this.c_func,this.c_args)},__class__:ge};var we=function(t,e){null==e&&(e=.6),null==t&&(t=0),j.call(this,e),this.rect=new f(t,m.WIDTH,m.HEIGHT)};function be(t,e,s,i,n,r,a){null==a&&(a=0),null==r&&(r=0),null==n&&(n=1),null==i&&(i=1),null==s&&(s=0),null==e&&(e=0),d.call(this,e,s,i,n,r,a),this.c_graphics=t,this.c_enabled=!0,null!=t&&(this.c_w=t.c_w,this.c_h=t.c_h,t.c_x=t.c_pivotX=.5*this.c_w,t.c_y=t.c_pivotY=.5*this.c_h,t.apply_transform(),t.get_onVisChange().on(De(this,this.update_size),0),this.update_bounds()),this.sound_channel=Ee.sound_channel,this.sound_onTouchBegin=Ee.sound_onTouchBegin,this.sound_onTouchOver=Ee.sound_onTouchOver,this.sound_onTouchEnd=Ee.sound_onTouchEnd,this.scale_onTouchBegin=Ee.scale_onTouchBegin,this.scale_onTouchOver=Ee.scale_onTouchOver}function ye(t,e,s,i,n,r,a,_,o){null==o&&(o=1),null==_&&(_=1),null==a&&(a=0),null==r&&(r=0),this.c_container=new fe(t),this.c_func=e,this.c_args=s,this.c_texture_normal=t,this.c_texture_over=i,this.c_texture_touch=n,be.call(this,this.c_container,r,a,_,o,this.c_texture_normal.pivotX,this.c_texture_normal.pivotY)}function xe(t,e,s,i,n,r,a,_,o,h,c){null==c&&(c=0),null==h&&(h=0),null==o&&(o=1),null==_&&(_=1),null==a&&(a=0),null==r&&(r=0),this.c_container=new fe(t),this.c_func=s,this.c_args_on=i,this.c_args_off=n,this.c_texture_on=t,this.c_texture_off=e,this.c_state=!0,be.call(this,this.c_container,r,a,_,o,h,c)}function Te(t,e,s,i,n,r,a,_,o,h){null==h&&(h=0),null==o&&(o=0),null==_&&(_=1),null==a&&(a=1),null==r&&(r=0),null==n&&(n=0),null==s&&(s=!1),i=null==i?s?2:0:i,i=N.base_channels[i],xe.call(this,t,e,N.muteChannels,[!1],[!0],n,r,a,_,o,h),this.set_state(!i.isMuted)}we.__name__=["playware","transitions","Fade"],we.__super__=j,we.prototype=s(j.prototype,{start_in:function(){this.rect.set_alpha(0),m.root.addChild(this.rect)},start_out:function(){this.rect.set_alpha(1),m.root.addChild(this.rect)},complete_in:function(){m.root.removeChild(this.rect)},complete_out:function(){m.root.removeChild(this.rect)},update_in:function(t){this.rect.set_alpha(this.progress)},update_out:function(t){this.rect.set_alpha(1-this.progress)},__class__:we}),be.__name__=["playware","ui","Clickable"],be.__super__=d,be.prototype=s(d.prototype,{draw:function(t){null!=this.c_graphics&&this.c_graphics.render(t,0,0)},render:function(t,e,s){d.prototype.render.call(this,t,e,s)},update_size:function(){this.c_w=this.c_graphics.c_w,this.c_h=this.c_graphics.c_h,this.update_bounds()},event_touch_begin:function(){var t,e;this.c_enabled&&(this.isTouched||(this.isTouched=!0,this.button_begin(),null!=this.c_graphics&&(t=this.c_graphics,e=m.ticker,E.create_tween(t,t,e,!0,!0).tween(.1,{scaleX:this.scale_onTouchBegin,scaleY:this.scale_onTouchBegin})),N.play(this.sound_onTouchBegin,1,!1,this.sound_channel)))},event_touch_over:function(){var t,e;this.c_enabled&&(this.isOver||(this.isOver=!0,null!=this.e_over&&this.e_over.dispatch(!1,!1),this.button_over(),null!=this.c_graphics&&(t=this.c_graphics,e=m.ticker,E.create_tween(t,t,e,!0,!0).tween(.1,{scaleX:this.scale_onTouchOver,scaleY:this.scale_onTouchOver})),N.play(this.sound_onTouchOver,1,!1,this.sound_channel)))},event_touch_out:function(){var t,e;this.isOver&&(this.isOver=this.isTouched=!1,null!=this.e_out&&this.e_out.dispatch(!1,!1),this.button_out(),null!=this.c_graphics&&(t=this.c_graphics,e=m.ticker,E.create_tween(t,t,e,!0,!0).tween(.4,{scaleX:1,scaleY:1},l.bounce_o)))},event_touch_end:function(){var t,e;this.isTouched&&(this.isTouched=this.isOver=!1,null!=this.e_out&&this.e_out.dispatch(!1,!1),this.button_end(),this.button_out(),null!=this.c_graphics&&(t=this.c_graphics,e=m.ticker,E.create_tween(t,t,e,!0,!0).tween(.25,{scaleX:1,scaleY:1},l.elas_o)),N.play(this.sound_onTouchEnd,1,!1,this.sound_channel))},button_begin:function(){},button_over:function(){},button_out:function(){},button_end:function(){null!=this.e_touch_end&&this.e_touch_end.dispatch(!1,!1)},set_isEnabled:function(t){return this.c_graphics.set_alpha(t?1:.25),this.c_enabled=t},__class__:be,__properties__:s(d.prototype.__properties__,{set_isEnabled:"set_isEnabled"})}),ye.__name__=["playware","ui","Button"],ye.__super__=be,ye.prototype=s(be.prototype,{button_begin:function(){null!=this.c_texture_touch&&this.c_container.set_texture(this.c_texture_touch)},button_over:function(){null!=this.c_texture_over&&this.c_container.set_texture(this.c_texture_over)},button_end:function(){this.c_container.set_texture(this.c_texture_normal),D.callMethod(this.c_func,this.c_args)},button_out:function(){this.c_container.set_texture(this.c_texture_normal)},__class__:ye}),xe.__name__=["playware","ui","ButtonSwitch"],xe.__super__=be,xe.prototype=s(be.prototype,{button_end:function(){this.set_state(!this.c_state),D.callMethod(this.c_func,this.c_state?this.c_args_on:this.c_args_off)},set_state:function(t){return t!=this.c_state&&(this.c_state=t,null==this.c_texture_off?this.c_container.set_alpha(t?1:.5):this.c_container.set_texture(t?this.c_texture_on:this.c_texture_off)),t},__class__:xe,__properties__:s(be.prototype.__properties__,{set_state:"set_state"})}),Te.__name__=["playware","ui","SwitchChannelMute"],Te.__super__=xe,Te.prototype=s(xe.prototype,{__class__:Te});var Ee=function(){};Ee.__name__=["playware","ui","UISettings"];var Ae=function(){F.call(this)};Ae.__name__=["screens","Cutscene"],Ae.__super__=F,Ae.prototype=s(F.prototype,{onPrecache:function(){var t=this;this.show_cutscene=T.showCutscene,this.show_cutscene&&(T.showCutscene=!1,T.progress_save());var e=T.gfx;T.returnToSelectScreen=!0,this.curr_state=0;var s=new P(L.getTexture("mainmenu_bg"));this.addChild(s);s=new P(L.getTexture("papyrus"),24,54);this.addChild(s),this.obj_text=new G("game_font","",p.CENTER,500,62,!0,null,150,90),this.obj_text.set_isTyping(!0),this.addChild(this.obj_text),this.obj_cuts=new A(e.getAnimation("cut_0",!0,"0"),!0,null,140,80),this.obj_cuts.addAnim(e.getAnimation("cut_1",!0,"1")),this.obj_cuts.addAnim(e.getAnimation("cut_2",!0,"2")),this.obj_cuts.addAnim(e.getAnimation("cut_3",!0,"3")),this.addChild(this.obj_cuts);s=new ye(e.getTexture("btn_next"),function(){t.curr_state++,t.curr_state<4?t.update_state():m.setScreen(t.show_cutscene?"GameScreen":"MainMenu")},null,null,null,526,404);this.addChild(s);s=new ye(e.getTexture("btn_skip"),m.setScreen,[this.show_cutscene?"GameScreen":"MainMenu"],null,null,333,404);this.addChild(s);e=new ye(e.getTexture("btn_prev"),function(){0<t.curr_state&&(t.curr_state--,t.update_state())},null,null,null,140,404);this.addChild(e),this.update_state(),this.c_elapsed=0,this.c_total=11,this.get_onDispose().on(function(){N.stopChannel(3)})},onUpdate:function(t){this.c_elapsed+=t,this.c_elapsed>=this.c_total&&(this.curr_state++,this.update_state(),this.c_elapsed=0,this.c_total=this.getTimer())},update_state:function(){3<this.curr_state&&m.setScreen(this.show_cutscene?"GameScreen":"MainMenu"),this.c_elapsed=0,this.c_total=this.getTimer(),this.obj_text.set_y(this.getTextY()),this.obj_text.set_text(this.getTextContent()),this.obj_cuts.setAnim(""+this.curr_state,!0),3==this.curr_state?N.stopChannel(3):N.play("cut_"+this.curr_state,1,!1,3)},getTimer:function(){switch(this.curr_state){case 0:return 11;case 1:return 9;case 2:return 5;case 3:return 10;default:return 666}},getTextY:function(){switch(this.curr_state){case 0:return 95;case 1:return 307;case 2:return 68;default:return 84}},getTextContent:function(){switch(this.curr_state){case 1:return"it is up to you to help the people of egypt learn the\nwonders contained within the library's scrolls.";case 2:return"you will face many challenges along the way...";case 3:return"but will surely overcome them to set forth\na new...";default:return"eratosthenes, you have been appointed the third\nchief librarian of the great library of alexandria!"}},__class__:Ae});var Se=function(){F.call(this)};Se.__name__=["screens","EndGame"],Se.__super__=F,Se.prototype=s(F.prototype,{onPrecache:function(){var t=T.gfx,e=new P(L.getTexture("mainmenu_bg"));this.addChild(e);e=new P(L.getTexture("papyrus"),24,54);this.addChild(e);e=new A(t.getAnimation("cut_end"),!0,null,140,80);this.addChild(e);var s=new G("game_font","",p.CENTER,380,20,!0,null,210,82);s.set_isTyping(!0),this.addChild(s);var i=new G("game_font","",p.CENTER,540,62,!0,null,133,330);i.set_isTyping(!0),this.addChild(i);new B(.5,0,function(){s.get_onTypingComplete().on(function(){i.set_text("you have successfully spread wonderful and\nancient knowledge throughout the land!")}),s.set_text("congratulations eratosthenes!")},null,!0,null,!0,!0);t=new ye(t.getTexture("btn_next"),function(){T.returnToSelectScreen=!1,m.setScreen("MainMenu")},null,null,null,330,402);this.addChild(t),N.play("cut_end",1,!1,3),this.get_onDispose().on(function(){N.stopChannel(3)})},__class__:Se});var Ce=function(){F.call(this)};Ce.__name__=["screens","GameScreen"],Ce.__super__=F,Ce.prototype=s(F.prototype,{onPrecache:function(){var t=this,e=T.gfx,s=T.curr_episode,i=T.curr_level;this.is_game_over=!1;var n=T.returnToPlayerPosition;this.num_lives=3,this.c_time=90;var r=new P(L.getTexture("ep_"+s));this.addChild(r),this.scene=new J(L.getString("ep_"+s,!1),De(this,this.free_controls),De(this,this.end_game)),this.addChild(this.scene),(1==s&&6==i||2==s&&0==i)&&(a=new P(e.getTexture("tip_0"),238),this.addChild(a));r=new Te(e.getTexture("btn_music_on"),e.getTexture("btn_music_off"),!0,null,55,14);this.addChild(r);var a=new ye(e.getTexture("btn_ui_pause"),function(){t.ui_host.set("pause")},null,null,null,8,168);this.addChild(a);r=new ye(e.getTexture("btn_ui_stats"),w.showStats,null,null,null,8,98);this.addChild(r),this.ui_scrolls=[];for(var _=-1;++_<3;){var o=new P(e.getTexture("ui_scroll"),78,363+36*_);this.addChild(o),this.ui_scrolls[_]=o}this.counter=new P(e.getTexture("ui_3"),55,308),this.addChild(this.counter);a=new P(e.getTexture("question_bg"),500,422);this.addChild(a),this.ui_working=new A(e.getAnimation("ui_working"),!1,null,500,428),this.ui_working.set_isVisible(!1),this.addChild(this.ui_working),this.ui_question=w.getQuestionGraphics(490,54),this.ui_question.pos(500,428),this.addChild(this.ui_question),this.ui_answers=[];for(var h=-1;++h<4;){var c=new W(e.getTexture("answer_bg"),De(this,this.answer_question),h,334+110*h,484);this.addChild(c),this.ui_answers[h]=c}this.answer_effect=new A(e.getAnimation("correct_0"),!0,null,268,402);r=this.answer_effect.timeline;r.c_play=!1,r.set_currentFrame(r.numFrames-1),this.answer_effect.set_isTouchable(!1),this.addChild(this.answer_effect);for(var l=-1;++l<4;)0!=l&&this.answer_effect.addAnim(e.getAnimation("correct_"+l)),this.answer_effect.addAnim(e.getAnimation("wrong_"+l));this.ui_host=new Oe,this.addChild(this.ui_host);a=new Re(!0,!0);this.ui_host.add("pause",a);r=new P(e.getTexture("pause_bg"),320,52);a.addChild(r);r=new ye(e.getTexture("pause_resume"),function(){t.ui_host.set("AAA")},null,null,null,456,134);a.addChild(r);r=new ye(e.getTexture("pause_retry"),function(){T.returnToPlayerPosition=!1,m.setScreen("GameScreen")},null,null,null,456,220);a.addChild(r);r=new ye(e.getTexture("pause_changeskill"),w.selectSkill,null,null,null,456,310);a.addChild(r);r=new ye(e.getTexture("pause_menu"),function(){T.returnToSelectScreen=!0,m.setScreen("MainMenu")},null,null,null,456,402);a.addChild(r);a=new Re(!0,!0);this.ui_host.add("lose",a);r=new P(e.getTexture("lost_bg"),480,200);a.addChild(r);r=new P(e.getTexture("fail_fact_"+z.geti()%3),480,240);a.addChild(r);r=new ye(e.getTexture("pause_menu"),function(){T.returnToSelectScreen=!0,m.setScreen("MainMenu")},null,null,null,384,332);a.addChild(r);r=new ye(e.getTexture("btn_playagain"),m.setScreen,["GameScreen"],null,null,576,337);a.addChild(r);a=new Re(!0,!0);this.ui_host.add("win",a);r=new P(e.getTexture("win_bg"),480,200);a.addChild(r);r=new G("game_font",u.getRandFact(),p.CENTER,480,133,!0,null,300,236,.75,.75);r.set_isTouchable(!1),a.addChild(r);r=new ye(e.getTexture("pause_retry"),function(){T.returnToPlayerPosition=!1,m.setScreen("GameScreen")},null,null,null,370,370);a.addChild(r);r=new ye(e.getTexture("win_next"),De(this,this.next_level),null,null,null,588,370);a.addChild(r),this.stars=new A(e.getAnimation("win_1"),!0,null,350,96);r=this.stars.timeline;r.c_play=!1,r.set_currentFrame(0),this.stars.addAnim(e.getAnimation("win_2")),this.stars.addAnim(e.getAnimation("win_3")),a.addChild(this.stars),this.stars.getAnim("win_1",!1).timeline.addFrameSound(14,"ankh");a=this.stars.getAnim("win_2",!1);a.timeline.addFrameSound(14,"ankh"),a.timeline.addFrameSound(24,"ankh");a=this.stars.getAnim("win_3",!1);a.timeline.addFrameSound(14,"ankh"),a.timeline.addFrameSound(24,"ankh"),a.timeline.addFrameSound(34,"ankh");i=new G("game_font","level "+(s+1)+"-"+(i+1),p.CENTER,118,40,!1,null,172,474);i.set_isTouchable(!1),this.addChild(i),this.txt_timer=new G("game_font","",p.CENTER,84,40,!1,null,708,474),this.txt_timer.set_isTouchable(!1),this.addChild(this.txt_timer),new B(1,-1,De(this,this.on_timer),null,!1,null,!0,!0),w.getQuestion(),n&&this.controls_state(!1),this.c_timer_available=!n,N.play("ep"+s,.5,!0,2,null,null),this.get_onDispose().on(function(){N.stopChannel(3)})},on_timer:function(){var t,e;this.c_timer_available&&(this.c_time--,this.c_time<=0&&(this.c_time=90,this.scene.answer_question(!1),this.answer_effect.setAnim("wrong_3",!1),this.decrease_lives()),70!=this.c_time&&40!=this.c_time||this.scene.talk(!1,null),t=this.c_time/60|0,e=60<=this.c_time?this.c_time-60:this.c_time,this.txt_timer.set_text(t+":"+(e<10?"0":"")+e))},answer_question:function(t){this.controls_state(!1);t=w.answerQuestion(t);this.scene.answer_question(t),t||this.decrease_lives(),this.answer_effect.setAnim(t?"correct_"+z.geti()%4:"wrong_"+z.geti()%3,!1),this.c_time=90},controls_state:function(t){this.c_timer_available=t;for(var e=-1;++e<4;)this.ui_answers[e].available(t);this.ui_question.set_isVisible(t),this.ui_working.set_isVisible(!t)},free_controls:function(){this.is_game_over?this.end_game(!1):this.controls_state(!0)},decrease_lives:function(){if(0<this.num_lives){this.num_lives--,this.counter.set_texture(T.gfx.getTexture("ui_"+this.num_lives));for(var t=-1;++t<3;)this.ui_scrolls[t].set_isVisible(t<this.num_lives);0==this.num_lives&&(this.is_game_over=!0)}},end_game:function(t){var e=this;this.ui_host.set(t?"win":"lose"),t?new B(.5,0,function(){e.stars.setAnim("win_"+e.num_lives,!1)},null,!0,null,!0,!0):N.play("fail",.5,!1,2,null,null)},next_level:function(){var t=T.curr_level+1,e=T.curr_episode,s=e+1;7<t?(T.complete[e]=!0,T.progress[e]=0,s<4&&-1==T.progress[s]&&(T.progress[s]=0),T.progress_save(),T.returnToSelectScreen=!0,m.setScreen(3==e?"EndGame":"MainMenu"),3!=e&&w.showStats()):(T.curr_level=t,T.progress[e]=t,T.progress_save(),m.setScreen("GameScreen"))},__class__:Ce});var ke=function(){F.call(this)};ke.__name__=["screens","MainMenu"],ke.__super__=F,ke.prototype=s(F.prototype,{onPrecache:function(){var s=this;this.show_cutscene=T.showCutscene;var t=T.progress,e=T.complete,i=new P(L.getTexture("mainmenu_bg"));this.addChild(i);var n=T.gfx,r=new P(n.getTexture("logo"),400,96,.9,.9,!0);this.addChild(r);i=new Te(n.getTexture("btn_music_on"),n.getTexture("btn_music_off"),!0,null,725,58);this.addChild(i),this.ui=new Oe,this.addChild(this.ui),this.menu_pointer=new A(n.getAnimation("menu_pointer"),!0),this.menu_pointer.set_isVisible(!1),this.addChild(this.menu_pointer);r=new Re(!1,!1);this.ui.add("main",r);i=new ye(n.getTexture("btn_play"),function(){s.ui.set("chapters")},null,null,null,315,202);i.get_onOver().on(function(){s.show_pointer(484,380,0)}),i.get_onOut().on(De(this,this.hide_pointer)),r.addChild(i);i=new ye(n.getTexture("btn_stats"),w.showStats,null,null,null,66,355);i.get_onOver().on(function(){s.show_pointer(234,410,0)}),i.get_onOut().on(De(this,this.hide_pointer)),r.addChild(i);i=new ye(n.getTexture("btn_skills"),w.showAvailableStandards,null,null,null,565,355);i.get_onOver().on(function(){s.show_pointer(733,410,0)}),i.get_onOut().on(De(this,this.hide_pointer)),r.addChild(i);i=new ye(n.getTexture("btn_credits"),function(){s.ui.set("credits")},null,null,null,15,58);i.get_onOver().on(function(){s.show_pointer(103,82,0)}),i.get_onOut().on(De(this,this.hide_pointer)),r.addChild(i);r=new Re(!1,!1);this.ui.add("credits",r);i=new ye(n.getTexture("btn_back"),function(){s.ui.set("main")},null,null,null,80,82);i.get_onOver().on(function(){s.show_pointer(134,80,0)}),i.get_onOut().on(De(this,this.hide_pointer)),r.addChild(i);i=new P(L.getTexture("papyrus"),116,198,.76,.64,!1);r.addChild(i);i=new P(n.getTexture("credits_0"),227,322);r.addChild(i);i=new P(n.getTexture("credits_1"),332,322);r.addChild(i);i=new P(n.getTexture("credits_2"),447,322);r.addChild(i);i=new P(n.getTexture("credits_3"),562,322);r.addChild(i);var a=new Re(!1,!1);this.ui.add("chapters",a);i=new ye(n.getTexture("btn_back"),function(){s.ui.set("main")},null,null,null,80,82);i.get_onOver().on(function(){s.show_pointer(134,80,0)}),i.get_onOut().on(De(this,this.hide_pointer)),a.addChild(i);i=new ye(n.getTexture("btn_erase"),function(){s.ui_erase.set_alpha(0),s.addChild(s.ui_erase);var t=s.ui_erase,e=m.ticker;E.create_tween(t,t,e,!0,!0).tween(.4,{alpha:1})},null,null,null,630,58);a.addChild(i);i=new ye(n.getTexture("talk_spawn_body_0"),m.setScreen,["Cutscene"],null,null,47,180);i.get_onOver().on(function(){s.show_pointer(50,165,0)}),i.get_onOut().on(De(this,this.hide_pointer)),this.show_cutscene||a.addChild(i);var _=[],i=new ye(n.getTexture("btn_ep_0"),De(this,this.select_episode),[0],null,null,16,204);i.get_onOver().on(function(){s.show_pointer(176,320,0)}),i.get_onOut().on(De(this,this.hide_pointer)),a.addChild(i),_[0]=i;i=new ye(n.getTexture("btn_ep_1"),De(this,this.select_episode),[1],null,null,216,204);i.get_onOver().on(function(){s.show_pointer(376,320,0)}),i.get_onOut().on(De(this,this.hide_pointer)),a.addChild(i),_[1]=i;i=new ye(n.getTexture("btn_ep_2"),De(this,this.select_episode),[2],null,null,416,204);i.get_onOver().on(function(){s.show_pointer(424,328,180)}),i.get_onOut().on(De(this,this.hide_pointer)),a.addChild(i),_[2]=i;i=new ye(n.getTexture("btn_ep_3"),De(this,this.select_episode),[3],null,null,616,204);i.get_onOver().on(function(){s.show_pointer(624,328,180)}),i.get_onOut().on(De(this,this.hide_pointer)),a.addChild(i),_[3]=i;for(var o,h=-1;++h<4;)e[h]&&((o=new P(n.getTexture("ui_complete"),104+200*h,214)).set_isTouchable(!1),a.addChild(o)),-1==t[h]&&(o=new P(n.getTexture("ui_locked"),102+200*h,288),a.addChild(o),_[h].set_isEnabled(!1));this.ui_erase=new c;i=new f(0,m.WIDTH,m.HEIGHT);i.set_alpha(.75),this.ui_erase.addChild(i);i=new P(n.getTexture("erase_dialog_bg"),400,200);this.ui_erase.addChild(i);i=new ye(n.getTexture("btn_delete"),De(this,this.clear_progress),null,null,null,310,280);this.ui_erase.addChild(i);i=new ye(n.getTexture("btn_cancel"),function(){var t=s.ui_erase,e=m.ticker;E.create_tween(t,t,e,!0,!0).tween(.2,{alpha:0}).onComplete(function(){s.removeChild(s.ui_erase)})},null,null,null,490,280);this.ui_erase.addChild(i),this.ui.set(T.returnToSelectScreen?"chapters":"main"),N.play("main",.5,!0,2,null,null)},show_pointer:function(t,e,s){this.menu_pointer.pos(t,e),this.menu_pointer.set_deg(s);s=this.menu_pointer.timeline;s.set_currentFrame(0),s.playFrom(0,s.numFrames-1,!1),this.menu_pointer.set_isVisible(!0)},hide_pointer:function(){this.menu_pointer.set_isVisible(!1)},clear_progress:function(){T.progress_clear(),T.returnToSelectScreen=!0,m.setScreen("MainMenu")},select_episode:function(t){T.curr_episode=t,T.curr_level=T.progress[t],w.selectSkill(m.setScreen,[this.show_cutscene?"Cutscene":"GameScreen"])},__class__:ke});var Oe=function(){c.call(this),this.c_started=!1,this.base_layer=new pt,this.curr_layer=null,this.overlay=new f(0,m.WIDTH,m.HEIGHT),this.overlay.set_alpha(0),this.overlay.set_isVisible(!1),this.addChild(this.overlay),this.get_onDispose().on(De(this,this.dispose_layers))};Oe.__name__=["ui","UIHost"],Oe.__super__=c,Oe.prototype=s(c.prototype,{add:function(t,e){var s=(e.host=this).base_layer;null!=Ye[t]?s.setReserved(t,e):s.h[t]=e},set:function(t){var e=this,s=this.base_layer,i=null!=Ye[t]?s.getReserved(t):s.h[t];null!=this.curr_layer?this.curr_layer.outro(function(){e.removeChild(e.curr_layer),null!=i?e.intro_layer(i,0):e.deactivate()}):null==i?this.deactivate():this.intro_layer(i,this.c_started?0:.75),null!=this.e_change&&this.e_change.dispatch(!1,!1)},deactivate:function(){m.pause(!1),this.overlay.set_isVisible(!1)},intro_layer:function(t,e){this.c_started=!0,this.curr_layer=t,this.overlay.set_isVisible(this.curr_layer.use_overlay),this.overlay.set_alpha(e),this.curr_layer.pause_game&&m.pause(!0);t=this.overlay,e=m.ticker;E.create_tween(t,t,e,!0,!0).tween(.2,{alpha:.75}),this.addChild(this.curr_layer),this.curr_layer.pause_game?this.curr_layer.intro():this.curr_layer.intro(m.pause,[!1])},dispose_layers:function(){for(var t=this.base_layer.keys();t.hasNext();){var e=t.next(),s=this.base_layer;(null!=Ye[e]?s.getReserved(e):s.h[e]).dispose()}this.base_layer=null,m.pause(!1)},__class__:Oe});var Re=function(t,e){c.call(this),this.use_overlay=t,this.pause_game=e};Re.__name__=["ui","UILayer"],Re.__super__=c,Re.prototype=s(c.prototype,{intro:function(t,e){var s=this;this.host.set_isTouchable(!1),this.set_alpha(0);var i=m.ticker;E.create_tween(this,this,i,!0,!0).tween(.5,{alpha:1}).onComplete(function(){D.callMethod(t,e),s.host.set_isTouchable(!0)})},outro:function(t,e){var s=this;this.host.set_isTouchable(!1);var i=m.ticker;E.create_tween(this,this,i,!0,!0).tween(.5,{alpha:0}).onComplete(function(){D.callMethod(t,e),s.host.set_isTouchable(!0)})},__class__:Re});var ze,Ie=0;function De(t,e){return null==e?null:(null==e.__id__&&(e.__id__=Ie++),null==t.hx__closures__?t.hx__closures__={}:s=t.hx__closures__[e.__id__],null==s&&((s=function(){return s.method.apply(s.scope,arguments)}).scope=t,s.method=e,t.hx__closures__[e.__id__]=s),s);var s}String.prototype.__class__=String,String.__name__=["String"],Array.__name__=["Array"],Date.prototype.__class__=Date,Date.__name__=["Date"];var Le={__name__:["Int"]},Ne={__name__:["Dynamic"]},Fe=Number;Fe.__name__=["Float"];var Me=Boolean;Me.__ename__=["Bool"];var Pe={__name__:["Class"]},He={},Ye={};T.returnToSelectScreen=!1,T.returnToPlayerPosition=!0,T.showCutscene=!0,T.curr_episode=0,T.curr_level=0,T.progress=[0,-1,-1,-1],T.complete=[!1,!1,!1,!1],n.count=0,E.g_base=new n,m.onStarted=new o,m.onActivate=new o,m.onDeactivate=new o,m.onResize=new o,m.onExit=new o,m.onPause=new o,m.onResume=new o,m.isRunning=!1,m.isActive=!0,m.isPaused=!1,m.WIDTH=0,m.HEIGHT=0,m.MIN_WIDTH=0,m.MIN_HEIGHT=0,m.CURRENT_WIDTH=0,m.CURRENT_HEIGHT=0,m.TOP=0,m.BOTTOM=0,m.LEFT=0,m.RIGHT=0,w.isStarted=!1,w.isSkillSelected=!1,w.isSessionStarted=!1,w.hasQuestion=!1,w.question_color=[0,0,0,0],w.answer_colors=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],L.base_packs=new pt,L.base_textures=new pt,L.base_string=new pt,L.base_sounds=new pt,N.numChannels=0,V.Element=0,V.PCData=1,V.CData=2,V.Comment=3,V.DocType=4,V.ProcessingInstruction=5,V.Document=6,J.g_point=new $,xt.escapes=(t=new pt,null!=Ye.lt?t.setReserved("lt","<"):t.h.lt="<",null!=Ye.gt?t.setReserved("gt",">"):t.h.gt=">",null!=Ye.amp?t.setReserved("amp","&"):t.h.amp="&",null!=Ye.quot?t.setReserved("quot",'"'):t.h.quot='"',null!=Ye.apos?t.setReserved("apos","'"):t.h.apos="'",t),Et.__toStr={}.toString,Pt.refCount=0,Vt.vendors=["webkit","moz","ms","o","khtml"],Vt.hideBrowser=!1,qt.globalDelta=0,qt.numTickers=0,qt.g_coef=1,qt.g_curr=0,qt.g_prev=0,qt.g_base=[],Ee.sound_channel=0,Ee.sound_onTouchBegin="button_begin",Ee.sound_onTouchOver="button_over",Ee.sound_onTouchEnd="button_end",Ee.scale_onTouchBegin=.9,Ee.scale_onTouchOver=1.1,T.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);